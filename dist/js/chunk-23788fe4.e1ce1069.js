(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23788fe4"],{"150f":function(t,e,i){"use strict";var s=i("3fcd"),a=i.n(s);a.a},"27a7":function(t,e,i){"use strict";var s=i("b538"),a=i.n(s);a.a},"3fcd":function(t,e,i){},a3ab:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page",staticStyle:{"background-color":"#F7F7F7"}},[i("div",{staticClass:"divSetPwd"},[i("div",{staticStyle:{"background-color":"#FFF",height:"310px"}},[t._m(0),i("div",{staticClass:"divCode"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.realName,expression:"realName"}],attrs:{placeholder:"请输入您的真实姓名",autocomplete:"off"},domProps:{value:t.realName},on:{input:function(e){e.target.composing||(t.realName=e.target.value)}}})]),i("div",{staticClass:"divCode"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.idCard,expression:"idCard"}],attrs:{type:"tel",maxlength:"18",placeholder:"请输入 18 位身份证号",autocomplete:"off"},domProps:{value:t.idCard},on:{input:function(e){e.target.composing||(t.idCard=e.target.value)}}})]),i("div",{staticClass:"divTip1"},[t._v("身份证绑定后将无法修改，请确认与本人微信绑定的身份证号一致")])]),i("van-button",{staticClass:"btnLogin",attrs:{color:"#FF6B88",disabled:!t.verifyOld,block:""},on:{click:t.submitVerify}},[t._v("确定")])],1),i("van-popup",{style:{height:"100%"},attrs:{position:"bottom"},model:{value:t.showSetPwd,callback:function(e){t.showSetPwd=e},expression:"showSetPwd"}},[i("vue-transaction-pwd",{ref:"transactionPwd",attrs:{proIdCard:t.idCard,proRealName:t.realName}})],1)],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"divTip"},[i("div",{staticClass:"divTitle"},[t._v("实名身份验证")]),i("div",{staticClass:"divContent"},[t._v("为保护账户安全，需要验证身份信息")])])}],n=(i("e7e5"),i("d399")),r=(i("e17f"),i("2241")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page",staticStyle:{"background-color":"#F7F7F7"}},[i("div",{staticClass:"divSetPwd"},[i("div",{staticStyle:{height:"310px"}},[i("div",{staticClass:"divTip"},[i("div",{staticClass:"divTitle"},[t._v(t._s(t.title))]),i("div",{staticClass:"divContent"},[t._v(t._s(t.tip))])]),1==t.stepFrequency?i("div",{staticStyle:{"margin-top":"60px"}},[i("van-password-input",{attrs:{value:t.password,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}})],1):t._e(),2==t.stepFrequency?i("div",{staticStyle:{"margin-top":"60px"}},[i("van-password-input",{attrs:{value:t.confirmPwd,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}})],1):t._e()]),i("van-button",{staticClass:"btnLogin",attrs:{color:"#FF6B88",disabled:t.disabled,block:""},on:{click:t.setRealAuth}},[t._v("确定")])],1),i("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete,blur:function(e){t.showKeyboard=!1}}}),i("van-overlay",{attrs:{show:t.showOverlay}},[i("div",{staticClass:"wrapper",style:{height:t.height}},[i("van-loading",{attrs:{size:"24px",vertical:"",color:"#FFF"}},[i("font",{attrs:{color:"#FFF"}},[t._v("设置中...")])],1)],1)])],1)},d=[],c=i("ddb5"),l={name:"transactionPwd",props:{proIdCard:{type:String,default:""},proRealName:{type:String,default:""}},data:function(){return{height:window.innerHeight+"px",title:"交易密码",tip:"请输入 6 位密码",realName:"",idCard:"",stepFrequency:1,password:"",confirmPwd:"",showKeyboard:!0,disabled:!0,showOverlay:!1}},methods:{setParams:function(t,e){this.realName=t,this.idCard=e},onInput:function(t){1==this.stepFrequency?this.password=(this.password+t).slice(0,6):2==this.stepFrequency&&(this.confirmPwd=(this.confirmPwd+t).slice(0,6))},onDelete:function(){1==this.stepFrequency?this.password=this.password.slice(0,this.password.length-1):2==this.stepFrequency&&(this.confirmPwd=this.confirmPwd.slice(0,this.confirmPwd.length-1))},setRealAuth:function(t){var e=this,i={realName:this.realName,idCard:this.idCard,tradePwd:this.password};this.showOverlay=!0,c["f"](i).then((function(t){200==t.code&&(Object(n["a"])(t.msg),e.showOverlay=!1,e.$router.push("/myProfile"))})).catch((function(t){e.showOverlay=!1}))}},mounted:function(){this.realName=this.proRealName,this.idCard=this.proIdCard},watch:{password:function(t,e){6==t.length&&(this.stepFrequency=2,this.title="请再次输入",this.tip="请输入 6 位确认密码")},confirmPwd:function(t,e){6==t.length&&(this.password===t?(this.disabled=!1,this.showKeyboard=!1):(this.stepFrequency=1,this.disabled=!0,this.password="",this.confirmPwd="",this.title="交易密码",this.tip="请输入 6 位密码",Object(n["a"])("两次密码不同，请重新输入。"))),this.password!=t&&(this.disabled=!0)}}},u=l,h=(i("150f"),i("2877")),p=Object(h["a"])(u,o,d,!1,null,"f3adef08",null),f=p.exports,v={name:"identityAuth",data:function(){return{realName:"",idCard:"",showSetPwd:!1}},components:{"vue-transaction-pwd":f},computed:{verifyOld:function(){return this.realName&&this.idCard},verifyIDCode:function(){return!/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(this.idCard)}},methods:{submitVerify:function(t){this.verifyIDCode?r["a"].alert({message:"身份证 格式不正确。"}):(this.showSetPwd=!0,Object(n["a"])("设置交易密码"),void 0!=this.$refs.transactionPwd&&this.$refs.transactionPwd.setParams(this.realName,this.idCard))}}},w=v,m=(i("27a7"),Object(h["a"])(w,s,a,!1,null,"a328cd6c",null));e["default"]=m.exports},b538:function(t,e,i){},ddb5:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"e",(function(){return n})),i.d(e,"f",(function(){return r})),i.d(e,"d",(function(){return o})),i.d(e,"c",(function(){return d})),i.d(e,"b",(function(){return c}));var s=i("5724"),a=function(t){return s["a"].post("/api/client/sendcode/",t)},n=function(t){return s["a"].post("/api/client/checktel/",t)},r=function(t){return s["a"].post("/api/client/realauth/",t)},o=function(t){return s["a"].post("/api/client/changeTradePwd/",t)},d=function(t){return s["a"].post("/api/client/cashRequest/",t)},c=function(t){return s["a"].get("/api/client/billList/",t)}}}]);
//# sourceMappingURL=chunk-23788fe4.e1ce1069.js.map