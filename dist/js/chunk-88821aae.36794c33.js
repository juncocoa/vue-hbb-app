(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88821aae"],{"0b17":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAMAAABhEH5lAAAANlBMVEVHcEyVlZWZmZmYmJiSkpKZmZmampqZmZmZmZmcnJyYmJiZmZmZmZmYmJgAAACbm5uZmZmZmZnT/4EhAAAAEXRSTlMADH0vDuq/7awkQ/LXmgE9mQpy8FcAAABwSURBVBjTbVBbDsAgDKrP+lbuf9nNOReTlU9KCUA0kUbJuYxEG9HjhY+L6QynjVJGO3B/NIxg19EG8NR5hLYtWoC/neHs50rWIVGFpgMalQrMSRkUylAnpZAlSnj82Q8phBBVKiTUlsaZE9Y5YV0TXjIeBkKNqrdfAAAAAElFTkSuQmCC"},"21c3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAMAAAC4uKf/AAADAFBMVEVHcEz5epX2bYj+iqb/dpX/fX3/dI//gJ//c47/g6L4gZ73cYz9h6T4d5HwaIP5c4//Zo31bIf9iqb3bIn+iqb2b4v4bYn3cIv6fJj2cIv3bon5eZT8fJr2a4f3bon1bIf1bIj9hqP9hJ71bYj/h6X0bor2cIv7g575eJTzbob2a4j/gZ/+iKT5e5X2bYf+i6j+iqb8g5/5epb6e5X9hqH/eJb2bon9hKD4dJD+iaT8hKH3b4v2bor2cYz0a4T0aYP1a4b3dI/3dZD6fprlaYP/iqX4dpH8iaX4dpL6e5b3boz1bIf4co34dI/8haH4dZH8hqL3b4r7gZ38gp74dZD1boj+iqb8g5/7gp75hqH2bYnycob1bIf9iqX7gZz/i6f1bYj3dJD8fZn7f5v9iqb8h6L6e5f8gJv/jaf8f5v1bYj5fJb/g6L6fZn/k672cIz6fZr5epb/i6b+i6j3cIv8hJ/6e5f2bor3c4/7gp3+iqb4e5f/aYf2bYn3dI/4dZH1bYn2bYn9hqP3c478hqL8h6P9h6T8g5/6bor2bIb4dpL8gp78iKP8hKH6e5f7f5v+iaX1bYn9hqL3bYj1cIz8hJ/+h6T4fJf9h6P2dpP4dpH6gZ34dpH7g5/4dpL9iqb4dpL7gJ35d5P7gZ31bYj6fpn2boj6gJv5f5v/jqr9i6b6f5r6iab7gJv6gJv4d5P4eJT5eJX4d5P7gJz6gZv9iqf4eJP9iqf9iqb5eJT5epb2bYj3dJD+iqf9iaX5e5b0bIj/jKn3co79iab9i6j1bIb1bIf+i6f9h6T5fJj1bIb8h6b9iKT9iKT2bon2c4z2bor0Z4L8haH0Z4H9hqL3b4n9h6P8hqL4fJb2cYv2co31bon1bYj1b4r2cYz7haH0a4b2cIv9iqb6fZn3c471bIf4dZD7gJz5e5f0bIf5e5b1aoX4dZH4d5P8hKD3dI/6f5v5eJT8h6P0Z4L7gZ36fpr7gp70aYT9iKT9iaX3c4/5eZX2cIv4eZX8hqL2c495ws0QAAAA/HRSTlMANvz8AwEJCBAQFctrcyNOBe3tNoZKI/l0dCbLGP5P+v40G4URGOL8ThUbHjaGsbHhhbIm9RFqSoZKJreY4HTi4vnLywcYW7zuRyDhM8DgSphTy3P7W1tbvBO8E8627nFxui38+fztsE9Px3Eh+gn84OAmxvW38/5ri4vrEfWyi7SLwfazeNP4Laj++cfLl+904u6H71O3xMsN0ND0x4/0+I+n9I/HHjiHLY/hOLX4tfrH4adpy2mXp/z5+Pz5955HR8iFnp7z89+exFP14cF4ePir127Wf+/E7v///////////////////////////////v////////////62RbxrAAAHqUlEQVRo3rWad1gTZxzHf2Q1CCor2IKiLEHZiGw6FBEBUVoVcOOeKO69rcpjfZ667dLW0W3raB24ql3O7kUGycUEYkkCaNIEn5DeXaKCJpe73N33jzzJ3e/Nh/e99/2+v/dHAMiLn3lz8/C9+3/cmTJ1asrO4v2Lh2/ek8kH5lWZEbDhlqkFUxumOkw6VCkbktIETJIGeQ++ZEJ1e9MK74zQOZ6VPF6l55zQNO/lm4p1RqNxS5l3d2ZIz40azDWbuNuvZUQ4uh2RlvRulNEYVVb6HG1UpwA/s5k7blQ5UVB56eKoBw/GJ3WihQr75KDZ/PqEQa4ju7/2dn394ffD3O/VmSlmJCGWbHjs9Pqm4zvc6x3f2w/hnv2YSpNJpyY3jT/txmII/QpBxi2g2irzc4NhYCjFRj4ruEjiDHcGZOanhsnLfai0iFmITAmodO9JH/horvJoDPn4GX5I4mfuz+EP5yunzSQbfA1BEiLorJj+05XKOFKRvG+RixPoesHsuQ3XeSQcNwH54Rv6JjdkSUOyS3/2XIj4xQID8ljZsM/TRb8WIokLgBH1q7r3N2HfeAlIYhgwpLAqSzLRc/sW8VsAjKnfSstlojn/QywwKI8lFqcrYAZy8RtgVEPOP4x24lF+yARgWLMt0xw6l89CJIH5RCm5+YQjV16BJEYwD+tf1bzWwf7FnfIZsCCPL895PLMvf4UEACuK0wY/vXd7I4mV7MAEJ7VfP5Xb+CEz2GEBP1qb36fDlTPIOGBNX2h3dLCxKdwF7MH6VR/q2+7jJ+azwKI+aHyv3RM7iHzMJmxS9TtPctcANryjvdao0x+fU/zMsezCPNT5ufa3o8yvA8t6S51nfzfYPIFtWGd1hf1cyeUOYhvWfcSFSJtTmccB66rQL7ONomkUA9+W+/vewX8636PyrPg4Vl7iltNneW7HygfFTlOzMRc2Ynldhmk7A6w3jFidou5XpxFXrcOwFW26xgQLk063xWmimG7F1vUGUwZt1qsPjHYdcBYzzDoU3W5umSLoszBhLOfu0P/uRj5kmm7TZtVjwni6Pc7DcmqD4GbLJrqsJlwY7zUiM64tgc0tK+ixBhpQNRkwHBEL1tb+BMNbvOmxlKgMOPB5wshlsmzY25JBi9WASokDiVkgkmXB/haiGgl/SOc8IQEruOGRlC5YUCTzgh/b5hCY9QC1ujF/mLPbwmCL5R4qMiwokOXAX20EJ9+her1ar34l2jkLE4ZzyQKhbDektDnPhLe2tlqter3eMU0Y3GyxiwQLBIpFMLXNqZ3xu9bWWlG1Wl/p6oilxYUSH5JgAU8xjwgGRbW4UN6zNOGAaq1dzZ2BJCylzvkw8q/KZDIb8GmacEAjqupqjEiKhQ/jzjqCCVLQW6GQyXBit64dWXo1JgxIjgVCxT9QXEcw9SEQpaGSocj2NOGAVr1N6kaSLCiQ5sAbdYSFz8DeUlQ48QlN6IVPHGymqsmyoEjqBYt1aUBME0txnvQxDWU9mjitpFkgkmbBcJ0LIw58U4wLBXYLsbHsj7G2tvUF8jaaKs2Gzbrl4IomkUhsQIwm9FLYniPKo8CC9eKfYY/O5eYZWKiSSGzAbiFCL/ugojgqLFgnLoFMXbHLuC6FGpVGhRNr/rAPqVS6lBIL3hQHAT9F5zrhCXxZLtdocN7jTlJkrVq6mo+mcsY016FdUBoulcreR4osEInvoK9JxiQgQ/sXlZ2IDmoviiwIF+9CX9OM75IJ7vLSf//iPJzY40WqCcQsiQgzyC1R5SRpuDAiddYYTg1eMC4zlgI52v379208yiwYKRltOwwaFwN5GgakzoIsSaotq4mK6k6J5gYrksOxHXOhjDBtbq++2365/1uJG/nlRPsoApQ+eJt0K94Bt5LZsZKRj4ou4+tZLrr4q3wfFV0gqX46u7B4TfiTQtnh+klssrb2Wt2uvPl+0yk2YdtUR9p9Cjs+OZM9VhCnpn1xE3Y0fc4ebJ0qu8PnTuMNM9lihWh8Oxak4bThUwE7LEGhKvXpTHug4SN2YLs0Y5/5AYDH5LkfsrKee3L8n726XDm/P/OsVYXy9Q4u+xxVsuAj8fJZPo6ux0xTzmaaNVHje8zxnZnKuUOYZV3p2SPE2b24hiUejE6O7+Xhzu9eb1jZj0Gb8pV/R7Q1JjdUMfZP8b6FqnjCHzMI9t2rYqhvQYXyGy5MyXOfZSUjz83fV35D6NLKki1LGJiTV76Xx5MwW95ly3na621iT/l3PFKRcQ8tybSca1W8pkc42eDoac1VNB6cf6HGN4R8eMyJ5i/j3NzfBLt6amYdo9LCZ+057clot/blQg1nvQ/FRh7BWu0XlJdc0DqNZqw/9T+R/3W+tvoDSvnk1m0clW+qe79S7bPjUGP1GtIzxT++l6omu4/79vbeO+rGtzqTOFFFThwrUa0+0pfW6uyUnq/Wj6jIG0N4hh2ZxZFIfMP70Dae3LyKC3rrhavpIocLfZUofBZK4owemcuMgUcuq9hotVrv5qxZu0xUVCAU8HgCYUGRKHX9ut5LxWJxzejUSEZTzWHpQzdihTi8IqdQKPCKEgpafSdcxEZ6yw8q+Sk7yytn96J58xbtzvHKyv65JIjKRP8f6naZ8dYsF+gAAAAASUVORK5CYII="},2211:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAJFBMVEVHcEz///////////////////////////////////////////8Uel1nAAAAC3RSTlMAw/CB/kO3FPt4FfhM8y0AAABbSURBVBjTY2AI0969W4CBgXH37k2pDAyc3rth3N1bJjCENBcwQAG7hStDtgEDHDBvY9AuQHDZNzHsZkACuyniCiJzUThUBmgWUdELyIHDtQk96NACFi3YUSMFAOZzLQqHbAKNAAAAAElFTkSuQmCC"},"233d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAACK1BMVEVHcEz////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4eJP7g5/3dpH6gJz3d5L4eZT4epX5fJj7haH3dZD6f5v5fZn5fJf3dI/4eZX8h6P8hqL7hKD6gZ35fZj5fpr8iKT2c473dpL4epb5e5f8iaX6gJv4eJT9i6f7gp79iqb9jKj6gp76f5r5fpn4e5b//v72co36gp33dZH4d5P2cYz+9Pb5f5r5e5b6gZz3d5P5epb8haH+jqr9jan/+vv3dJD+6u77g577hqL+l7H9i6j/xNP9iaX+jar93uT8ztj2c4/2co78v8z6fpr4e5f4d5L7v8v++Pn8ztf9n7b+1N78h6T++/v6r774lqr/+/v4hJ37vsv3fJb7iaT2cY3+4ej9kq3+jan6rr79w9D+lrH6oLP5m6/7hJ/6r7/+6/D8hqH9jKn2epP9tsf++vv/9ff8zdj+4Of+vc77haD7gp3+j6v9jqr2dI/8iqb8iKX+jqv3c4/4jaL+x9X9qr79iab94ef9l7D+8fP5kKb3g5v//P37scH6k6r93eT4epT5n7L4f5j+7PD4fpj7j6f2dY/4h577gZ34hp77pLf90Nv4kKb93uX4gJr7sMD8w8/6fpn8wM34dpL5kqf7mK7EBbV5AAAAI3RSTlMAGfhYk9jr0QGoUxAcR8EC/qvvB0nP9umGD18sYa3f3t2sYmPjSXoAAAOtSURBVFjDrZj3W5oxEMdfQZYDFcGBCNoAYkVwAeKgglucda9q3d1777333nvv3T+vSaDWYsL7grlfL8/nyfdyd7mE46gmz9Jm5GoMUpFIatDkZmiz5FzElqlTpIMQS1foMiNhyNWKNEC0NIVa6J6SxDIQxmTiJCGURAngMUkiLyQhBQiwlITwlDgVEGSquDCQ1NhkINCSY1NplHgliMCU8WRKjAxEZLIYIiUHRGg5BE68DERsskW6UpUgClOGxjkWRGWxIfmSHB0m+b/8SVCBKE21MJ9TQNSWsqAawRJsvk6TJEvBSP72DTHB+WhsdPT8GUEccbDXkRJv7FJfX//eWwNCkjDQD9Uk38Hrq/vrVnnvbWzm56gxRkFy9V3eV1fnrb3j2XCOF6PAdwCxe+O91Ho87tLS28d4MGnovtARXSfqvN6r49fcpWXW3rJTHeE5OpomgBSNezaVlpVZLzhMuw4M8KiSpxM93lqsCFIcDpOv3vn6Y5hYp8u5LEDBeNyQctxqNZnqLzrzVth+f6Zzsjgt2RGgWK2OIyaff2WezTZrd30YomG0XAbZgY4IUeBeMKXcXlBQ7XpMiXUGl012uANxgRSfM8/WWW53FVR3LS/5MkOMdTanIWPgXnoxxQn30tnYGKDUGC1vzxJireH0FMwIUjRcj4Lb+d3uKmqqQpTuytbCB3cXrdZzUjJmBCka9jvzsKKCojm4l3yjpdLcOnjFMhG6WsqJyJheR3AvDeWNkNLUU5JfgyiFxVMVLYdDV4toGLgXnx8pasAUqMhotJjNhYPFFS3tNxdjKKIgxReguDAlv6ZtDYxLMaTsbt+yWJSBjDH5nDi6iNIFKcY2S5DS3r51XehqA+3Aff53kFIeoJQgyk9IqYCUh+ubCQdOST8/jq4dxwVSYFwgZWq65eSOzYTVubRigEnXgFO3Ch10t8WMBE2/2d9BKQZKaeK9uIqq0Ukbu+ERIUXPh6ilSWkUtllMQUdkbIPpMnij4tPTMI2C0rYaUOpWNwVTFyraPtkcrm1RmiimVM1Tdq7dxnM1LCN6EKUHU2BcLEc7eFs6+YLBlGAZHRoScMGQVRXNBQrAbP41Iei6I1++LiioBhbA+0n+21dNHwWeYEUvZk4LHgWIg8meV8buZ187IhhMyGPS/W8/XkY2JjEa2liNkKwGWkbjNathn9XTg9FDiNWzjNUjkdWTldUDmtVzntnnAquvDmYfL6y+gZh9Sv37IsvW6NEXmV6THf6L7A/jcF2n8FJkCwAAAABJRU5ErkJggg=="},2673:function(e,t,n){"use strict";var r=n("646c"),o=n.n(r);o.a},"28e8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAyCAMAAAD886zOAAAB/lBMVEVHcEyZmZkAAACZmZmZmZmfn5+ZmZn///+ampqenp6ZmZmZmZmVlZWampqZmZmZmZmZmZmZmZn///+SkpKampqYmJiZmZmYmJiZmZmXl5eXl5eAgICXl5eXl5eXl5eZmZmXl5eXl5eZmZmampqZmZm/v7+bm5uXl5eqqqqXl5eOjo6YmJiSkpKZmZmXl5eYmJiYmJiYmJiYmJiXl5ebm5uXl5eYmJiXl5eWlpaXl5eWlpaXl5eXl5eYmJiZmZmXl5eXl5eWlpaUlJSSkpKXl5eXl5eXl5eXl5ednZ2ZmZmVlZWAgICXl5eXl5eYmJiZmZmZmZmZmZmYmJiZmZmZmZmbm5uZmZmampqWlpafn5+Xl5eZmZmYmJiZmZmXl5eYmJiXl5eTk5OYmJiYmJiZmZmampqampqZmZmLi4uampqYmJiVlZWYmJiAgICbm5ubm5uZmZmXl5ebm5uYmJiYmJiZmZmZmZmampqWlpaZmZmZmZmZmZmXl5eYmJiampqYmJiXl5ebm5ubm5uZmZmZmZmXl5eYmJiZmZmampqXl5eZmZmdnZ2ampqampqZmZmWlpaYmJiZmZmYmJiWlpacnJyampqYmJicnJyXl5eZmZmqqqqZmZmWlpaampqampqZmZmbm5uYmJiZmZmZmZmZmZmcnJyZmZmZmZmXl5eYmJjdEOcIAAAAp3RSTlMA0QFL5hivA1Eiy4oM/tzy2OoBDlP+rC99+O4CFsD+VfrbBaSlCFfECSwJZgcopdmh+SrsF8WjhIGHZN1lQ0ZnQuwrFYViwYIN3ikI+Uem6fwUhuG3HM467winQWFk7cHGLXfG/rpOzQswVB3vBCkh9zszSrm0+vIRcISJ2oOIY/A4XN3sG/ftv9wyGvmGWmZIaVKGJCvcOzZzA9Anl8L4Y6nUyKNN89U+aKUAAAK3SURBVEjHrZdndxJREIYnCEKkBJaqxGCqBGLDaDSW2BKNSUxiir333nuJvffeuw78S2fuLrCewwe8d98vMLvnPOfuPnd3Z8BpccAJlLpEvb8KFVLlr0/UMUkHunyomFwO0ecygHG3VxWXzWaJ6HXHBdBNhwKxqAckUz09TMBdAcK4Geii9UWCsjTQtkwi3NZ2WzBCa3Q5oZHuX8QmzctMJVx4bjX9tRHR1whNdL3S60u1zSJe7SK9CtJVN0EDYkyWt7iWcL1tG/J1DLEB/IhRFRnbMsUjUUQ/0H6W8qstZBmz282330M7HEi2DG9ZUYYpDJMCplaYZagDhYyJV3rAGqAuoytT4pQM0JAxVvJZKA3cXylyLC9/RK8fxgsyak5f149VrioH6Mq/RG7de8Z1hVE+unnpkJDBbxYj6f8CUj6bgPSaCgtckVc28IbD4bj94PkQ4m8GfqTS8erJHcZ1reOiH4f5x5EsEzhO//fpK/5i4ASW8ZRlZHfqMuw4vnwpRSCM4qgBfC1k5HJ7QQn4E38IYOrlFOJdvoh4UAk4+Ae/M3DoPj8ZK3uuIh5VAH549wXxGwH5G5SdvPr8hbPYfUQOeNdut/cP0Klh0NK9zDtuP0flwAmQAxoJvE82zyluPe+ZkyAJfBwKhV68HYmn1rKMbDeVoVPNpudMUkrfG5ZxWOzDfyMFbF2jy6iwBqilxWuq0wbWAIWMmpnLASwBJoSMGUsArAHmroknowWsARoypkl8XEsBtQ6WsbRTqn8qATTJsAKYnG+SYQGwbwHLmNcCKsBis9S6UVqGuVnKt3Nax3qWsRkUIto5o+HcsV3IGFTh6Q2naIkNGZuUcEZLzE37HlUZIkbTTmNFTlWGvj5jrKDBh4H7DnhUaJ5orDD40Gi229yuyCc/mlkxPHIKw6PV463F+Qsr3KpdCKl52wAAAABJRU5ErkJggg=="},"315f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAyCAMAAAD886zOAAAB/lBMVEVHcEyYmJiZmZmZmZmZmZmZmZmZmZn///+ZmZmZmZmZmZmZmZmZmZmampqZmZmZmZmampqYmJiampqZmZmZmZmVlZWSkpKampqZmZmZmZmZmZmZmZmZmZmampqampqZmZmYmJiAgICampoAAACampqXl5eZmZm/v7+bm5uZmZmfn5+ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn///+ZmZmampqampqZmZmZmZmZmZmZmZmampqYmJiZmZmXl5eZmZmZmZmZmZmZmZmZmZmZmZmampqZmZmampqbm5uZmZmYmJiZmZmZmZmampqampqZmZmcnJyampqbm5uZmZmYmJiPj4+Ojo6YmJiZmZmWlpaZmZmYmJidnZ2WlpadnZ2ZmZmampqZmZmioqKcnJyYmJiZmZmZmZmYmJiXl5eZmZmkpKSbm5uampqYmJiampqbm5uampqampqampqZmZmZmZmTk5OZmZmZmZmZmZmLi4uampqampqZmZmampqampqampqampqVlZWcnJyampqYmJiYmJiZmZmZmZmYmJiYmJiampqampqSkpKcnJybm5uYmJiampqampqbm5uampqampqZmZmampqZmZmcnJyZmZmampqWlpaZmZmZmZmampqbm5uZmZmYmJiampqXl5eqqqqZmZmqqqqZmZmZmZmZmZmf3OLnAAAAqXRSTlMAL2TyzmzQA4DG3Otw1uqCUZ9JrIoMDv592MiZBXKru6kChgGkIFUIV6UIp+0U99/zspsB9WDJufzn+jVjcxtLRuP02Qo//nxChfbh2/Sw+BIwSjdDEAmVeDMPYQ0RGreVWgs2x8sZTRb5Di75XtF6nJAr7vAa0h72C5dE3qZ5g+UdMbukzMWUSCrEWwcfODSSjV7bJs2ivk2OOi4ynlaE6HyaMQNfCX+Hst2NwQAAApZJREFUSMfVl2VzIkEQhnvDJeQg4bggAQJcCBBB4u5+8eTc3d3d3d3d5f2X17PAJdTVVYCdL3mqqGl2i2d3enrZadJLhvTEuEsDTh00oHMGSt3CFBOaDZCAwRwX+qyFkEKh1acKrRybHIqNNGBTHCbWWIXQzPdnsZNm7Ba+R7Oeyjh/Fj9JwM9GQxmV83ztJAU7z7qcKgAHScIBVJATUGQJFcBJXM82WUIbVzjxYpM0hGxuCtdv+98vTl24Ggu6VnWkLly7fU87D2/yp8mNn7qI8X6KcpCL+akLN+4ALhEVz3jui+Kn8vGSOlF9ND0hhQLAMAt/BYNePA4GnySEBcAQ3UOlO00h+c/iKwuziRZiAdHihPAuXhDV4ialK6S6p3UsHI9EJjESiYzEhbeB10QGGF2uHuhcghVplE0xqo3GStQbjfUxYegZDERtSX+q0dmFW0sEz+nfKQ8D84hqMObxeJpQ5RGsnF24W71ygRD+VpQJFCnKLVV4rlkI3w+iPb2y2RsOhydjwqSyOWFCKws/oOc+pb0oRiH8soi5jPNiyCPqHKz6xMJ39R8pQ6GKmsMY1+5kixy+pQyFXXmCRjSpI1/gDAlhMEulBgZ1bEhd6E0qj7A4LITm5HdxZerCDq/X2wcdjuMkR3kJ4VCOSgt61bExZeHUT6Kpz1XXceRYXyh+WM0hZZbDHznd9L0GWbwoh3BYgrAXJb5avKpjoftgYqUzFrpPA2PfJmB6oJbNvmpsdmsSHgBuDIxC9yheh7ua4YpqEe7cXxvqH215+Lewt7Ru8mnKYRt/Bq7MeFK6N2hblGmWZy+b/rJm9bpEuKRh6Zx90UvfLEnfzknfcErfEkvftEtvK+Q3PvJbM+nNo+z2VjJ/AJudbmPj8w40AAAAAElFTkSuQmCC"},"31d5":function(e,t,n){"use strict";var r=n("9b90"),o=n.n(r);o.a},"3ca9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA4VBMVEX///////////////////////////9HcEz///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9LsY6JAAAASnRSTlMD/HUSttsFAP70eUVWZntQjQYu8RnzDc6tCGvIuBamTVePJxP46yVp2CSSLdy1uv0V7fAob5hMNvoCMnPaePs1nemcVOhIdjNxp+dawgMAAAHASURBVEjHrZbldoQwEIUXTWCVdWdd6u7uve//QGU9BJbQtPcfGb5zksmdmSQSEiK8Wp2ubgwHg6GhdzutQDiAaPUGBSPaqGuRSDFnAVbTdnt9x+n3XLs5+84VtyKmWgLVUzX2h1pKpyipZjgyrQDVfGDvJF8FKtMwJFuAkSShShooZINIWkG7TLao/A0lzSNpSjMkQhlK034kq9AxidSYKlkWGRWQIQJlUBhtELOCNhGqjYq5RlQYZTFSNqCukGIJvuxe2h+foblGqbhEcqgygeunmbf2T0OYKnILRLMoe+e3Cz9e7WhBH1BLmyN16Oz63crEx2cmz+ioz5EGUuyysnH+5IJDUmjMkBa1fN5lqwUHuz6kZtGWh3TQJFsRKOdHbLCJjod0YUcgwInqbII2uh6iw41EgL33ddCF7iEGegIEh+v89GB4yBB9EYLnVbr7GHrIAI4Qwc0y6GAgh8TZ2Jt/Y3GO/+o/fowkJ7kkS1ylhGEkbMmb/0Fsfr7EJjFKjCvkrxiFzLeLF3G7CGlK94+CpiTR+mQabNw2Pv3bsJAZSaLB1w4ZfDLj1ctB1BAf/ddTQeZBIvXsifm4+rV+APVCwQYl6iBBAAAAAElFTkSuQmCC"},"3d12":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAp4AAAEYCAMAAADCqQb5AAAAnFBMVEXm5ujQ0NPc3N/Pz9Lj4+Xi4uTR0dTOztHl5efk5Obc3N7S0tXT09bg4OLV1djh4ePa2tzZ2dze3uDU1NfW1tnb297b293X19ra2t3e3uHY2Nvd3d/Y2Nrf3+HZ2dvU1Nbd3eDi4uXX19nj4+bV1dff3+LW1tjS0tTg4OPh4eTl5ebR0dPT09Xk5Ofk5OXQ0NLPz9HT09fj4+TOztJb7gEeAAAHtklEQVR42u3cCY+jOAKGYUMAG5JwhQRC7tQ91dU9u/v//9v6AEJ6uleVqtJqpHmflhJsqLSEPtn4SIQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8I+mpgf3/jRJw1F9nEpjUqhRZdBV5oobh6+TTeUh/OWZWEoXz4WU/8ku9QvZWY0uPvSVS24p3i2Y/XkILsVwJl1xaOQiHanD7+KpNHNxKu/7JlXp6mSuVXI21IlL5YF7jnczTd3iUpzpok7aPPoz76Jlu+RfJ9s1hyaYpYxslT+RUvfid+b42NUluq4OpfzDXiCn3HO82+Q6fSZvP1yT+fyOeE60Soi7hUyHiw/X8YxNXUU88RFmxJJeN6aPLma+i+fkt/F0z55KD5H0FVkX2CwOTDzVEE8dzDAWNp6KeOLGZ8/09fFuXPQe43E8hZrX/yueKkoj28enLp6BeblT3uMonrF9/SP2KuKJzxvH06Su/u3QSL94Np6T7TieJx3No/Su4xnqSr97IAXeG8a/FH6KZ5dG9dfn1kycdHMYbzzpxS6KgXmx8Zy7eL6YeCqvi+fOVQLv8+DJ7aVUS2/exzMsFtH0vjHzTFk7NS3koQnGf1rJe7Wz4/7gh8z7eD508Ty5hjIz8XyWXTxDOnfcwnTND31hrQtRF0+vn0jfxqKQo8JAJ2+WysIcFnaSU73K6jiVB2GSGLh46obT1OmH0Uw+EU/c5molZ2VKXTwvolDsx4VBaYb1dvK9e6ac21zHug+fCXXIXfPc1ensL5RaNNxy3BbPoi+0v4ynjOLLoqSMRh18sJCyNQfbbm5/voiqkynuhZp0Fz7ousA+OLSTmBuOW+PZrz6K6XU8J4vFxB6cRZivy8IbppD6eHpuBDW/HknpYqjjmV8/5EqZSdpO3BxPeXTHvryKp9lypFy37np0dbaF+TCYn8pvSgS7rU74MK4/lboNNqOterS8HpS1aWfPC244bo6n3FzSOcSza+kac9w1hMruRupH+qUnvcCtKy2GXtsuYj6asPqXUZCtPCux/MYNx+3xlNG5iuRVPKOuPVTjPUuZOdPFTl/lZfqt+latL5+n0mm1s0fh/lJ5Pz2byqzghuMD8Rzp4rkfj5f6tR575rUrVPXdR/5HdRcyQsIn4znMNjVuF9Oll+6y2mfs0q///NnxLwrZvXkY8LYkFO+MZzRMGrl42m12Q+upBzXyqTve9Ds8zbhIXL2Lu9lPHx2MK0I3KlKTx+pc13mx5dbjffH0w/xxNkubMOniaXYlv/bPnt5lMimwU0tJH0sV6mu+9/EMfh73nK7iOes+4Vy1d0V6X3Hr8c549oU+nnb1qL00nt0Va69fATLxfCom0Q9fx/PlfGhjE8+sOuztSfUS9PF0F9/peGZnc1aP/aeHSE4euPX4YDxjOxtv1npC+w3LSbyKHlNvNAllHkMXsQij+feJt5rvo1gE+uDBHKjGm02nmY3nv2cuyiKceMmujdSLDXDMFzbx4Xi65lN38F0il+FkGDnth1GSaSF3i+92R0nTisDO1+etaM0s6G5v4xkO8ZRmQ/0+547jxnhu+oLfx1Ok47F8GrwOx8OyZGwH8G/ed7uDM4j0Y6U9mKp+Zf06nvbylxl3HDcwez2GTR7h8L1NVV3SWam6P7y/fJ/djdiV9+ZS+STiLp5x/90PUxFMXaXJL/HErYI6HY1SdmndT0huuo7dMwP1YFnfp3VyGv1hH08xM2tGhe7zZ2ZhqCjEU2lOBLZCeSb7/lmIqen6Wzp3fA213qbptvzdIGaIZ+bl660eEemDlT149vL57lCZiualnJYvS7MJT58t6ylDIvx/0uvWz3WrGW7vc9vm6oPCjsuLtDoqW7EXWb0o3Nm6uwwAAAAA/u6C7tX9NGIQ2Le3N1et7tx5FXerkt3VqhvydNX9PGqgzAft1ut1xo3F5xW+/qffq3LvL3W+Vn5pthZtknxlJjP983K1Ml9AKlbLpVCbc7M3c51J4LbLq/xN1+Z1Wh/d2H4lEnFqdsGKETu+wC7JExO1pb9UiRDnZC5yXTxkq5X5QcV2tl3pcrzZHDNfiGPdnk0Qk5OLZ95s2rVomqZ135aLm+Pj/LROcp87iy8wT9LEfCsz98tkq3PXxXM1b1u7JPSv5VJHLa7ruNHvy6YpTPXStZ4q8IMmFNkx37qfamrbULee6+yRX+zG11jZKG22SVKYxtTF0189P5tOfdX6eWlbzzjQjetyszFtbXg8rV0+97ozV5tNunHrpMHOdO76MWAdcmPxef6yaEx3PVei1O/hc3Ay25nm8ySxC+lZqXRzqTbHwJQzoUo99imFWtqHzTLcrM3Zsvu0+DlZlXFSliWbjwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD7hv13wZRI6haCEAAAAAElFTkSuQmCC"},4917:function(e,t,n){"use strict";var r=n("cb7c"),o=n("9def"),i=n("0390"),a=n("5f1b");n("214f")("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;var p,f=[],h=0;while(null!==(p=a(u,c))){var d=String(p[0]);f[h]=d,""===d&&(u.lastIndex=i(c,o(u.lastIndex),l)),h++}return 0===h?null:f}]}))},"4bc5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABiCAMAAACce/Y8AAACfFBMVEVHcEz2+f/2///1+f/////2+v/y///1+v/1+f/1+P/////2+//2+v/2+f/1+P/2+//1+f/z+f/////2/P/1+v/1+v/1+f/1+f/5fZn5fJj1b4r1bYj5e5f6gJz1bon2co30a4b6f5v2cYz3dZD4eJP4epX2cIv2c474epb8iKT3dI/5fJf5fpr4eZT5fZj0aoX8h6P3dpH4eZX8iaX1bIf0bIf6fpr5e5b9i6f7hKD6gJv6gZ35fpn9iqb9jKj6f5r3d5L+jqr3dpL7g5/zaIP1cIv4eJT0aYT7haH6gZz8hqL9i6j9jan4d5L+j6v2cY37hqL6gp33dZH+jan+jar0a4X19fz1b4v9iab7gp74e5b2co72c4/9jKn4d5P6gp716vP22eX05/D2cIz9iqf0jqPzZ4L1boj8haH7g5718/r3d5P0aoT5f5r22uX5x9f18Pj19vz18vn18fn5y9v19v30iZ/18Pfzboj2dI/8hqH0bYj5epb8iab2b4r0j6T9iaX0jqT3c4/3dJDzaoX6iKP3nbP3c475obf2w9L5oLb15/D5oLf3qLz2xNP16PH+k6/zaIL2eZP+lK/6hJ/12eT4l670aYP5obj6h6H4m7L7jKf7h6P6mbL6mrL4nbP9jar3p7v3ma/6nLP2wdH27fb3n7T2jaX2u8v+jqv4nrT2jqb+kKz8o7v4w9P8pr32u8z3wtP2kKf4fpj5mbH2v8/4m7H3eJP22+b5rMD4mrH3k6r22ub4q8D17PX22eT3mrH12eX8pr73mrD3x9b0cYv6n7b8o7z4x9f0t8f1t8f0hZz0bIb0coz0hJz5f5v0vMv1u8v16fH0b4k0kRo7AAAAF3RSTlMAhxvjBPgT67SXAng3+Jar01gJV5bSrLmBBNMAAARdSURBVGje7drndxNHEADwM8Y+3CSH2D4sWfKdZMmyXGRLVrGNLAvZuMudYFNNCSSBUEJJQk/oNYH0DgmEkgbpoaYXSELCP8Tsngh+utN7TNBe8kHzce/p/d5qd+ZG2uW4iZGdm6Mv5DOEfx0ZfKE+JzebSxST0tKFpER62iRVIFOXJyQt8nSZSuEBXkhq8A/GAZOzhKRH1uSJwtQpAoOYMnXCHJgIYNydR5bAKLL+WWmBWcTWPJNnR/Dy3i0QGIaO5nQeSyKP5HmawDTSoPKlsyXSs7lcgXHkcjmsiRyuiDWh5/JZE/kcz5rguQzWRAYnMI8UkSJSBIJYv+7j54aH5jUHAsGgx1NRUVvb/3RHQ0MkMjrQ1GlqlHxV06YVV5aUOGzu6rKyTy++NwtLnPwwGiZCNxCy0NUPQkNkdJQIjaGq6THBBsL83hl15xbiiPU/R8+Eh3pAWBKcHROWk0k8smCgyWSiQg0QDofbPbNsfsuMOqv1/VkoYl00+sGqtff+fa/+5Eur83MU8V00vAq3qKedcy+giGPh4bU4YrWz/CiKCIffwe7N8vJSHDHUgybmIImeeVhiTqkFRQz3NCsHj1z++qvERGkfjoCMUA5+Bkl39lJCwrIYRTQ3q8wCBOlP6e3H1T9isdhxRHdAOdhpMkkkrV9TRSz2NhTRHQgqB6H4hUjxK678Zlz5dHHbVhQRUCUkqcpHSpPfbzv1aPzTNrsBRwRnKwcbZaG4xO+wVR+Of/qQAUcsCW5XDkorfVDBqeCu3hf/1GAwowio4MrBkC9WwW1u927FF2UwG1HEFk+FcjD2joBJnHhR+RRLeDwqs6Cv0kq/4/urah8xY4kKtVnU1MBCXPtW/SNmI46AV6ly8CUQvhhPVECMm+rvnzhw6Ph44jJorPfiiNoubDGvrxdRRC2e8IpIoqsfT7hQxOtdHU/ghI2i+COK+Klj+Uc44jdxZAOK+KWj4Y3ziHls/PXWiOsvFLHmrTvNZSMtfpARJY7N7uqZtH21Wp1zoacphRcdFD/IOe8N0eX6A9dwClfejEQWNJH2VQpNpxV8DCo4dMjQvg5an33KSQS7HSq4eZkR9qvouv43tvlf88O7u0CQJJ+Pdvl+ucsHgUziGRD6LCCQOYDw+4ab6OY/9UPsXomFe1+gHQd5W5OFsMFuammpGxy0Op3QvsJmstOlhuoHu6ndu20RmniFrrX8ooOOg+zXx4CwEoEu9Z396hVHgGht3YEmXu2U+zLyKh1zUEHOCCfNCDv0NFQQQVgBwsNPoomDJtrTkP06ZqOT6CUZQZKO5lwbTAIEkhEr2l8GYil+LfYPhHwTf/e29NKM2AOT6JMFsyy42ttbn9+5dFEqL1JEivh/ERr8oc2zJnj2hwuFnJ41odfioEeD4yoNDt00ODrU4gCU07EkdFodRmtwpK7FxQAtrjdocElDi6smWlyYIXu3IJnXfgoy/5vLS7ErWEX593cFK78o/grWbap5yPbiscgeAAAAAElFTkSuQmCC"},"4f1b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAMAAABhEH5lAAAAsVBMVEVHcEz/aof/a4n/bYj/bYD/a4j/a4j/bIn/a4j/aof/apX/a4j/a4j/bIj/bYr/AAD/bIn8haD8iKT7gZ3/iqj3c433dZD3cIv5e5f4eZT9hqL8hqL9iqf1bYj8gJ71b4b1b4r0bon2bon8gJr/a4j5fZn4eZT6f5v7hKD3dpL3dI/2co36gp34e5b5e5b1cIv6gZ38hqL8iKT5f5v2dI/7hqL4d5L3d5L6gJv1bon1bohYs3sBAAAAJHRSTlMAfUMvDuq/7awkDNfymj0BmfK+vkzyvvKFTPLyhYVMTEy+vkwVKo9UAAAAxUlEQVQY021QxxaCQBAb2KUti6CggL2MBVDBXv7/w2RYvJFjJsnLBICgB66UbqDDH46JLUxHMT0LDY0JwTQDrV6jsdDm6shttEhnou1DNJj0ww34Npp1MhocptfLodpvE+AG6uChBtH1cTjut+ddChp64CKDwYWY0y4bAUMXJAoYK80zH4JA2VD96kaavIgbiozhu9Zk96JcNUaKn9eaV16Un0UdH6gSCbnK70yVUFXT0TBeL9uqXQ91vN01Dk3o0YSemvAH7DQWbgb9NaoAAAAASUVORK5CYII="},"527d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAACGVBMVEX/////dIv/a4j/AAD/a4j/a4j/a4hHcEz/////////bYD/Zpn/bYb/bIf/gID/a4j/a4j/a4j/a4n/a4j/bIn/a4r/a4j/bIj/bYn/a4n/aYj/a4j/a4j/VYD/a4j/a4j/a4n/a4n/bof/a4j/a4j/bIn/b4X/bIn/a4j/boj/a4j/bIv/bIj/apX/aoj/bIj/ZoD/aoj/aof/bIj/aof/bYr/a4j/bYn/a4f/aYf/a4b/a4f/a4j/a4j/a4j/a4n/bIn/aYn/gID/a4j/a4j/a4j/a4j/a4n/a4j/bZL/aof/don/a4f/bIn/a4n/a4j/bIf/bIr/aoj/a4j/a4j/a4j/a4n/boj/a4n/a4n/bIj/bIr/bIj/a4n/aon/a4f/Zor/a4j/bIj/ZoX/a4n/a4v/a4j/a4j/aIv/aIT/a4n/gID/a4j/bIb/a4f/a4j/a4f/a4j/a4n/aon/bIj/bIj/a4j/aof/bYn/a4j/a4j/aoj/YID/a4b/aYf/a4f/aoD/Var/bZL/a4j/bIj/a4j/a4j/aIf/aoj/bIj/aoj/Zoz/bYr/bIj/bIn/a4r/bIn/a4j/VVX/a4n/a4n/bIn/a4n/a4r/aoj/bIn/a4j/bIj/cY7/a4n/bIn/boj/aYf/a4j/a4f/aoj/a4j/a4j/a4j/cID/bIP/a4j/aoj/aoj/bIj/bIj/a4j/a4T/a4j/aoj/a4i/vKylAAAAsnRSTlMDC/UB/cPnAAECDgUVUwL8wfPE7hoyevlSdUuU7Qb720XRM/T5NBeXcjr2IYkM67kKuyRJ5iOuHOgRJuDsvX6gxDgI1p1r48vQDoQN4txusEJTditP/o0e/JEtpUeeQeQj97sZjDfMvxYbeQTYKIiy1fh3gs50mII4fJ78CEoi9QwDB+GOyt8g/pDOFD9t2mKx7wO1/mpfTJx716MSzWhPM5+gZbzlyBAhz9jdnFzeH7jHdwveeQAAAglJREFUOMvtlfdTE0EUx3PJ5Q6SkEJC6L0lEHoHQVAsIIigInaxF4pdUBGVYsEGUlRAQAU76vcv9MwF3MvtyTHM+BNvbt7Md+dzO/v27X5XExCoURmBAcLHq4w/0/KqQ7MO/3c4OfJ0XX2O88CSzg0v50Lt1qd35bBhchRiWPO8vzawPj3o9oenpmHzuM8V7LkeBbwoMqSySNsY5rgwFDSA3idS2JyFN+niEOMaRmYsLnWYRH0vFcUpEvgtOMfy4lNeAlfbl6UuCzdJmMnEDFH2iOsKQ8gHSTHHCPg5gsXx3ZGxrXrZnh1GBQF3Ytw72tQiVC+HD6GSgI/CW91OWPaH7JB3w4QNBJyIbCHv0+5tpLZuE7QEbEONkGtxkN5nE6IIeDuqhLwNu+hwnFi/D66GU8haZNDhk2gm4Ahs1vG8Xk9nozmcImDjVgQpH80xxEvavQVtt5XYEs430xIcfREeJfgdrDrpEe2yWPLo7Heklfof/tewl9LYEC3ey26KrhBlRXI2txjfKHcwOxhfHP7sj0X8NNIu7MfP+PpJyhaU4RdDt4KSBczPStabD71ByTcyPiAx7K+csCGHUTYZ4yuwN8w+cfkW5oz/dKRrMTh+1usjhWC7V7KvIxzy43g+4RnsESt73YkzYPvDk/D4jhpjNJ8PBR4+uq/SRRPi+3rWbrmrejRX8xz/Bn0tpEmcKscsAAAAAElFTkSuQmCC"},"57e0":function(e,t,n){"use strict";var r=n("ee49"),o=n.n(r);o.a},"646c":function(e,t,n){},7611:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAyCAMAAAD886zOAAACf1BMVEVHcEyZmZmZmZmYmJiZmZmZmZmampr///+ZmZmZmZmZmZmampqZmZmZmZmZmZmZmZmZmZmampqZmZmampqZmZmVlZWampqZmZmYmJiampqYmJiZmZmZmZmZmZmZmZmAgICZmZmZmZmZmZmampqZmZmampqXl5eZmZmSkpKZmZmbm5u/v7+ZmZmZmZmZmZmZmZmdnZ2ZmZmampqZmZmfn5+ZmZmZmZkAAACZmZmZmZmZmZmZmZn///+ZmZmYmJiampqZmZmYmJiYmJidnZ2ZmZmZmZmZmZmWlpabm5uampqZmZmqqqqYmJiZmZmZmZmioqKXl5ecnJyZmZmZmZmkpKSampqZmZmampqbm5uZmZmZmZmSkpKYmJiZmZmZmZmZmZmYmJiPj4+ZmZmampqZmZmampqZmZmZmZmampqampqYmJiVlZWampqbm5uZmZmampqZmZmWlpabm5uenp6ZmZmZmZmXl5eZmZmOjo6cnJyZmZmbm5uYmJiampqZmZmUlJSAgICVlZWZmZmampqWlpaZmZmZmZmYmJiZmZmZmZmZmZmZmZmampqYmJibm5uZmZmZmZmZmZmZmZmZmZmVlZWZmZmampqYmJiYmJiYmJiZmZmYmJiZmZmampqYmJiZmZmYmJiYmJiampqampqcnJyampqampqampqampqampqZmZmYmJiampqbm5uZmZmampqampqZmZmYmJiampqdnZ2ZmZmZmZmZmZmbm5uYmJiZmZmampqLi4uampqampqampqZmZmYmJiYmJiqqqqbm5uampqampqZmZmampqWlpabm5ubm5uampqcnJyZmZmZmZmYmJiZmZmampqZmZmZmZm9Jkz7AAAA1HRSTlMA0GQvbM7+A8aA8tbryNyKfVGCq5kMctifSakF6v71AnC7FKTuhiCsDqVXCFWn7foatzD8CP3pAdvj9/MB+DRgQUMlDefSDxEuTLkDSPQKCxY29uQOyd7EPfnLB/tf4d9jEDKNdrB/jvR89h0/Sje/wyc4HbSPQIwJH5scYV14HwYklogz4J34RvD71G9tTxnxhMqJKaBYrqTsHszXeXnmVEUr7zF0pmjPolpNnHrZldG+x0cvsq3lKfHFuwuX5YOUuioJQpI6nlYuhF4mEnOFfEuah7UBQtoAAANoSURBVEjHrddnVxNBFAbgi0FQSEjiAgECQQImFGkC0sUGChZAEBALKgjYe++9995777333tv9Qc6dbMDoySHs7PtlyezZh53Zndk74KtywBdYzN2jTX4oED9TdHczSQ7QGIAqJMAog5F6H1QlPvpIDurZ3+EGTRAIJEhjiGGMnkAjuz97LAjm1ATqpo/RFxLY+NkzBbnle9MYF8HGMQHiWX8F7886N59xGQfuhCPGQxyiQYjr18hfuDkDAQyIcWBC1AhwI7f0JG5GDf3QIJqA8cqf76DRa4krLJafNXvDgf1W7G3bTFzV0khnA2HKwXmdiOu5dUVrkwjYI5W4jYbSvxvdgf3K3TGHzp3hx5VSBrswp97qetoNWHRrxFh2aPJvTWf51FFsHgrW7auS2WWb1s3+90o3YEot4nOAsL/mfaB8yh8vQl+aEogVe/7vgLsup0cjfmdgo80m4Vubrd4JhiIWN9AqgKexE3gOQuZT/MVAb4AQ7AIw0QlWo6WCuMMnO7cPhLzPeQxsTkrKx0lJSZNkcLA8ALk6XTb66SjjPAQpYZir1eagRau1OMDbfJZZXBZVa9tgaTfKF/i3y+U3CYhpeIlZwcHBJVgXTFnQNljG/3Mogb81mgkYqNG8wMAH9/ijHTNufATSO9WOMaxMTEzMd4CtuU8LKI7CjvAes0e2D6RoCfwRxfIMq6IejSAtI6LuEwM/Wj6AQpAnBJsMD8lL7fH4lTcD4R0oBH92pQxH/o1dvxrgCRBo68BzFwP4scBzUHJ5PRKpmUCj67c4x3PwmyTJBUWhJEldneAbL57+OIQfh3sMfn1dU825/THX0uVmPoagbAxHe9WStiMLu1zFKyqAjgmmK2MzxXyDZosQmDLMMXjhC/nUG5iL180CYNHOIVSm+KBfL3kuX05DnVUpmH72IN3c9N5j+s8CGYRLyamRysBBHbKJ6zgYYMpkaAFhwwBlXT5xhLisfXktLX28p7WeXrNsSctXtGBq22CfXcQdP29WXEq4gL2i+AJ6bKhA6USYXCzNlGgBteweIFQYU7HEy7nFi0YxLjkwRazy5OUcKzjn6+lFjgjrK1po84IzXl6HSsaLchDLS+IEvkbpegtzkGnnRTvfVlyoFPdi7Y5thWobn3Dnxkf9rZnqm0e1t7cq5w/M84Zc79UiIQAAAABJRU5ErkJggg=="},"7b00":function(e,t,n){e.exports=n.p+"img/recordPlay.c2119fcf.png"},"7f7f":function(e,t,n){var r=n("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||n("9e1e")&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},8069:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMBAMAAACQIoDIAAAAIVBMVEVHcEyZmZmZmZmZmZmZmZmYmJiZmZmZmZmioqKXl5eZmZmz737WAAAACnRSTlMAZ/3IDyX8bAtC3hJU/wAAAFFJREFUCNdj4KxgAIP2CQxhix1ALBarVIawVSYgpvOqVAZGLZAwi9UiAQYGIZCw8ypFoBRIGCIIFoYIgoWhgiBhqCBIGCbIwCCWCGMxsAaASAC7wRLdY0ly2gAAAABJRU5ErkJggg=="},9241:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAk1BMVEX///////////////////////////9HcEz///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+SBwAeAAAAMHRSTlMD8bim9LbbAP68xmb8e1CNLhkF80UNrc51VhJrCMgWeU1XjycTBuv4JfuDKAtpJKf/fAF8AAABmUlEQVRIx62W6XaCMBCFZU0UFQSVRZFNxb33/Z+uwYpGVEjT3n+TyXdOCHdm0utJiDS1ynLD3Jbl1jTybPWSfkGiRUzBicaLqBWZ2Dqgq0larDebdZEmahXbk4+IG3igRrjkNyxDg8IL3PfIxQfmzsvZiTMH/Ms7ZKzAnJK3mppQxq+INYQ2Ix80+8LQaiIWpSPSohGl1jMyHtIzadWZDsc8slMwIh0aQdk9ENeHRjqlwXfvSABz1o3MTAQ1MvEwJQKawpvcEBtzIqQ57B8k0qkjhjhUj67IAga3fBwo2qkOTpoyOHJJA4srEiPkVgfM8Yc6OLBgwCVDxBWyojrv3T3bpdaByoI972udrhiSPXZUquqqXwf9KuKzKjKG5EjEkQQ5Qwyk4kgKgyEmCnGkgMmQLdbiyBpbhpTYiCMblHKIxMEkPl/ikiV+pYRhGrZsRW62bJi/1ck38zdKrLVe6hJ7LuS2qrwXskS7kGlKEq1PpsGKtvHL34aFzEjqGnzam8EnM17ZHbQN8d1/PRVkHiRSzx7Bx9Wv9Q2uZXfjsviLsAAAAABJRU5ErkJggg=="},"9b15":function(e,t,n){(function(t){var n;(function(t){e.exports=t()})((function(){var e;return function(){function e(t,r,o){function i(s,u){if(!r[s]){if(!t[s]){var c="function"==typeof n&&n;if(!u&&c)return n(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=r[s]={exports:{}};t[s][0].call(p.exports,(function(e){var n=t[s][1][e];return i(n||e)}),p,p.exports,e,t,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}return e}()({1:[function(e,t,n){"use strict";var r=e("./browser/client");r.Buffer=e("buffer").Buffer,r.urllib=e("../shims/xhr"),r.version=e("./browser/version").version,t.exports=r},{"../shims/xhr":301,"./browser/client":2,"./browser/version":5,buffer:40}],2:[function(e,t,n){(function(n,r){"use strict";var o=e("babel-runtime/core-js/promise"),i=l(o),a=e("babel-runtime/regenerator"),s=l(a),u=e("babel-runtime/core-js/object/assign"),c=l(u);function l(e){return e&&e.__esModule?e:{default:e}}var p=e("debug")("ali-oss"),f=e("./../../shims/crypto/crypto.js"),h=e("path"),d=e("copy-to"),m=e("mime"),g=e("xml2js"),y=e("agentkeepalive"),v=e("merge-descriptors"),_=e("url"),b=e("is-type-of"),E=e("platform"),S=e("utility"),A=e("urllib"),I=e("./version"),w=e("dateformat"),T=e("bowser"),C=e("../common/signUtils"),O=e("../common/utils/isIP"),M=e("../common/utils/checkBucketName"),D=e("../common/client/initOptions"),N=new y;function x(e,t){return e[t]||e[t.toLowerCase()]}function L(){return location&&"https:"===location.protocol}function P(e,t){if(!(this instanceof P))return new P(e,t);e&&e.inited?this.options=e:this.options=P.initOptions(e),this.options.cancelFlag=!1,this.options.urllib?this.urllib=this.options.urllib:(this.urllib=A,this.agent=this.options.agent||N),this.ctx=t,this.userAgent=this._getUserAgent(),this.options.amendTimeSkewed=0}t.exports=P,P.initOptions=function(e){e.stsToken||console.warn("Please use STS Token for safety, see more details at https://help.aliyun.com/document_detail/32077.html");var t=(0,c.default)({secure:L(),useFetch:!1},e);return D(t)};var k=P.prototype;k.debug=p,v(k,e("./object")),k._checkBucketName=function(e){if(!M(e))throw new Error("The bucket must be conform to the specifications")},v(k,e("./managed-upload")),v(k,e("../common/multipart")),v(k,e("../common/parallel")),k.signature=function(e){return this.debug("authorization stringToSign: %s",e,"info"),C.computeSignature(this.options.accessKeySecret,e)},k.authorization=function(e,t,n,r){var o=C.buildCanonicalString(e.toUpperCase(),t,{headers:r,parameters:n});return C.authorization(this.options.accessKeyId,this.options.accessKeySecret,o)},k.createRequest=function(e){var t={"x-oss-date":w(+new Date+this.options.amendTimeSkewed,"UTC:ddd, dd mmm yyyy HH:MM:ss 'GMT'"),"x-oss-user-agent":this.userAgent};this.options.isRequestPay&&(0,c.default)(t,{"x-oss-request-payer":"requester"}),this.options.stsToken&&(t["x-oss-security-token"]=this.options.stsToken),d(e.headers).to(t),x(t,"Content-Type")||(e.mime===m.default_type&&(e.mime=""),e.mime&&e.mime.indexOf("/")>0?t["Content-Type"]=e.mime:t["Content-Type"]=m.getType(e.mime||h.extname(e.object||""))||"application/octet-stream"),e.content&&(t["Content-Md5"]=f.createHash("md5").update(new r(e.content,"utf8")).digest("base64"),t["Content-Length"]||(t["Content-Length"]=e.content.length));var n=this._getResource(e);t.authorization=this.authorization(e.method,n,e.subres,t);var o=this._getReqUrl(e);this.debug("request %s %s, with headers %j, !!stream: %s",e.method,o,t,!!e.stream,"info");var i=e.timeout||this.options.timeout,a={agent:this.agent,method:e.method,content:e.content,stream:e.stream,headers:t,timeout:i,writeStream:e.writeStream,customResponse:e.customResponse,ctx:e.ctx||this.ctx};return{url:o,params:a}},k.request=function(e){var t,n,r,o,i,a;return s.default.async((function(u){while(1)switch(u.prev=u.next){case 0:return t=this.createRequest(e),this.options.useFetch||(t.params.mode="disable-fetch"),n=void 0,r=void 0,o=!!e.stream,u.prev=5,u.next=8,s.default.awrap(this.urllib.request(t.url,t.params));case 8:n=u.sent,this.debug("response %s %s, got %s, headers: %j",e.method,t.url,n.status,n.headers,"info"),u.next=15;break;case 12:u.prev=12,u.t0=u["catch"](5),r=u.t0;case 15:if(i=void 0,!n||!e.successStatuses||-1!==e.successStatuses.indexOf(n.status)){u.next=28;break}return u.next=19,s.default.awrap(this.requestError(n));case 19:if(i=u.sent,"RequestTimeTooSkewed"!==i.code||o){u.next=25;break}return this.options.amendTimeSkewed=+new Date(i.serverTime)-new Date,u.next=24,s.default.awrap(this.request(e));case 24:return u.abrupt("return",u.sent);case 25:i.params=e,u.next=32;break;case 28:if(!r){u.next=32;break}return u.next=31,s.default.awrap(this.requestError(r));case 31:i=u.sent;case 32:if(!i){u.next=34;break}throw i;case 34:if(!e.xmlResponse){u.next=39;break}return u.next=37,s.default.awrap(this.parseXML(n.data));case 37:a=u.sent,n.data=a;case 39:return u.abrupt("return",n);case 40:case"end":return u.stop()}}),null,this,[[5,12]])},k._getResource=function(e){var t="/";return e.bucket&&(t+=e.bucket+"/"),e.object&&(t+=e.object),t},k._isIP=O,k._escape=function(e){return S.encodeURIComponent(e).replace(/%2F/g,"/")},k._getReqUrl=function(e){var t={};d(this.options.endpoint).to(t);var n=this._isIP(t.hostname),r=this.options.cname;!e.bucket||r||n||(t.host=e.bucket+"."+t.host);var o="/";e.bucket&&n&&(o+=e.bucket+"/"),e.object&&(o+=this._escape(e.object).replace(/\+/g,"%2B")),t.pathname=o;var i={};if(e.query&&v(i,e.query),e.subres){var a={};b.string(e.subres)?a[e.subres]="":b.array(e.subres)?e.subres.forEach((function(e){a[e]=""})):a=e.subres,v(i,a)}return t.query=i,_.format(t)},k._getUserAgent=function(){var e=n&&n.browser?"js":"nodejs",t="aliyun-sdk-"+e+"/"+I.version,r=E.description;return!r&&n&&(r="Node.js "+n.version.slice(1)+" on "+n.platform+" "+n.arch),this._checkUserAgent(t+" "+r)},k._checkUserAgent=function(e){var t=e.replace(/\u03b1/,"alpha").replace(/\u03b2/,"beta");return t},k.checkBrowserAndVersion=function(e,t){return T.name===e&&T.version.split(".")[0]===t},k.parseXML=function(e){return new i.default((function(t,n){r.isBuffer(e)&&(e=e.toString()),g.parseString(e,{explicitRoot:!1,explicitArray:!1},(function(e,r){e?n(e):t(r)}))}))},k.requestError=function(e){var t,n,r,o;return s.default.async((function(i){while(1)switch(i.prev=i.next){case 0:if(t=null,e.data&&e.data.length){i.next=5;break}-1===e.status||-2===e.status?(t=new Error(e.message),t.name=e.name,t.status=e.status,t.code=e.name):(404===e.status?(t=new Error("Object not exists"),t.name="NoSuchKeyError",t.status=404,t.code="NoSuchKey"):412===e.status?(t=new Error("Pre condition failed"),t.name="PreconditionFailedError",t.status=412,t.code="PreconditionFailed"):(t=new Error("Unknow error, status: "+e.status),t.name="UnknowError",t.status=e.status),t.requestId=e.headers["x-oss-request-id"],t.host=""),i.next=33;break;case 5:return n=String(e.data),this.debug("request response error data: %s",n,"error"),r=void 0,i.prev=8,i.next=11,s.default.awrap(this.parseXML(n));case 11:if(i.t0=i.sent,i.t0){i.next=14;break}i.t0={};case 14:r=i.t0,i.next=24;break;case 17:return i.prev=17,i.t1=i["catch"](8),this.debug(n,"error"),i.t1.message+="\nraw xml: "+n,i.t1.status=e.status,i.t1.requestId=e.headers["x-oss-request-id"],i.abrupt("return",i.t1);case 24:o=r.Message||"unknow request error, status: "+e.status,r.Condition&&(o+=" (condition: "+r.Condition+")"),t=new Error(o),t.name=r.Code?r.Code+"Error":"UnknowError",t.status=e.status,t.code=r.Code,t.requestId=r.RequestId,t.hostId=r.HostId,t.serverTime=r.ServerTime;case 33:return this.debug("generate error %j",t,"error"),i.abrupt("return",t);case 35:case"end":return i.stop()}}),null,this,[[8,17]])}}).call(this,e("_process"),e("buffer").Buffer)},{"../common/client/initOptions":7,"../common/multipart":8,"../common/parallel":10,"../common/signUtils":11,"../common/utils/checkBucketName":12,"../common/utils/isIP":13,"./../../shims/crypto/crypto.js":294,"./managed-upload":3,"./object":4,"./version":5,_process:215,agentkeepalive:14,"babel-runtime/core-js/object/assign":20,"babel-runtime/core-js/promise":26,"babel-runtime/regenerator":35,bowser:37,buffer:40,"copy-to":43,dateformat:154,debug:155,"is-type-of":200,"merge-descriptors":203,mime:299,path:212,platform:213,url:245,urllib:301,utility:300,xml2js:259}],3:[function(e,t,n){(function(t){"use strict";var r=e("babel-runtime/core-js/array/from"),o=c(r),i=e("babel-runtime/core-js/promise"),a=c(i),s=e("babel-runtime/regenerator"),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var l=e("is-type-of"),p=e("util"),f=e("path"),h=e("mime"),d=e("copy-to"),m=n;m.multipartUpload=function(e,t,n){var r,o,i,a,s,c,p,d,m;return u.default.async((function(g){while(1)switch(g.prev=g.next){case 0:if(this.resetCancelFlag(),n=n||{},!n.checkpoint||!n.checkpoint.uploadId){g.next=6;break}return g.next=5,u.default.awrap(this._resumeMultipart(n.checkpoint,n));case 5:return g.abrupt("return",g.sent);case 6:return r=102400,n.mime||(l.file(t)?n.mime=h.getType(f.extname(t.name)):l.blob(t)?n.mime=t.type:n.mime=h.getType(f.extname(t))),n.headers=n.headers||{},this._convertMetaToHeaders(n.meta,n.headers),g.next=12,u.default.awrap(this._getFileSize(t));case 12:if(o=g.sent,!(o<r)){g.next=25;break}return i=this._createStream(t,0,o),n.contentLength=o,g.next=18,u.default.awrap(this.putStream(e,i,n));case 18:if(a=g.sent,!n||!n.progress){g.next=22;break}return g.next=22,u.default.awrap(n.progress(1));case 22:return s={res:a.res,bucket:this.options.bucket,name:e,etag:a.res.headers.etag},(n.headers&&n.headers["x-oss-callback"]||n.callback)&&(s.data=a.data),g.abrupt("return",s);case 25:if(!n.partSize||parseInt(n.partSize,10)===n.partSize){g.next=27;break}throw new Error("partSize must be int number");case 27:if(!(n.partSize&&n.partSize<r)){g.next=29;break}throw new Error("partSize must not be smaller than "+r);case 29:return g.next=31,u.default.awrap(this.initMultipartUpload(e,n));case 31:if(c=g.sent,p=c.uploadId,d=this._getPartSize(o,n.partSize),m={file:t,name:e,fileSize:o,partSize:d,uploadId:p,doneParts:[]},!n||!n.progress){g.next=38;break}return g.next=38,u.default.awrap(n.progress(0,m,c.res));case 38:return g.next=40,u.default.awrap(this._resumeMultipart(m,n));case 40:return g.abrupt("return",g.sent);case 41:case"end":return g.stop()}}),null,this)},m._resumeMultipart=function(e,t){var n,r,i,s,c,l,p,f,h,m,g,y,v,_,b,E,S,A;return u.default.async((function(I){while(1)switch(I.prev=I.next){case 0:if(n=this,!this.isCancel()){I.next=3;break}throw this._makeCancelEvent();case 3:return r=e.file,i=e.fileSize,s=e.partSize,c=e.uploadId,l=e.doneParts,p=e.name,f=[],l.length>0&&d(l).to(f),h=this._divideParts(i,s),m=h.length,g=!1,y=function(n,o){var i=this;return new a.default((function(a,s){var f,y,v,_;return u.default.async((function(i){while(1)switch(i.prev=i.next){case 0:if(i.prev=0,n.isCancel()){i.next=18;break}return f=h[o-1],y={stream:n._createStream(r,f.start,f.end),size:f.end-f.start},i.next=6,u.default.awrap(n._uploadPart(p,c,o,y));case 6:if(v=i.sent,n.isCancel()||g){i.next=15;break}if(e.doneParts.push({number:o,etag:v.res.headers.etag}),!t.progress){i.next=12;break}return i.next=12,u.default.awrap(t.progress(l.length/m,e,v.res));case 12:a({number:o,etag:v.res.headers.etag}),i.next=16;break;case 15:a();case 16:i.next=19;break;case 18:a();case 19:i.next=30;break;case 21:i.prev=21,i.t0=i["catch"](0),_=new Error,_.name=i.t0.name,_.message=i.t0.message,_.stack=i.t0.stack,_.partNum=o,d(i.t0).to(_),s(_);case 30:case"end":return i.stop()}}),null,i,[[0,21]])}))},v=(0,o.default)(new Array(m),(function(e,t){return t+1})),_=f.map((function(e){return e.number})),b=v.filter((function(e){return _.indexOf(e)<0})),E=5,S=t.parallel||E,I.next=17,u.default.awrap(this._parallel(b,S,(function(e){return new a.default((function(t,r){y(n,e).then((function(e){e&&f.push(e),t()})).catch((function(e){r(e)}))}))})));case 17:if(A=I.sent,g=!0,!this.isCancel()){I.next=22;break}throw y=null,this._makeCancelEvent();case 22:if(!(A&&A.length>0)){I.next=25;break}throw A[0].message="Failed to upload some parts with error: "+A[0].toString()+" part_num: "+A[0].partNum,A[0];case 25:return I.next=27,u.default.awrap(this.completeMultipartUpload(p,c,f,t));case 27:return I.abrupt("return",I.sent);case 28:case"end":return I.stop()}}),null,this)},l.file=function(e){return"undefined"!==typeof File&&e instanceof File},l.blob=function(e){return"undefined"!==typeof Blob&&e instanceof Blob},m._getFileSize=function(e){var t;return u.default.async((function(n){while(1)switch(n.prev=n.next){case 0:if(!l.buffer(e)){n.next=4;break}return n.abrupt("return",e.length);case 4:if(!l.blob(e)&&!l.file(e)){n.next=6;break}return n.abrupt("return",e.size);case 6:if(!l.string(e)){n.next=11;break}return n.next=9,u.default.awrap(this._statFile(e));case 9:return t=n.sent,n.abrupt("return",t.size);case 11:throw new Error("_getFileSize requires Buffer/File/String.");case 12:case"end":return n.stop()}}),null,this)};var g=e("stream"),y=g.Readable;function v(e,t){if(!(this instanceof v))return new v(e,t);y.call(this,t),this.file=e,this.reader=new FileReader,this.start=0,this.finish=!1,this.fileBuffer=null}p.inherits(v,y),v.prototype.readFileAndPush=function(e){if(this.fileBuffer){var t=!0;while(t&&this.fileBuffer&&this.start<this.fileBuffer.length){var n=this.start,r=n+e;r=r>this.fileBuffer.length?this.fileBuffer.length:r,this.start=r,t=this.push(this.fileBuffer.slice(n,r))}}},v.prototype._read=function(e){if(this.file&&this.start>=this.file.size||this.fileBuffer&&this.start>=this.fileBuffer.length||this.finish||0===this.start&&!this.file)return this.finish||(this.fileBuffer=null,this.finish=!0),void this.push(null);var n=16384;e=e||n;var r=this;this.reader.onload=function(n){r.fileBuffer=new t(new Uint8Array(n.target.result)),r.file=null,r.readFileAndPush(e)},0===this.start?this.reader.readAsArrayBuffer(this.file):this.readFileAndPush(e)},m._createStream=function(e,t,n){if(l.blob(e)||l.file(e))return new v(e.slice(t,n));throw new Error("_createStream requires File/String.")},m._getPartSize=function(e,t){var n=1e4,r=1048576;return t?Math.max(Math.ceil(e/n),t):r},m._divideParts=function(e,t){for(var n=Math.ceil(e/t),r=[],o=0;o<n;o++){var i=t*o,a=Math.min(i+t,e);r.push({start:i,end:a})}return r}}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/array/from":18,"babel-runtime/core-js/promise":26,"babel-runtime/regenerator":35,buffer:40,"copy-to":43,"is-type-of":200,mime:299,path:212,stream:237,util:253}],4:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/promise"),o=c(r),i=e("babel-runtime/core-js/object/keys"),a=c(i),s=e("babel-runtime/regenerator"),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var l=e("utility"),p=e("fs"),f=e("is-type-of"),h=e("url"),d=e("copy-to"),m=e("path"),g=e("mime"),y=e("../common/callback"),v=e("../common/signUtils"),_=e("merge-descriptors"),b=n;b.append=function(e,t,n){var r;return u.default.async((function(o){while(1)switch(o.prev=o.next){case 0:return n=n||{},void 0===n.position&&(n.position="0"),n.subres={append:"",position:n.position},n.method="POST",o.next=6,u.default.awrap(this.put(e,t,n));case 6:return r=o.sent,r.nextAppendPosition=r.res.headers["x-oss-next-append-position"],o.abrupt("return",r);case 9:case"end":return o.stop()}}),null,this)},b.put=function(e,t,n){var r,o,i,a,s,c,l;return u.default.async((function(p){while(1)switch(p.prev=p.next){case 0:if(r=void 0,n=n||{},e=this._objectName(e),!f.buffer(t)){p.next=7;break}r=t,p.next=30;break;case 7:if(!f.blob(t)&&!f.file(t)){p.next=29;break}return n.mime||(f.file(t)?n.mime=g.getType(m.extname(t.name)):n.mime=t.type),o=this._createStream(t,0,t.size),p.next=12,u.default.awrap(this._getFileSize(t));case 12:return n.contentLength=p.sent,p.prev=13,p.next=16,u.default.awrap(this.putStream(e,o,n));case 16:return i=p.sent,p.abrupt("return",i);case 20:if(p.prev=20,p.t0=p["catch"](13),"RequestTimeTooSkewed"!==p.t0.code){p.next=27;break}return this.options.amendTimeSkewed=+new Date(p.t0.serverTime)-new Date,p.next=26,u.default.awrap(this.put(e,t,n));case 26:return p.abrupt("return",p.sent);case 27:p.next=30;break;case 29:throw new TypeError("Must provide Buffer/Blob for put.");case 30:return n.headers=n.headers||{},this._convertMetaToHeaders(n.meta,n.headers),a=n.method||"PUT",s=this._objectRequestParams(a,e,n),y.encodeCallback(s,n),s.mime=n.mime,s.content=r,s.successStatuses=[200],p.next=40,u.default.awrap(this.request(s));case 40:return c=p.sent,l={name:e,url:this._objectUrl(e),res:c.res},s.headers&&s.headers["x-oss-callback"]&&(l.data=JSON.parse(c.data.toString())),p.abrupt("return",l);case 44:case"end":return p.stop()}}),null,this,[[13,20]])},b.putStream=function(e,t,n){var r,o,i,a;return u.default.async((function(s){while(1)switch(s.prev=s.next){case 0:return n=n||{},n.headers=n.headers||{},e=this._objectName(e),n.contentLength?n.headers["Content-Length"]=n.contentLength:n.headers["Transfer-Encoding"]="chunked",this._convertMetaToHeaders(n.meta,n.headers),r=n.method||"PUT",o=this._objectRequestParams(r,e,n),y.encodeCallback(o,n),o.mime=n.mime,o.stream=t,o.successStatuses=[200],s.next=13,u.default.awrap(this.request(o));case 13:return i=s.sent,a={name:e,url:this._objectUrl(e),res:i.res},o.headers&&o.headers["x-oss-callback"]&&(a.data=JSON.parse(i.data.toString())),s.abrupt("return",a);case 17:case"end":return s.stop()}}),null,this)},b.head=function(e,t){var n,r,o;return u.default.async((function(i){while(1)switch(i.prev=i.next){case 0:return n=this._objectRequestParams("HEAD",e,t),n.successStatuses=[200,304],i.next=4,u.default.awrap(this.request(n));case 4:return r=i.sent,o={meta:null,res:r.res,status:r.status},200===r.status&&(0,a.default)(r.headers).forEach((function(e){0===e.indexOf("x-oss-meta-")&&(o.meta||(o.meta={}),o.meta[e.substring(11)]=r.headers[e])})),i.abrupt("return",o);case 8:case"end":return i.stop()}}),null,this)},b.get=function(e,t,n){var r,o,i,a;return u.default.async((function(s){while(1)switch(s.prev=s.next){case 0:return r=null,o=!1,f.writableStream(t)?r=t:f.string(t)?(r=p.createWriteStream(t),o=!0):n=t,n=n||{},n.process&&(n.subres=n.subres||{},n.subres["x-oss-process"]=n.process),i=void 0,s.prev=6,a=this._objectRequestParams("GET",e,n),a.writeStream=r,a.successStatuses=[200,206,304],s.next=12,u.default.awrap(this.request(a));case 12:i=s.sent,o&&r.destroy(),s.next=24;break;case 16:if(s.prev=16,s.t0=s["catch"](6),!o){s.next=23;break}return r.destroy(),this.debug("get error: %s, delete the exists file %s",s.t0,t,"error"),s.next=23,u.default.awrap(this._deleteFileSafe(t));case 23:throw s.t0;case 24:return s.abrupt("return",{res:i.res,content:i.data});case 25:case"end":return s.stop()}}),null,this,[[6,16]])},b.delete=function(e,t){var n,r;return u.default.async((function(o){while(1)switch(o.prev=o.next){case 0:return n=this._objectRequestParams("DELETE",e,t),n.successStatuses=[204],o.next=4,u.default.awrap(this.request(n));case 4:return r=o.sent,o.abrupt("return",{res:r.res});case 6:case"end":return o.stop()}}),null,this)},b.deleteMulti=function(e,t){var n,r,o,i,a,s;return u.default.async((function(c){while(1)switch(c.prev=c.next){case 0:for(t=t||{},n='<?xml version="1.0" encoding="UTF-8"?>\n<Delete>\n',t.quiet?n+="  <Quiet>true</Quiet>\n":n+="  <Quiet>false</Quiet>\n",r=0;r<e.length;r++)n+="  <Object><Key>"+l.escape(this._objectName(e[r]))+"</Key></Object>\n";return n+="</Delete>",this.debug("delete multi objects: %s",n,"info"),t.subres="delete",o=this._objectRequestParams("POST","",t),o.mime="xml",o.content=n,o.xmlResponse=!0,o.successStatuses=[200],c.next=14,u.default.awrap(this.request(o));case 14:return i=c.sent,a=i.data,s=a&&a.Deleted||null,s&&(Array.isArray(s)||(s=[s]),s=s.map((function(e){return e.Key}))),c.abrupt("return",{res:i.res,deleted:s});case 19:case"end":return c.stop()}}),null,this)},_(b,e("../common/object/copyObject")),b.putMeta=function(e,t,n){var r;return u.default.async((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,u.default.awrap(this.copy(e,e,{meta:t||{},timeout:n&&n.timeout,ctx:n&&n.ctx}));case 2:return r=o.sent,o.abrupt("return",r);case 4:case"end":return o.stop()}}),null,this)},b.list=function(e,t){var n,r,o,i,a;return u.default.async((function(s){while(1)switch(s.prev=s.next){case 0:return n=this._objectRequestParams("GET","",t),n.query=e,n.xmlResponse=!0,n.successStatuses=[200],s.next=6,u.default.awrap(this.request(n));case 6:return r=s.sent,o=r.data.Contents,i=this,o&&(Array.isArray(o)||(o=[o]),o=o.map((function(e){return{name:e.Key,url:i._objectUrl(e.Key),lastModified:e.LastModified,etag:e.ETag,type:e.Type,size:Number(e.Size),storageClass:e.StorageClass,owner:{id:e.Owner.ID,displayName:e.Owner.DisplayName}}}))),a=r.data.CommonPrefixes||null,a&&(Array.isArray(a)||(a=[a]),a=a.map((function(e){return e.Prefix}))),s.abrupt("return",{res:r.res,objects:o,prefixes:a,nextMarker:r.data.NextMarker||null,isTruncated:"true"===r.data.IsTruncated});case 13:case"end":return s.stop()}}),null,this)},b.putACL=function(e,t,n){var r,o;return u.default.async((function(i){while(1)switch(i.prev=i.next){case 0:return n=n||{},n.subres="acl",n.headers=n.headers||{},n.headers["x-oss-object-acl"]=t,e=this._objectName(e),r=this._objectRequestParams("PUT",e,n),r.successStatuses=[200],i.next=9,u.default.awrap(this.request(r));case 9:return o=i.sent,i.abrupt("return",{res:o.res});case 11:case"end":return i.stop()}}),null,this)},b.getACL=function(e,t){var n,r;return u.default.async((function(o){while(1)switch(o.prev=o.next){case 0:return t=t||{},t.subres="acl",e=this._objectName(e),n=this._objectRequestParams("GET",e,t),n.successStatuses=[200],n.xmlResponse=!0,o.next=8,u.default.awrap(this.request(n));case 8:return r=o.sent,o.abrupt("return",{acl:r.data.AccessControlList.Grant,owner:{id:r.data.Owner.ID,displayName:r.data.Owner.DisplayName},res:r.res});case 10:case"end":return o.stop()}}),null,this)},b.restore=function(e,t){var n,r;return u.default.async((function(o){while(1)switch(o.prev=o.next){case 0:return t=t||{},t.subres="restore",n=this._objectRequestParams("POST",e,t),n.successStatuses=[202],o.next=6,u.default.awrap(this.request(n));case 6:return r=o.sent,o.abrupt("return",{res:r.res});case 8:case"end":return o.stop()}}),null,this)},b.signatureUrl=function(e,t){t=t||{},e=this._objectName(e),t.method=t.method||"GET";var n=l.timestamp()+(t.expires||1800),r={bucket:this.options.bucket,object:e},o=this._getResource(r);this.options.stsToken&&(t["security-token"]=this.options.stsToken);var i=v._signatureForURL(this.options.accessKeySecret,t,o,n),a=h.parse(this._getReqUrl(r));return a.query={OSSAccessKeyId:this.options.accessKeyId,Expires:n,Signature:i.Signature},d(i.subResource).to(a.query),a.format()},b.getObjectUrl=function(e,t){return t?"/"!==t[t.length-1]&&(t+="/"):t=this.options.endpoint.format(),t+this._escape(this._objectName(e))},b._objectUrl=function(e){return this._getReqUrl({bucket:this.options.bucket,object:e})},b.generateObjectUrl=function(e,t){if(t)"/"!==t[t.length-1]&&(t+="/");else{t=this.options.endpoint.format();var n=h.parse(t),r=this.options.bucket;n.hostname=r+"."+n.hostname,n.host=r+"."+n.host,t=n.format()}return t+this._escape(this._objectName(e))},b._objectRequestParams=function(e,t,n){if(!this.options.bucket)throw new Error("Please create a bucket first");n=n||{},t=this._objectName(t);var r={object:t,bucket:this.options.bucket,method:e,subres:n&&n.subres,timeout:n&&n.timeout,ctx:n&&n.ctx};return n.headers&&(r.headers={},d(n.headers).to(r.headers)),r},b._objectName=function(e){return e.replace(/^\/+/,"")},b._statFile=function(e){return new o.default((function(t,n){p.stat(e,(function(e,r){e?n(e):t(r)}))}))},b._convertMetaToHeaders=function(e,t){e&&(0,a.default)(e).forEach((function(n){t["x-oss-meta-"+n]=e[n]}))},b._deleteFileSafe=function(e){var t=this;return new o.default((function(n){p.exists(e,(function(r){r?p.unlink(e,(function(r){r&&t.debug("unlink %j error: %s",e,r,"error"),n()})):n()}))}))}},{"../common/callback":6,"../common/object/copyObject":9,"../common/signUtils":11,"babel-runtime/core-js/object/keys":25,"babel-runtime/core-js/promise":26,"babel-runtime/regenerator":35,"copy-to":43,fs:38,"is-type-of":200,"merge-descriptors":203,mime:299,path:212,url:245,utility:300}],5:[function(e,t,n){"use strict";n.version="6.3.1"},{}],6:[function(e,t,n){(function(t){"use strict";var r=e("babel-runtime/core-js/object/keys"),o=s(r),i=e("babel-runtime/core-js/json/stringify"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}n.encodeCallback=function(e,n){if(e.headers=e.headers||{},!Object.prototype.hasOwnProperty.call(e.headers,"x-oss-callback")&&n.callback){var r={callbackUrl:encodeURI(n.callback.url),callbackBody:n.callback.body};n.callback.host&&(r.callbackHost=n.callback.host),n.callback.contentType&&(r.callbackBodyType=n.callback.contentType);var i=new t((0,a.default)(r)).toString("base64");if(e.headers["x-oss-callback"]=i,n.callback.customValue){var s={};(0,o.default)(n.callback.customValue).forEach((function(e){s["x:"+e]=n.callback.customValue[e]})),e.headers["x-oss-callback-var"]=new t((0,a.default)(s)).toString("base64")}}}}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":19,"babel-runtime/core-js/object/keys":25,buffer:40}],7:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/assign"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var a=e("humanize-ms"),s=e("url");function u(e,t){var n=s.parse(e);if(n.protocol||(n=s.parse("http"+(t?"s":"")+"://"+e)),"http:"!==n.protocol&&"https:"!==n.protocol)throw new Error("Endpoint protocol must be http or https.");return n}function c(e,t,n){var r=n?"https://":"http://",o=t?"-internal.aliyuncs.com":".aliyuncs.com",i="vpc100-oss-cn-";return e.substr(0,i.length)===i&&(o=".aliyuncs.com"),s.parse(r+e+o)}t.exports=function(e){if(!e||!e.accessKeyId||!e.accessKeySecret)throw new Error("require accessKeyId, accessKeySecret");var t=(0,o.default)({region:"oss-cn-hangzhou",internal:!1,secure:!1,timeout:6e4,bucket:null,endpoint:null,cname:!1,isRequestPay:!1},e);if(t.accessKeyId=t.accessKeyId.trim(),t.accessKeySecret=t.accessKeySecret.trim(),t.timeout&&(t.timeout=a(t.timeout)),t.endpoint)t.endpoint=u(t.endpoint,t.secure);else{if(!t.region)throw new Error("require options.endpoint or options.region");t.endpoint=c(t.region,t.internal,t.secure)}return t.inited=!0,t}},{"babel-runtime/core-js/object/assign":20,"humanize-ms":191,url:245}],8:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var a=e("copy-to"),s=e("./callback"),u=n;u.listUploads=function(e,t){var n,r,i,s;return o.default.async((function(u){while(1)switch(u.prev=u.next){case 0:return t=t||{},n={},a(t).to(n),n.subres="uploads",r=this._objectRequestParams("GET","",n),r.query=e,r.xmlResponse=!0,r.successStatuses=[200],u.next=10,o.default.awrap(this.request(r));case 10:return i=u.sent,s=i.data.Upload||[],Array.isArray(s)||(s=[s]),s=s.map((function(e){return{name:e.Key,uploadId:e.UploadId,initiated:e.Initiated}})),u.abrupt("return",{res:i.res,uploads:s,bucket:i.data.Bucket,nextKeyMarker:i.data.NextKeyMarker,nextUploadIdMarker:i.data.NextUploadIdMarker,isTruncated:"true"===i.data.IsTruncated});case 15:case"end":return u.stop()}}),null,this)},u.listParts=function(e,t,n,r){var i,s,u;return o.default.async((function(c){while(1)switch(c.prev=c.next){case 0:return r=r||{},i={},a(r).to(i),i.subres={uploadId:t},s=this._objectRequestParams("GET",e,i),s.query=n,s.xmlResponse=!0,s.successStatuses=[200],c.next=10,o.default.awrap(this.request(s));case 10:return u=c.sent,c.abrupt("return",{res:u.res,uploadId:u.data.UploadId,bucket:u.data.Bucket,name:u.data.Key,partNumberMarker:u.data.PartNumberMarker,nextPartNumberMarker:u.data.NextPartNumberMarker,maxParts:u.data.MaxParts,isTruncated:u.data.IsTruncated,parts:u.data.Part||[]});case 12:case"end":return c.stop()}}),null,this)},u.abortMultipartUpload=function(e,t,n){var r,i,s;return o.default.async((function(u){while(1)switch(u.prev=u.next){case 0:return this._stop(),n=n||{},r={},a(n).to(r),r.subres={uploadId:t},i=this._objectRequestParams("DELETE",e,r),i.successStatuses=[204],u.next=9,o.default.awrap(this.request(i));case 9:return s=u.sent,u.abrupt("return",{res:s.res});case 11:case"end":return u.stop()}}),null,this)},u.initMultipartUpload=function(e,t){var n,r,i;return o.default.async((function(s){while(1)switch(s.prev=s.next){case 0:return t=t||{},n={},a(t).to(n),n.headers=n.headers||{},this._convertMetaToHeaders(t.meta,n.headers),n.subres="uploads",r=this._objectRequestParams("POST",e,n),r.mime=t.mime,r.xmlResponse=!0,r.successStatuses=[200],s.next=12,o.default.awrap(this.request(r));case 12:return i=s.sent,s.abrupt("return",{res:i.res,bucket:i.data.Bucket,name:i.data.Key,uploadId:i.data.UploadId});case 14:case"end":return s.stop()}}),null,this)},u.uploadPart=function(e,t,n,r,i,a,s){var u;return o.default.async((function(c){while(1)switch(c.prev=c.next){case 0:return u={stream:this._createStream(r,i,a),size:a-i},c.next=3,o.default.awrap(this._uploadPart(e,t,n,u,s));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}),null,this)},u.completeMultipartUpload=function(e,t,n,r){var i,u,c,l,p,f,h,d;return o.default.async((function(m){while(1)switch(m.prev=m.next){case 0:for(i=n.concat().sort((function(e,t){return e.number-t.number})).filter((function(e,t,n){return!t||e.number!==n[t-1].number})),u='<?xml version="1.0" encoding="UTF-8"?>\n<CompleteMultipartUpload>\n',c=0;c<i.length;c++)l=i[c],u+="<Part>\n",u+="<PartNumber>"+l.number+"</PartNumber>\n",u+="<ETag>"+l.etag+"</ETag>\n",u+="</Part>\n";return u+="</CompleteMultipartUpload>",r=r||{},p={},a(r).to(p),p.subres={uploadId:t},f=this._objectRequestParams("POST",e,p),s.encodeCallback(f,p),f.mime="xml",f.content=u,f.headers&&f.headers["x-oss-callback"]||(f.xmlResponse=!0),f.successStatuses=[200],m.next=16,o.default.awrap(this.request(f));case 16:return h=m.sent,d={res:h.res,bucket:f.bucket,name:e,etag:h.res.headers.etag},f.headers&&f.headers["x-oss-callback"]&&(d.data=JSON.parse(h.data.toString())),m.abrupt("return",d);case 20:case"end":return m.stop()}}),null,this)},u._uploadPart=function(e,t,n,r,i){var s,u,c;return o.default.async((function(l){while(1)switch(l.prev=l.next){case 0:return i=i||{},s={},a(i).to(s),s.headers={"Content-Length":r.size},s.subres={partNumber:n,uploadId:t},u=this._objectRequestParams("PUT",e,s),u.mime=s.mime,u.stream=r.stream,u.successStatuses=[200],l.next=11,o.default.awrap(this.request(u));case 11:return c=l.sent,r.stream=null,u.stream=null,l.abrupt("return",{name:e,etag:c.res.headers.etag,res:c.res});case 15:case"end":return l.stop()}}),null,this)}},{"./callback":6,"babel-runtime/regenerator":35,"copy-to":43}],9:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=c(r),i=e("babel-runtime/core-js/object/keys"),a=c(i),s=e("babel-runtime/helpers/typeof"),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var l=n;l.copy=function(e,t,n,r){var i,s,c;return o.default.async((function(l){while(1)switch(l.prev=l.next){case 0:return"object"===("undefined"===typeof n?"undefined":(0,u.default)(n))&&(r=n),r=r||{},r.headers=r.headers||{},(0,a.default)(r.headers).forEach((function(e){r.headers["x-oss-copy-source-"+e.toLowerCase()]=r.headers[e]})),r.meta&&(r.headers["x-oss-metadata-directive"]="REPLACE"),this._convertMetaToHeaders(r.meta,r.headers),t=this._getSourceName(t,n),r.headers["x-oss-copy-source"]=t,i=this._objectRequestParams("PUT",e,r),i.xmlResponse=!0,i.successStatuses=[200,304],l.next=13,o.default.awrap(this.request(i));case 13:return s=l.sent,c=s.data,c&&(c={etag:c.ETag,lastModified:c.LastModified}),l.abrupt("return",{data:c,res:s.res});case 17:case"end":return l.stop()}}),null,this)},l._getSourceName=function(e,t){return"string"===typeof t?e=this._objectName(e):"/"!==e[0]?t=this.options.bucket:(t=e.replace(/\/(.+?)(\/.*)/,"$1"),e=e.replace(/(\/.+?\/)(.*)/,"$2")),this._checkBucketName(t),e="/"+t+"/"+encodeURIComponent(e),e}},{"babel-runtime/core-js/object/keys":25,"babel-runtime/helpers/typeof":34,"babel-runtime/regenerator":35}],10:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=s(r),i=e("babel-runtime/core-js/promise"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=n;u._parallelNode=function(e,t,n,r){var i,s,u,c,l,p,f,h;return o.default.async((function(d){while(1)switch(d.prev=d.next){case 0:i=this,s=[],u=[],c=e.length/t,l=e.length%t,p=0===l?c:(e.length-l)/t+1,f=1,h=0;case 8:if(!(h<e.length)){d.next=26;break}if(!i.isCancel()){d.next=11;break}return d.abrupt("break",26);case 11:if(r?u.push(n(i,e[h],r)):u.push(n(i,e[h])),u.length!==t&&(f!==p||h!==e.length-1)){d.next=23;break}return d.prev=13,f+=1,d.next=17,o.default.awrap(a.default.all(u));case 17:d.next=22;break;case 19:d.prev=19,d.t0=d["catch"](13),s.push(d.t0);case 22:u=[];case 23:h++,d.next=8;break;case 26:return d.abrupt("return",s);case 27:case"end":return d.stop()}}),null,this,[[13,19]])},u._parallel=function(e,t,n){var r=this;return new a.default((function(o){var i=[];if(t<=0||!e)o(i);else{var a=p(e),s=!1,u=0,c=!1;d()}function l(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];t.apply(this,r)}}function p(e){var t=-1,n=e.length;return function(){return++t<n&&!r.isCancel()?{value:e[t],key:t}:null}}function f(e,t){u-=1,e?(s=!0,i.push(e),o(i)):t==={}||s&&u<=0?(s=!0,o(i)):c||(r.isCancel()?o(i):d())}function h(e,t){n(e).then((function(e){t(null,e)})).catch((function(e){t(e)}))}function d(){c=!0;while(u<t&&!s&&!r.isCancel()){var e=a();if(null===e||i.length>0)return s=!0,void(u<=0&&o(i));u+=1,h(e.value,l(f))}c=!1}}))},u.cancel=function(e){this.options.cancelFlag=!0,e&&this.abortMultipartUpload(e.name,e.uploadId,e.options)},u.isCancel=function(){return this.options.cancelFlag},u.resetCancelFlag=function(){this.options.cancelFlag=!1},u._stop=function(){this.options.cancelFlag=!0},u._makeCancelEvent=function(){var e={status:0,name:"cancel"};return e}},{"babel-runtime/core-js/promise":26,"babel-runtime/regenerator":35}],11:[function(e,t,n){(function(t){"use strict";var r=e("babel-runtime/core-js/json/stringify"),o=s(r),i=e("babel-runtime/core-js/object/keys"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=e("./../../shims/crypto/crypto.js"),c=e("is-type-of");n.buildCanonicalizedResource=function(e,t){var n=""+e,r="?";if(c.string(t)&&""!==t.trim())n+=r+t;else if(c.array(t))t.sort(),n+=r+t.join("&");else if(t){var o=function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0},i=function(e){n+=r+e,t[e]&&(n+="="+t[e]),r="&"};(0,a.default)(t).sort(o).forEach(i)}return n},n.buildCanonicalString=function(e,t,n,r){n=n||{};var o=n.headers||{},i="x-oss-",s=[],u={},c=[e.toUpperCase(),o["Content-Md5"]||"",o["Content-Type"]||o["Content-Type".toLowerCase()],r||o["x-oss-date"]];return(0,a.default)(o).forEach((function(e){var t=e.toLowerCase();0===t.indexOf(i)&&(u[t]=String(o[e]).trim())})),(0,a.default)(u).sort().forEach((function(e){s.push(e+":"+u[e])})),c=c.concat(s),c.push(this.buildCanonicalizedResource(t,n.parameters)),c.join("\n")},n.computeSignature=function(e,n){var r=u.createHmac("sha1",e);return r.update(new t(n,"utf8")).digest("base64")},n.authorization=function(e,t,n){return"OSS "+e+":"+this.computeSignature(t,n)},n._signatureForURL=function(e,n,r,i){var s={},u={};if(n.process){var c="x-oss-process";u[c]=n.process}if(n.response&&(0,a.default)(n.response).forEach((function(e){var t="response-"+e.toLowerCase();u[t]=n.response[e]})),(0,a.default)(n).forEach((function(e){var t=e.toLowerCase(),r=n[e];0===t.indexOf("x-oss-")?s[t]=r:0===t.indexOf("content-md5")?s[e]=r:0===t.indexOf("content-type")?s[e]=r:"expires"!==t&&"response"!==t&&"process"!==t&&"method"!==t&&(u[t]=r)})),Object.prototype.hasOwnProperty.call(n,"security-token")&&(u["security-token"]=n["security-token"]),Object.prototype.hasOwnProperty.call(n,"callback")){var l={callbackUrl:encodeURI(n.callback.url),callbackBody:n.callback.body};if(n.callback.host&&(l.callbackHost=n.callback.host),n.callback.contentType&&(l.callbackBodyType=n.callback.contentType),u.callback=new t((0,o.default)(l)).toString("base64"),n.callback.customValue){var p={};(0,a.default)(n.callback.customValue).forEach((function(e){p["x:"+e]=n.callback.customValue[e]})),u["callback-var"]=new t((0,o.default)(p)).toString("base64")}}var f=this.buildCanonicalString(n.method,r,{headers:s,parameters:u},i.toString());return{Signature:this.computeSignature(e,f),subResource:u}}}).call(this,e("buffer").Buffer)},{"./../../shims/crypto/crypto.js":294,"babel-runtime/core-js/json/stringify":19,"babel-runtime/core-js/object/keys":25,buffer:40,"is-type-of":200}],12:[function(e,t,n){"use strict";t.exports=function(e){var t=/^[a-z0-9][a-z0-9-]{1,61}[a-z0-9]$/,n=t.test(e);return n}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){var t=/^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}$/,n=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r=t.test(e)||n.test(e);return r}},{}],14:[function(e,t,n){function r(){}t.exports=r,t.exports.HttpsAgent=r},{}],15:[function(e,t,n){t.exports=e("./register")().Promise},{"./register":17}],16:[function(e,t,n){"use strict";var r="@@any-promise/REGISTRATION",o=null;t.exports=function(e,t){return function(n,i){n=n||null,i=i||{};var a=!1!==i.global;if(null===o&&a&&(o=e[r]||null),null!==o&&null!==n&&o.implementation!==n)throw new Error('any-promise already defined as "'+o.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===o&&(o=null!==n&&"undefined"!==typeof i.Promise?{Promise:i.Promise,implementation:n}:t(n),a&&(e[r]=o)),o}}},{}],17:[function(e,t,n){"use strict";function r(){if("undefined"===typeof window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}t.exports=e("./loader")(window,r)},{"./loader":16}],18:[function(e,t,n){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":44}],19:[function(e,t,n){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":45}],20:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":46}],21:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":47}],22:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":48}],23:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/get-own-property-names"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-names":49}],24:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":50}],25:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":51}],26:[function(e,t,n){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":52}],27:[function(e,t,n){t.exports={default:e("core-js/library/fn/set-immediate"),__esModule:!0}},{"core-js/library/fn/set-immediate":53}],28:[function(e,t,n){t.exports={default:e("core-js/library/fn/string/from-code-point"),__esModule:!0}},{"core-js/library/fn/string/from-code-point":54}],29:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":56}],30:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/has-instance"),__esModule:!0}},{"core-js/library/fn/symbol/has-instance":55}],31:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":57}],32:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],33:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../core-js/object/define-property"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}n.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},{"../core-js/object/define-property":22}],34:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../core-js/symbol/iterator"),o=u(r),i=e("../core-js/symbol"),a=u(i),s="function"===typeof a.default&&"symbol"===typeof o.default?function(e){return typeof e}:function(e){return e&&"function"===typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function u(e){return e&&e.__esModule?e:{default:e}}n.default="function"===typeof a.default&&"symbol"===s(o.default)?function(e){return"undefined"===typeof e?"undefined":s(e)}:function(e){return e&&"function"===typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":"undefined"===typeof e?"undefined":s(e)}},{"../core-js/symbol":29,"../core-js/symbol/iterator":31}],35:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":233}],36:[function(e,t,n){"use strict";n.byteLength=l,n.toByteArray=f,n.fromByteArray=m;for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function l(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function p(e,t,n){return 3*(t+n)/4-n}function f(e){for(var t,n=c(e),r=n[0],a=n[1],s=new i(p(e,r,a)),u=0,l=a>0?r-4:r,f=0;f<l;f+=4)t=o[e.charCodeAt(f)]<<18|o[e.charCodeAt(f+1)]<<12|o[e.charCodeAt(f+2)]<<6|o[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=o[e.charCodeAt(f)]<<2|o[e.charCodeAt(f+1)]>>4,s[u++]=255&t),1===a&&(t=o[e.charCodeAt(f)]<<10|o[e.charCodeAt(f+1)]<<4|o[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function h(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(h(r));return o.join("")}function m(e){for(var t,n=e.length,o=n%3,i=[],a=16383,s=0,u=n-o;s<u;s+=a)i.push(d(e,s,s+a>u?u:s+a));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],37:[function(t,n,r){
/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(t,r,o){"undefined"!=typeof n&&n.exports?n.exports=o():"function"==typeof e&&e.amd?e(r,o):t[r]=o()}(this,"bowser",(function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var o,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(t),u=!s&&/android/i.test(t),c=/nexus\s*[0-6]\s*/i.test(t),l=!c&&/nexus\s*[0-9]+/i.test(t),p=/CrOS/.test(t),f=/silk/i.test(t),h=/sailfish/i.test(t),d=/tizen/i.test(t),m=/(web|hpw)(o|0)s/i.test(t),g=/windows phone/i.test(t),y=(/SamsungBrowser/i.test(t),!g&&/windows/i.test(t)),v=!a&&!f&&/macintosh/i.test(t),_=!u&&!h&&!d&&!m&&/linux/i.test(t),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),E=n(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(t)&&!/tablet pc/i.test(t),A=!S&&/[^-]mobi/i.test(t),I=/xbox/i.test(t);function w(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}/opera/i.test(t)?o={name:"Opera",opera:e,version:E||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?o={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||E}:/SamsungBrowser/i.test(t)?o={name:"Samsung Internet for Android",samsungBrowser:e,version:E||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?o={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?o={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?o={name:"Opera Coast",coast:e,version:E||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?o={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?o={name:"Yandex Browser",yandexbrowser:e,version:E||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?o={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?o={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?o={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?o={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?o={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?o={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(o={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(o.msedge=e,o.version=b):(o.msie=e,o.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?o={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:p?o={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?o={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?o={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||E}:h?o={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?o={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(o={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(o.firefoxos=e,o.osname="Firefox OS")):f?o={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?o={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?o={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?o={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:E||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:m?(o={name:"WebOS",osname:"WebOS",webos:e,version:E||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(o.touchpad=e)):/bada/i.test(t)?o={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:d?o={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||E}:/qupzilla/i.test(t)?o={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||E}:/chromium/i.test(t)?o={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||E}:/chrome|crios|crmo/i.test(t)?o={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:u?o={name:"Android",version:E}:/safari|applewebkit/i.test(t)?(o={name:"Safari",safari:e},E&&(o.version=E)):a?(o={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},E&&(o.version=E)):o=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||E}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(o.name=o.name||"Blink",o.blink=e):(o.name=o.name||"Webkit",o.webkit=e),!o.version&&E&&(o.version=E)):!o.opera&&/gecko\//i.test(t)&&(o.name=o.name||"Gecko",o.gecko=e,o.version=o.version||n(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||!u&&!o.silk?!o.windowsphone&&a?(o[a]=e,o.ios=e,o.osname="iOS"):v?(o.mac=e,o.osname="macOS"):I?(o.xbox=e,o.osname="Xbox"):y?(o.windows=e,o.osname="Windows"):_&&(o.linux=e,o.osname="Linux"):(o.android=e,o.osname="Android");var T="";o.windows?T=w(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):o.windowsphone?T=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.mac?(T=n(/Mac OS X (\d+([_\.\s]\d+)*)/i),T=T.replace(/[_\s]/g,".")):a?(T=n(/os (\d+([_\s]\d+)*) like mac os x/i),T=T.replace(/[_\s]/g,".")):u?T=n(/android[ \/-](\d+(\.\d+)*)/i):o.webos?T=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?T=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?T=n(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(T=n(/tizen[\/\s](\d+(\.\d+)*)/i)),T&&(o.osversion=T);var C=!o.windows&&T.split(".")[0];return S||l||"ipad"==a||u&&(3==C||C>=4&&!A)||o.silk?o.tablet=e:(A||"iphone"==a||"ipod"==a||u||c||o.blackberry||o.webos||o.bada)&&(o.mobile=e),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.vivaldi&&o.version>=1||o.chrome&&o.version>=20||o.samsungBrowser&&o.version>=4||o.whale&&1===i([o.version,"1.0"])||o.mzbrowser&&1===i([o.version,"6.0"])||o.focus&&1===i([o.version,"1.0"])||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1||o.chromium&&o.version>=20?o.a=e:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=e:o.x=e,o}var n=t("undefined"!==typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function o(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function i(e){var t=Math.max(r(e[0]),r(e[1])),n=o(e,(function(e){var n=t-r(e);return e+=new Array(n+1).join(".0"),o(e.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));while(--t>=0){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function a(e,r,o){var a=n;"string"===typeof r&&(o=r,r=void 0),void 0===r&&(r=!1),o&&(a=t(o));var s=""+a.version;for(var u in e)if(e.hasOwnProperty(u)&&a[u]){if("string"!==typeof e[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(e));return i([s,e[u]])<0}return r}function s(e,t,n){return!a(e,t,n)}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"===typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=i,n.check=s,n._detect=t,n.detect=t,n}))},{}],38:[function(e,t,n){},{}],39:[function(e,t,n){var r=e("buffer").Buffer,o=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){if(e&&!o(e))throw new Error("Unknown encoding: "+e)}var a=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),i(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=u;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=c;break;default:return void(this.write=s)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};function s(e){return e.toString(this.encoding)}function u(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function c(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}a.prototype.write=function(e){var t="";while(this.charLength){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var o=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,o),o-=this.charReceived),t+=e.toString(this.encoding,0,o);o=t.length-1,r=t.charCodeAt(o);if(r>=55296&&r<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,o)}return t},a.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},a.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,o=this.encoding;t+=r.slice(0,n).toString(o)}return t}},{buffer:40}],40:[function(e,n,r){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
"use strict";var n=e("base64-js"),o=e("ieee754"),i=e("isarray");function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,n,r):"string"===typeof t?d(e,t,n):y(e,t)}function p(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t,n,r){return p(t),t<=0?u(e,t):void 0!==n?"string"===typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}function h(e,t){if(p(t),e=u(e,t<0?0:0|v(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(t,n);e=u(e,r);var o=e.write(t,n);return o!==r&&(e=e.slice(0,o)),e}function m(e,t){var n=t.length<0?0:0|v(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function g(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=m(e,t),e}function y(e,t){if(c.isBuffer(t)){var n=0|v(t.length);return e=u(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?u(e,0):m(e,t);if("Buffer"===t.type&&i(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),c.alloc(+e)}function b(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function E(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return G(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function S(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function A(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:I(e,t,n,r,o);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):I(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function I(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var p=!0,f=0;f<u;f++)if(c(e,i+f)!==c(t,f)){p=!1;break}if(p)return i}return-1}function w(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function T(e,t,n,r){return ee(W(t,e.length-n),e,n,r)}function C(e,t,n,r){return ee(J(t),e,n,r)}function O(e,t,n,r){return C(e,t,n,r)}function M(e,t,n,r){return ee($(t),e,n,r)}function D(e,t,n,r){return ee(Q(t,e.length-n),e,n,r)}function N(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,n){n=Math.min(e.length,n);var r=[],o=t;while(o<n){var i,a,s,u,c=e[o],l=null,p=c>239?4:c>223?3:c>191?2:1;if(o+p<=n)switch(p){case 1:c<128&&(l=c);break;case 2:i=e[o+1],128===(192&i)&&(u=(31&c)<<6|63&i,u>127&&(l=u));break;case 3:i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,p=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=p}return P(r)}r.Buffer=c,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),r.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return f(null,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):E.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var i=o-r,a=n-t,s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),p=0;p<s;++p)if(u[p]!==l[p]){i=u[p],a=l[p];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return A(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return A(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return M(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function P(e){var t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=L));return n}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function G(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=X(e[i]);return o}function j(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function U(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function q(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function Z(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,i){return i||Z(e,t,n,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,i){return i||Z(e,t,n,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e],o=1,i=0;while(++i<t&&(o*=256))r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e+--t],o=1;while(t>0&&(o*=256))r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e],o=1,i=0;while(++i<t&&(o*=256))r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=t,o=1,i=this[e+--r];while(r>0&&(o*=256))i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;F(this,e,t,n,o,0)}var i=1,a=0;this[t]=255&e;while(++a<n&&(i*=256))this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;F(this,e,t,n,o,0)}var i=n-1,a=1;this[t+i]=255&e;while(--i>=0&&(a*=256))this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);F(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;this[t]=255&e;while(++i<n&&(a*=256))e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);F(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;this[t+i]=255&e;while(--i>=0&&(a*=256))e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return V(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return V(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:W(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function Y(e){if(e=K(e).replace(z,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function K(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function X(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function J(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Q(e,t){for(var n,r,o,i=[],a=0;a<e.length;++a){if((t-=2)<0)break;n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r)}return i}function $(e){return n.toByteArray(Y(e))}function ee(e,t,n,r){for(var o=0;o<r;++o){if(o+n>=t.length||o>=e.length)break;t[o+n]=e[o]}return o}function te(e){return e!==e}}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":36,ieee754:192,isarray:201}],41:[function(e,t,n){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],42:[function(e,t,n){t.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},{}],43:[function(e,t,n){
/*!
 * copy-to - index.js
 * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
 * MIT Licensed
 */
"use strict";var r=Array.prototype.slice;function o(e,t){if(!(this instanceof o))return new o(e,t);this.src=e,this._withAccess=t}function i(e,t){return void 0===e[t]&&void 0===e.__lookupGetter__(t)&&void 0===e.__lookupSetter__(t)}t.exports=o,o.prototype.withAccess=function(e){return this._withAccess=!1!==e,this},o.prototype.pick=function(e){return Array.isArray(e)||(e=r.call(arguments)),e.length&&(this.keys=e),this},o.prototype.to=function(e){if(e=e||{},!this.src)return e;var t=this.keys||Object.keys(this.src);if(!this._withAccess){for(var n=0;n<t.length;n++)r=t[n],void 0===e[r]&&(e[r]=this.src[r]);return e}for(n=0;n<t.length;n++){var r=t[n];if(i(e,r)){var o=this.src.__lookupGetter__(r),a=this.src.__lookupSetter__(r);o&&e.__defineGetter__(r,o),a&&e.__defineSetter__(r,a),o||a||(e[r]=this.src[r])}}return e},o.prototype.toCover=function(e){for(var t=this.keys||Object.keys(this.src),n=0;n<t.length;n++){var r=t[n];delete e[r];var o=this.src.__lookupGetter__(r),i=this.src.__lookupSetter__(r);o&&e.__defineGetter__(r,o),i&&e.__defineSetter__(r,i),o||i||(e[r]=this.src[r])}},o.prototype.override=o.prototype.toCover,o.prototype.and=function(e){var t={};return this.to(t),this.src=e,this.to(t),this.src=t,this}},{}],44:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":65,"../../modules/es6.array.from":133,"../../modules/es6.string.iterator":145}],45:[function(e,t,n){var r=e("../../modules/_core"),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(e){return o.stringify.apply(o,arguments)}},{"../../modules/_core":65}],46:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":65,"../../modules/es6.object.assign":136}],47:[function(e,t,n){e("../../modules/es6.object.create");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.create(e,t)}},{"../../modules/_core":65,"../../modules/es6.object.create":137}],48:[function(e,t,n){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,n){return r.defineProperty(e,t,n)}},{"../../modules/_core":65,"../../modules/es6.object.define-property":138}],49:[function(e,t,n){e("../../modules/es6.object.get-own-property-names");var r=e("../../modules/_core").Object;t.exports=function(e){return r.getOwnPropertyNames(e)}},{"../../modules/_core":65,"../../modules/es6.object.get-own-property-names":139}],50:[function(e,t,n){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":65,"../../modules/es6.object.get-prototype-of":140}],51:[function(e,t,n){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":65,"../../modules/es6.object.keys":141}],52:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":65,"../modules/es6.object.to-string":142,"../modules/es6.promise":143,"../modules/es6.string.iterator":145,"../modules/es7.promise.finally":147,"../modules/es7.promise.try":148,"../modules/web.dom.iterable":151}],53:[function(e,t,n){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":65,"../modules/web.immediate":152}],54:[function(e,t,n){e("../../modules/es6.string.from-code-point"),t.exports=e("../../modules/_core").String.fromCodePoint},{"../../modules/_core":65,"../../modules/es6.string.from-code-point":144}],55:[function(e,t,n){e("../../modules/es6.function.has-instance"),t.exports=e("../../modules/_wks-ext").f("hasInstance")},{"../../modules/_wks-ext":130,"../../modules/es6.function.has-instance":135}],56:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":65,"../../modules/es6.object.to-string":142,"../../modules/es6.symbol":146,"../../modules/es7.symbol.async-iterator":149,"../../modules/es7.symbol.observable":150}],57:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":130,"../../modules/es6.string.iterator":145,"../../modules/web.dom.iterable":151}],58:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],59:[function(e,t,n){t.exports=function(){}},{}],60:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],61:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":85}],62:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,n,a){var s,u=r(t),c=o(u.length),l=i(a,c);if(e&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":121,"./_to-iobject":123,"./_to-length":124}],63:[function(e,t,n){var r=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};t.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},{"./_cof":64,"./_wks":131}],64:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],65:[function(e,t,n){var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},{}],66:[function(e,t,n){"use strict";var r=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},{"./_object-dp":98,"./_property-desc":111}],67:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":58}],68:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],69:[function(e,t,n){t.exports=!e("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":74}],70:[function(e,t,n){var r=e("./_is-object"),o=e("./_global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":76,"./_is-object":85}],71:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],72:[function(e,t,n){var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=r(e),n=o.f;if(n){var a,s=n(e),u=i.f,c=0;while(s.length>c)u.call(e,a=s[c++])&&t.push(a)}return t}},{"./_object-gops":103,"./_object-keys":106,"./_object-pie":107}],73:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_ctx"),a=e("./_hide"),s=e("./_has"),u="prototype",c=function(e,t,n){var l,p,f,h=e&c.F,d=e&c.G,m=e&c.S,g=e&c.P,y=e&c.B,v=e&c.W,_=d?o:o[t]||(o[t]={}),b=_[u],E=d?r:m?r[t]:(r[t]||{})[u];for(l in d&&(n=t),n)p=!h&&E&&void 0!==E[l],p&&s(_,l)||(f=p?E[l]:n[l],_[l]=d&&"function"!=typeof E[l]?n[l]:y&&p?i(f,r):v&&E[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[u]=e[u],t}(f):g&&"function"==typeof f?i(Function.call,f):f,g&&((_.virtual||(_.virtual={}))[l]=f,e&c.R&&b&&!b[l]&&a(b,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":65,"./_ctx":67,"./_global":76,"./_has":77,"./_hide":78}],74:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],75:[function(e,t,n){var r=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),a=e("./_an-object"),s=e("./_to-length"),u=e("./core.get-iterator-method"),c={},l={};n=t.exports=function(e,t,n,p,f){var h,d,m,g,y=f?function(){return e}:u(e),v=r(n,p,t?2:1),_=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(h=s(e.length);h>_;_++)if(g=t?v(a(d=e[_])[0],d[1]):v(e[_]),g===c||g===l)return g}else for(m=y.call(e);!(d=m.next()).done;)if(g=o(m,v,d.value,t),g===c||g===l)return g};n.BREAK=c,n.RETURN=l},{"./_an-object":61,"./_ctx":67,"./_is-array-iter":83,"./_iter-call":86,"./_to-length":124,"./core.get-iterator-method":132}],76:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],77:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],78:[function(e,t,n){var r=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":69,"./_object-dp":98,"./_property-desc":111}],79:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":76}],80:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")((function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":69,"./_dom-create":70,"./_fails":74}],81:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],82:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":64}],83:[function(e,t,n){var r=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},{"./_iterators":91,"./_wks":131}],84:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":64}],85:[function(e,t,n){t.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},{}],86:[function(e,t,n){var r=e("./_an-object");t.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e["return"];throw void 0!==i&&r(i.call(e)),a}}},{"./_an-object":61}],87:[function(e,t,n){"use strict";var r=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),(function(){return this})),t.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},{"./_hide":78,"./_object-create":97,"./_property-desc":111,"./_set-to-string-tag":115,"./_wks":131}],88:[function(e,t,n){"use strict";var r=e("./_library"),o=e("./_export"),i=e("./_redefine"),a=e("./_hide"),s=e("./_iterators"),u=e("./_iter-create"),c=e("./_set-to-string-tag"),l=e("./_object-gpo"),p=e("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),h="@@iterator",d="keys",m="values",g=function(){return this};t.exports=function(e,t,n,y,v,_,b){u(n,t,y);var E,S,A,I=function(e){if(!f&&e in O)return O[e];switch(e){case d:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",T=v==m,C=!1,O=e.prototype,M=O[p]||O[h]||v&&O[v],D=M||I(v),N=v?T?I("entries"):D:void 0,x="Array"==t&&O.entries||M;if(x&&(A=l(x.call(new e)),A!==Object.prototype&&A.next&&(c(A,w,!0),r||"function"==typeof A[p]||a(A,p,g))),T&&M&&M.name!==m&&(C=!0,D=function(){return M.call(this)}),r&&!b||!f&&!C&&O[p]||a(O,p,D),s[t]=D,s[w]=g,v)if(E={values:T?D:I(m),keys:_?D:I(d),entries:N},b)for(S in E)S in O||i(O,S,E[S]);else o(o.P+o.F*(f||C),t,E);return E}},{"./_export":73,"./_hide":78,"./_iter-create":87,"./_iterators":91,"./_library":92,"./_object-gpo":104,"./_redefine":113,"./_set-to-string-tag":115,"./_wks":131}],89:[function(e,t,n){var r=e("./_wks")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(a){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(a){}return n}},{"./_wks":131}],90:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],91:[function(e,t,n){t.exports={}},{}],92:[function(e,t,n){t.exports=!0},{}],93:[function(e,t,n){var r=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,s=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},p=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},f=function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&d.NEED&&u(e)&&!i(e,r)&&l(e),e},d=t.exports={KEY:r,NEED:!1,fastKey:p,getWeak:f,onFreeze:h}},{"./_fails":74,"./_has":77,"./_is-object":85,"./_object-dp":98,"./_uid":127}],94:[function(e,t,n){var r=e("./_global"),o=e("./_task").set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==e("./_cof")(a);t.exports=function(){var e,t,n,c=function(){var r,o;u&&(r=a.domain)&&r.exit();while(e){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var p=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=p=!p}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},{"./_cof":64,"./_global":76,"./_task":120}],95:[function(e,t,n){"use strict";var r=e("./_a-function");function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}t.exports.f=function(e){return new o(e)}},{"./_a-function":58}],96:[function(e,t,n){"use strict";var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie"),a=e("./_to-object"),s=e("./_iobject"),u=Object.assign;t.exports=!u||e("./_fails")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){var n=a(e),u=arguments.length,c=1,l=o.f,p=i.f;while(u>c){var f,h=s(arguments[c++]),d=l?r(h).concat(l(h)):r(h),m=d.length,g=0;while(m>g)p.call(h,f=d[g++])&&(n[f]=h[f])}return n}:u},{"./_fails":74,"./_iobject":82,"./_object-gops":103,"./_object-keys":106,"./_object-pie":107,"./_to-object":125}],97:[function(e,t,n){var r=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,n=e("./_dom-create")("iframe"),r=i.length,o="<",a=">";n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;while(r--)delete c[u][i[r]];return c()};t.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},{"./_an-object":61,"./_dom-create":70,"./_enum-bug-keys":71,"./_html":79,"./_object-dps":99,"./_shared-key":116}],98:[function(e,t,n){var r=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":61,"./_descriptors":69,"./_ie8-dom-define":80,"./_to-primitive":126}],99:[function(e,t,n){var r=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);var n,a=i(t),s=a.length,u=0;while(s>u)r.f(e,n=a[u++],t[n]);return e}},{"./_an-object":61,"./_descriptors":69,"./_object-dp":98,"./_object-keys":106}],100:[function(e,t,n){var r=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=a(t,!0),u)try{return c(e,t)}catch(n){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},{"./_descriptors":69,"./_has":77,"./_ie8-dom-define":80,"./_object-pie":107,"./_property-desc":111,"./_to-iobject":123,"./_to-primitive":126}],101:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return a.slice()}};t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(r(e))}},{"./_object-gopn":102,"./_to-iobject":123}],102:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},{"./_enum-bug-keys":71,"./_object-keys-internal":105}],103:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],104:[function(e,t,n){var r=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":77,"./_shared-key":116,"./_to-object":125}],105:[function(e,t,n){var r=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,s=o(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);while(t.length>u)r(s,n=t[u++])&&(~i(c,n)||c.push(n));return c}},{"./_array-includes":62,"./_has":77,"./_shared-key":116,"./_to-iobject":123}],106:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,o)}},{"./_enum-bug-keys":71,"./_object-keys-internal":105}],107:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],108:[function(e,t,n){var r=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},{"./_core":65,"./_export":73,"./_fails":74}],109:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},{}],110:[function(e,t,n){var r=e("./_an-object"),o=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e),a=n.resolve;return a(t),n.promise}},{"./_an-object":61,"./_is-object":85,"./_new-promise-capability":95}],111:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],112:[function(e,t,n){var r=e("./_hide");t.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},{"./_hide":78}],113:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":78}],114:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_core"),i=e("./_object-dp"),a=e("./_descriptors"),s=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},{"./_core":65,"./_descriptors":69,"./_global":76,"./_object-dp":98,"./_wks":131}],115:[function(e,t,n){var r=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./_has":77,"./_object-dp":98,"./_wks":131}],116:[function(e,t,n){var r=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return r[e]||(r[e]=o(e))}},{"./_shared":117,"./_uid":127}],117:[function(e,t,n){var r=e("./_core"),o=e("./_global"),i="__core-js_shared__",a=o[i]||(o[i]={});(t.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":65,"./_global":76,"./_library":92}],118:[function(e,t,n){var r=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},{"./_a-function":58,"./_an-object":61,"./_wks":131}],119:[function(e,t,n){var r=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536)}}},{"./_defined":68,"./_to-integer":122}],120:[function(e,t,n){var r,o,i,a=e("./_ctx"),s=e("./_invoke"),u=e("./_html"),c=e("./_dom-create"),l=e("./_global"),p=l.process,f=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,m=l.Dispatch,g=0,y={},v="onreadystatechange",_=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){_.call(e.data)};f&&h||(f=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return y[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},h=function(e){delete y[e]},"process"==e("./_cof")(p)?r=function(e){p.nextTick(a(_,e,1))}:m&&m.now?r=function(e){m.now(a(_,e,1))}:d?(o=new d,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=v in c("script")?function(e){u.appendChild(c("script"))[v]=function(){u.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),t.exports={set:f,clear:h}},{"./_cof":64,"./_ctx":67,"./_dom-create":70,"./_global":76,"./_html":79,"./_invoke":81}],121:[function(e,t,n){var r=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":122}],122:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},{}],123:[function(e,t,n){var r=e("./_iobject"),o=e("./_defined");t.exports=function(e){return r(o(e))}},{"./_defined":68,"./_iobject":82}],124:[function(e,t,n){var r=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(r(e),9007199254740991):0}},{"./_to-integer":122}],125:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":68}],126:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":85}],127:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],128:[function(e,t,n){var r=e("./_global"),o=r.navigator;t.exports=o&&o.userAgent||""},{"./_global":76}],129:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":65,"./_global":76,"./_library":92,"./_object-dp":98,"./_wks-ext":130}],130:[function(e,t,n){n.f=e("./_wks")},{"./_wks":131}],131:[function(e,t,n){var r=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i,s=t.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=r},{"./_global":76,"./_shared":117,"./_uid":127}],132:[function(e,t,n){var r=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},{"./_classof":63,"./_core":65,"./_iterators":91,"./_wks":131}],133:[function(e,t,n){"use strict";var r=e("./_ctx"),o=e("./_export"),i=e("./_to-object"),a=e("./_iter-call"),s=e("./_is-array-iter"),u=e("./_to-length"),c=e("./_create-property"),l=e("./core.get-iterator-method");o(o.S+o.F*!e("./_iter-detect")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,p,f=i(e),h="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,g=void 0!==m,y=0,v=l(f);if(g&&(m=r(m,d>2?arguments[2]:void 0,2)),void 0==v||h==Array&&s(v))for(t=u(f.length),n=new h(t);t>y;y++)c(n,y,g?m(f[y],y):f[y]);else for(p=v.call(f),n=new h;!(o=p.next()).done;y++)c(n,y,g?a(p,m,[o.value,y],!0):o.value);return n.length=y,n}})},{"./_create-property":66,"./_ctx":67,"./_export":73,"./_is-array-iter":83,"./_iter-call":86,"./_iter-detect":89,"./_to-length":124,"./_to-object":125,"./core.get-iterator-method":132}],134:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":59,"./_iter-define":88,"./_iter-step":90,"./_iterators":91,"./_to-iobject":123}],135:[function(e,t,n){"use strict";var r=e("./_is-object"),o=e("./_object-gpo"),i=e("./_wks")("hasInstance"),a=Function.prototype;i in a||e("./_object-dp").f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;while(e=o(e))if(this.prototype===e)return!0;return!1}})},{"./_is-object":85,"./_object-dp":98,"./_object-gpo":104,"./_wks":131}],136:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":73,"./_object-assign":96}],137:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":73,"./_object-create":97}],138:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":69,"./_export":73,"./_object-dp":98}],139:[function(e,t,n){e("./_object-sap")("getOwnPropertyNames",(function(){return e("./_object-gopn-ext").f}))},{"./_object-gopn-ext":101,"./_object-sap":108}],140:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},{"./_object-gpo":104,"./_object-sap":108,"./_to-object":125}],141:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",(function(){return function(e){return o(r(e))}}))},{"./_object-keys":106,"./_object-sap":108,"./_to-object":125}],142:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],143:[function(e,t,n){"use strict";var r,o,i,a,s=e("./_library"),u=e("./_global"),c=e("./_ctx"),l=e("./_classof"),p=e("./_export"),f=e("./_is-object"),h=e("./_a-function"),d=e("./_an-instance"),m=e("./_for-of"),g=e("./_species-constructor"),y=e("./_task").set,v=e("./_microtask")(),_=e("./_new-promise-capability"),b=e("./_perform"),E=e("./_user-agent"),S=e("./_promise-resolve"),A="Promise",I=u.TypeError,w=u.process,T=w&&w.versions,C=T&&T.v8||"",O=u[A],M="process"==l(w),D=function(){},N=o=_.f,x=!!function(){try{var t=O.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(D,D)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof n&&0!==C.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(r){}}(),L=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;v((function(){var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(o||(2==e._h&&G(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(I("Promise-chain cycle")):(i=L(n))?i.call(n,u,c):u(n)):c(r)}catch(p){l&&!a&&l.exit(),c(p)}};while(n.length>i)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&k(e)}))}},k=function(e){y.call(u,(function(){var t,n,r,o=e._v,i=R(e);if(i&&(t=b((function(){M?w.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=M||R(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},G=function(e){y.call(u,(function(){var t;M?w.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw I("Promise can't be resolved itself");(t=L(e))?v((function(){var r={_w:n,_d:!1};try{t.call(e,c(U,r,1),c(j,r,1))}catch(o){j.call(r,o)}})):(n._v=e,n._s=1,P(n,!1))}catch(r){j.call({_w:n,_d:!1},r)}}};x||(O=function(e){d(this,O,A,"_h"),h(e),r.call(this);try{e(c(U,this,1),c(j,this,1))}catch(t){j.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=e("./_redefine-all")(O.prototype,{then:function(e,t){var n=N(g(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=M?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(U,e,1),this.reject=c(j,e,1)},_.f=N=function(e){return e===O||e===a?new i(e):o(e)}),p(p.G+p.W+p.F*!x,{Promise:O}),e("./_set-to-string-tag")(O,A),e("./_set-species")(A),a=e("./_core")[A],p(p.S+p.F*!x,A,{reject:function(e){var t=N(this),n=t.reject;return n(e),t.promise}}),p(p.S+p.F*(s||!x),A,{resolve:function(e){return S(s&&this===a?O:this,e)}}),p(p.S+p.F*!(x&&e("./_iter-detect")((function(e){O.all(e)["catch"](D)}))),A,{all:function(e){var t=this,n=N(t),r=n.resolve,o=n.reject,i=b((function(){var n=[],i=0,a=1;m(e,!1,(function(e){var s=i++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=N(t),r=n.reject,o=b((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},{"./_a-function":58,"./_an-instance":60,"./_classof":63,"./_core":65,"./_ctx":67,"./_export":73,"./_for-of":75,"./_global":76,"./_is-object":85,"./_iter-detect":89,"./_library":92,"./_microtask":94,"./_new-promise-capability":95,"./_perform":109,"./_promise-resolve":110,"./_redefine-all":112,"./_set-species":114,"./_set-to-string-tag":115,"./_species-constructor":118,"./_task":120,"./_user-agent":128,"./_wks":131}],144:[function(e,t,n){var r=e("./_export"),o=e("./_to-absolute-index"),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){var t,n=[],r=arguments.length,a=0;while(r>a){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{"./_export":73,"./_to-absolute-index":121}],145:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},{"./_iter-define":88,"./_string-at":119}],146:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_has"),i=e("./_descriptors"),a=e("./_export"),s=e("./_redefine"),u=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),p=e("./_set-to-string-tag"),f=e("./_uid"),h=e("./_wks"),d=e("./_wks-ext"),m=e("./_wks-define"),g=e("./_enum-keys"),y=e("./_is-array"),v=e("./_an-object"),_=e("./_is-object"),b=e("./_to-iobject"),E=e("./_to-primitive"),S=e("./_property-desc"),A=e("./_object-create"),I=e("./_object-gopn-ext"),w=e("./_object-gopd"),T=e("./_object-dp"),C=e("./_object-keys"),O=w.f,M=T.f,D=I.f,N=r.Symbol,x=r.JSON,L=x&&x.stringify,P="prototype",k=h("_hidden"),R=h("toPrimitive"),G={}.propertyIsEnumerable,j=l("symbol-registry"),U=l("symbols"),F=l("op-symbols"),q=Object[P],B="function"==typeof N,Z=r.QObject,V=!Z||!Z[P]||!Z[P].findChild,H=i&&c((function(){return 7!=A(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=O(q,t);r&&delete q[t],M(e,t,n),r&&e!==q&&M(q,t,r)}:M,z=function(e){var t=U[e]=A(N[P]);return t._k=e,t},Y=B&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},K=function(e,t,n){return e===q&&K(F,t,n),v(e),t=E(t,!0),v(n),o(U,t)?(n.enumerable?(o(e,k)&&e[k][t]&&(e[k][t]=!1),n=A(n,{enumerable:S(0,!1)})):(o(e,k)||M(e,k,S(1,{})),e[k][t]=!0),H(e,t,n)):M(e,t,n)},X=function(e,t){v(e);var n,r=g(t=b(t)),o=0,i=r.length;while(i>o)K(e,n=r[o++],t[n]);return e},W=function(e,t){return void 0===t?A(e):X(A(e),t)},J=function(e){var t=G.call(this,e=E(e,!0));return!(this===q&&o(U,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,k)&&this[k][e])||t)},Q=function(e,t){if(e=b(e),t=E(t,!0),e!==q||!o(U,t)||o(F,t)){var n=O(e,t);return!n||!o(U,t)||o(e,k)&&e[k][t]||(n.enumerable=!0),n}},$=function(e){var t,n=D(b(e)),r=[],i=0;while(n.length>i)o(U,t=n[i++])||t==k||t==u||r.push(t);return r},ee=function(e){var t,n=e===q,r=D(n?F:b(e)),i=[],a=0;while(r.length>a)!o(U,t=r[a++])||n&&!o(q,t)||i.push(U[t]);return i};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===q&&t.call(F,n),o(this,k)&&o(this[k],e)&&(this[k][e]=!1),H(this,e,S(1,n))};return i&&V&&H(q,e,{configurable:!0,set:t}),z(e)},s(N[P],"toString",(function(){return this._k})),w.f=Q,T.f=K,e("./_object-gopn").f=I.f=$,e("./_object-pie").f=J,e("./_object-gops").f=ee,i&&!e("./_library")&&s(q,"propertyIsEnumerable",J,!0),d.f=function(e){return z(h(e))}),a(a.G+a.W+a.F*!B,{Symbol:N});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=C(h.store),oe=0;re.length>oe;)m(re[oe++]);a(a.S+a.F*!B,"Symbol",{for:function(e){return o(j,e+="")?j[e]:j[e]=N(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!B,"Object",{create:W,defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),x&&a(a.S+a.F*(!B||c((function(){var e=N();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){var t,n,r=[e],o=1;while(arguments.length>o)r.push(arguments[o++]);if(n=t=r[1],(_(t)||void 0!==e)&&!Y(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,L.apply(x,r)}}),N[P][R]||e("./_hide")(N[P],R,N[P].valueOf),p(N,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},{"./_an-object":61,"./_descriptors":69,"./_enum-keys":72,"./_export":73,"./_fails":74,"./_global":76,"./_has":77,"./_hide":78,"./_is-array":84,"./_is-object":85,"./_library":92,"./_meta":93,"./_object-create":97,"./_object-dp":98,"./_object-gopd":100,"./_object-gopn":102,"./_object-gopn-ext":101,"./_object-gops":103,"./_object-keys":106,"./_object-pie":107,"./_property-desc":111,"./_redefine":113,"./_set-to-string-tag":115,"./_shared":117,"./_to-iobject":123,"./_to-primitive":126,"./_uid":127,"./_wks":131,"./_wks-define":129,"./_wks-ext":130}],147:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_core"),i=e("./_global"),a=e("./_species-constructor"),s=e("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},{"./_core":65,"./_export":73,"./_global":76,"./_promise-resolve":110,"./_species-constructor":118}],148:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_new-promise-capability"),i=e("./_perform");r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},{"./_export":73,"./_new-promise-capability":95,"./_perform":109}],149:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":129}],150:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":129}],151:[function(e,t,n){e("./es6.array.iterator");for(var r=e("./_global"),o=e("./_hide"),i=e("./_iterators"),a=e("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],p=l&&l.prototype;p&&!p[a]&&o(p,a,c),i[c]=i.Array}},{"./_global":76,"./_hide":78,"./_iterators":91,"./_wks":131,"./es6.array.iterator":134}],152:[function(e,t,n){var r=e("./_export"),o=e("./_task");r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":73,"./_task":120}],153:[function(e,t,n){(function(t){"use strict";var r=e("babel-runtime/helpers/typeof"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return Array.isArray?Array.isArray(e):"[object Array]"===b(e)}function s(e){return"boolean"===typeof e}function u(e){return null===e}function c(e){return null==e}function l(e){return"number"===typeof e}function p(e){return"string"===typeof e}function f(e){return"symbol"===("undefined"===typeof e?"undefined":(0,o.default)(e))}function h(e){return void 0===e}function d(e){return"[object RegExp]"===b(e)}function m(e){return"object"===("undefined"===typeof e?"undefined":(0,o.default)(e))&&null!==e}function g(e){return"[object Date]"===b(e)}function y(e){return"[object Error]"===b(e)||e instanceof Error}function v(e){return"function"===typeof e}function _(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===("undefined"===typeof e?"undefined":(0,o.default)(e))||"undefined"===typeof e}function b(e){return Object.prototype.toString.call(e)}n.isArray=a,n.isBoolean=s,n.isNull=u,n.isNullOrUndefined=c,n.isNumber=l,n.isString=p,n.isSymbol=f,n.isUndefined=h,n.isRegExp=d,n.isObject=m,n.isDate=g,n.isError=y,n.isFunction=v,n.isPrimitive=_,n.isBuffer=t.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":194,"babel-runtime/helpers/typeof":34}],154:[function(t,n,r){"use strict";var o=t("babel-runtime/helpers/typeof"),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}(function(t){var o=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,i,l,p){if(1!==arguments.length||"string"!==c(r)||/\d/.test(r)||(i=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");i=String(o.masks[i]||i||o.masks["default"]);var f=i.slice(0,4);"UTC:"!==f&&"GMT:"!==f||(i=i.slice(4),l=!0,"GMT:"===f&&(p=!0));var h=l?"getUTC":"get",d=r[h+"Date"](),m=r[h+"Day"](),g=r[h+"Month"](),y=r[h+"FullYear"](),v=r[h+"Hours"](),_=r[h+"Minutes"](),b=r[h+"Seconds"](),E=r[h+"Milliseconds"](),S=l?0:r.getTimezoneOffset(),A=s(r),I=u(r),w={d:d,dd:a(d),ddd:o.i18n.dayNames[m],dddd:o.i18n.dayNames[m+7],m:g+1,mm:a(g+1),mmm:o.i18n.monthNames[g],mmmm:o.i18n.monthNames[g+12],yy:String(y).slice(2),yyyy:y,h:v%12||12,hh:a(v%12||12),H:v,HH:a(v),M:_,MM:a(_),s:b,ss:a(b),l:a(E,3),L:a(Math.round(E/10)),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:p?"GMT":l?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(S>0?"-":"+")+a(100*Math.floor(Math.abs(S)/60)+Math.abs(S)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:A,N:I};return i.replace(e,(function(e){return e in w?w[e]:e.slice(1,e.length-1)}))}}();function a(e,t){e=String(e),t=t||2;while(e.length<t)e="0"+e;return e}function s(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/6048e5;return 1+Math.floor(o)}function u(e){var t=e.getDay();return 0===t&&(t=7),t}function c(e){return null===e?"null":void 0===e?"undefined":"object"!==("undefined"===typeof e?"undefined":(0,i.default)(e))?"undefined"===typeof e?"undefined":(0,i.default)(e):Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"function"===typeof e&&e.amd?e((function(){return o})):"object"===("undefined"===typeof r?"undefined":(0,i.default)(r))?n.exports=o:t.dateFormat=o})(void 0)},{"babel-runtime/helpers/typeof":34}],155:[function(e,t,n){(function(r){function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)}}function a(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function u(){var e;try{e=n.storage.debug}catch(t){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=a,n.formatArgs=i,n.save=s,n.load=u,n.useColors=o,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(u())}).call(this,e("_process"))},{"./debug":156,_process:215}],156:[function(e,t,n){var r;function o(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function i(e){function t(){if(t.enabled){var e=t,o=+new Date,i=o-(r||o);e.diff=i,e.prev=r,e.curr=o,r=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=n.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return t;u++;var o=n.formatters[r];if("function"===typeof o){var i=a[u];t=o.call(e,i),a.splice(u,1),u--}return t})),n.formatArgs.call(e,a);var c=t.log||n.log||console.log.bind(console);c.apply(e,a)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=o(e),"function"===typeof n.init&&n.init(t),t}function a(e){n.save(e),n.names=[],n.skips=[];for(var t=("string"===typeof e?e:"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function u(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i.debug=i["default"]=i,n.coerce=c,n.disable=s,n.enable=a,n.enabled=u,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={}},{ms:204}],157:[function(e,t,n){"use strict";var r=e("object-keys"),o=e("foreach"),i="function"===typeof Symbol&&"symbol"===typeof Symbol(),a=Object.prototype.toString,s=function(e){return"function"===typeof e&&"[object Function]"===a.call(e)},u=function(){var e={};try{for(var t in Object.defineProperty(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}},c=Object.defineProperty&&u(),l=function(e,t,n,r){(!(t in e)||s(r)&&r())&&(c?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},p=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),o(a,(function(r){l(e,r,t[r],n[r])}))};p.supportsDescriptors=!!c,t.exports=p},{foreach:184,"object-keys":206}],158:[function(e,t,n){"use strict";var r,o,i,a,s=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator,c=Object.getPrototypeOf||function(e){return e.__proto__},l=o?c(o):r,p=i?i.constructor:r,f=a?c(a):r,h=a?a():r,d="undefined"===typeof Uint8Array?r:c(Uint8Array),m={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):r,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":r,"$ %AsyncFunction%":p,"$ %AsyncFunctionPrototype%":p?p.prototype:r,"$ %AsyncGenerator%":a?c(h):r,"$ %AsyncGeneratorFunction%":f,"$ %AsyncGeneratorPrototype%":f?f.prototype:r,"$ %AsyncIteratorPrototype%":h&&u&&Symbol.asyncIterator?h[Symbol.asyncIterator]():r,"$ %Atomics%":"undefined"===typeof Atomics?r:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"===typeof DataView?r:DataView,"$ %DataViewPrototype%":"undefined"===typeof DataView?r:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"$ %Float32ArrayPrototype%":"undefined"===typeof Float32Array?r:Float32Array.prototype,"$ %Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"$ %Float64ArrayPrototype%":"undefined"===typeof Float64Array?r:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":o?c(o()):r,"$ %GeneratorFunction%":l,"$ %GeneratorPrototype%":l?l.prototype:r,"$ %Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"$ %Int8ArrayPrototype%":"undefined"===typeof Int8Array?r:Int8Array.prototype,"$ %Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"$ %Int16ArrayPrototype%":"undefined"===typeof Int16Array?r:Int8Array.prototype,"$ %Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"$ %Int32ArrayPrototype%":"undefined"===typeof Int32Array?r:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":u?c(c([][Symbol.iterator]())):r,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"===typeof Map?r:Map,"$ %MapIteratorPrototype%":"undefined"!==typeof Map&&u?c((new Map)[Symbol.iterator]()):r,"$ %MapPrototype%":"undefined"===typeof Map?r:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"===typeof Promise?r:Promise,"$ %PromisePrototype%":"undefined"===typeof Promise?r:Promise.prototype,"$ %PromiseProto_then%":"undefined"===typeof Promise?r:Promise.prototype.then,"$ %Promise_all%":"undefined"===typeof Promise?r:Promise.all,"$ %Promise_reject%":"undefined"===typeof Promise?r:Promise.reject,"$ %Promise_resolve%":"undefined"===typeof Promise?r:Promise.resolve,"$ %Proxy%":"undefined"===typeof Proxy?r:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"===typeof Reflect?r:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"===typeof Set?r:Set,"$ %SetIteratorPrototype%":"undefined"!==typeof Set&&u?c((new Set)[Symbol.iterator]()):r,"$ %SetPrototype%":"undefined"===typeof Set?r:Set.prototype,"$ %SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":u?c(""[Symbol.iterator]()):r,"$ %StringPrototype%":String.prototype,"$ %Symbol%":u?Symbol:r,"$ %SymbolPrototype%":u?Symbol.prototype:r,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":s,"$ %TypedArray%":d,"$ %TypedArrayPrototype%":d?d.prototype:r,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?r:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?r:Uint16Array.prototype,"$ %Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?r:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"$ %WeakMapPrototype%":"undefined"===typeof WeakMap?r:WeakMap.prototype,"$ %WeakSet%":"undefined"===typeof WeakSet?r:WeakSet,"$ %WeakSetPrototype%":"undefined"===typeof WeakSet?r:WeakSet.prototype};t.exports=function(e,t){if(arguments.length>1&&"boolean"!==typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in m))throw new SyntaxError("intrinsic "+e+" does not exist!");if("undefined"===typeof m[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return m[n]}},{}],159:[function(e,t,n){"use strict";var r=e("has"),o=e("es-to-primitive/es6"),i=e("object-keys"),a=e("object-inspect"),s=e("./GetIntrinsic"),u=s("%TypeError%"),c=s("%RangeError%"),l=s("%SyntaxError%"),p=s("%Array%"),f=p.prototype,h=s("%String%"),d=s("%Object%"),m=s("%Number%"),g=s("%Symbol%",!0),y=s("%RegExp%"),v=s("%Promise%",!0),_=d.preventExtensions,b=e("has-symbols")(),E=e("./helpers/assertRecord"),S=e("./helpers/isNaN"),A=e("./helpers/isFinite"),I=Math.pow(2,32)-1,w=m.MAX_SAFE_INTEGER||Math.pow(2,53)-1,T=e("./helpers/assign"),C=e("./helpers/sign"),O=e("./helpers/mod"),M=e("./helpers/isPrimitive"),D=e("./helpers/forEach"),N=e("./helpers/every"),x=e("./helpers/isSamePropertyDescriptor"),L=e("./helpers/isPropertyDescriptor"),P=parseInt,k=e("./helpers/callBind"),R=v?k(s("%PromiseProto_then%")):null,G=k(p.prototype.slice),j=k(h.prototype.slice),U=k(y.prototype.test,/^0b[01]+$/i),F=k(y.prototype.test,/^0o[0-7]+$/i),q=k(y.prototype.test,/^[0-9]$/),B=k(y.prototype.exec),Z=["","​","￾"].join(""),V=new y("["+Z+"]","g"),H=k(y.prototype.test,V),z=/^[-+]0x[0-9a-f]+$/i,Y=k(y.prototype.test,z),K=k(h.prototype.charCodeAt),X=k(d.prototype.propertyIsEnumerable),W=k(d.prototype.toString),J=k(s("%NumberPrototype%").valueOf),Q=k(s("%BooleanPrototype%").valueOf),$=k(s("%StringPrototype%").valueOf),ee=k(s("%DatePrototype%").valueOf),te=b&&k(s("%SymbolPrototype%").toString),ne=Math.floor,re=Math.abs,oe=d.create,ie=d.getOwnPropertyDescriptor,ae=d.getOwnPropertyNames,se=d.getOwnPropertySymbols,ue=d.isExtensible,ce=d.defineProperty,le=Object.setPrototypeOf||([].__proto__!==Array.prototype?null:function(e,t){return e.__proto__=t,e}),pe=function(e,t,n,r){if(!ce){if(!e.IsDataDescriptor(r))return!1;if(!r["[[Configurable]]"]||!r["[[Writable]]"])return!1;if(n in t&&X(t,n)!==!!r["[[Enumerable]]"])return!1;var o=r["[[Value]]"];return t[n]=o,e.SameValue(t[n],o)}return ce(t,n,e.FromPropertyDescriptor(r)),!0},fe=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),he=new RegExp("(^["+fe+"]+)|(["+fe+"]+$)","g"),de=k(h.prototype.replace),me=function(e){return de(e,he,"")},ge=e("./es5"),ye=e("is-regex"),ve=T(T({},ge),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new u(a(e)+" is not a function");return e.apply(t,n)},ToPrimitive:o,ToNumber:function(e){var t=M(e)?e:o(e,m);if("symbol"===typeof t)throw new u("Cannot convert a Symbol value to a number");if("string"===typeof t){if(U(t))return this.ToNumber(P(j(t,2),2));if(F(t))return this.ToNumber(P(j(t,2),8));if(H(t)||Y(t))return NaN;var n=me(t);if(n!==t)return this.ToNumber(n)}return m(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(S(t)||0===t||!A(t))return 0;var n=C(t)*ne(re(t));return O(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(S(t)||t<=0)return 0;if(t>=255)return 255;var n=ne(e);return n+.5<t?n+1:t<n+.5?n:n%2!==0?n+1:n},ToString:function(e){if("symbol"===typeof e)throw new u("Cannot convert a Symbol value to a string");return h(e)},ToObject:function(e){return this.RequireObjectCoercible(e),d(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,h);return"symbol"===typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>w?w:t},CanonicalNumericIndexString:function(e){if("[object String]"!==W(e))throw new u("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:ge.CheckObjectCoercible,IsArray:p.isArray||function(e){return"[object Array]"===W(e)},IsConstructor:function(e){return"function"===typeof e&&!!e.prototype},IsExtensible:_?function(e){return!M(e)&&ue(e)}:function(e){return!0},IsInteger:function(e){if("number"!==typeof e||S(e)||!A(e))return!1;var t=re(e);return ne(t)===t},IsPropertyKey:function(e){return"string"===typeof e||"symbol"===typeof e},IsRegExp:function(e){if(!e||"object"!==typeof e)return!1;if(b){var t=e[g.match];if("undefined"!==typeof t)return ge.ToBoolean(t)}return ye(e)},SameValueZero:function(e,t){return e===t||S(e)&&S(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new u("Assertion failed: IsPropertyKey(P) is not true");var n=this.ToObject(e);return n[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new u("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new u(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: IsPropertyKey(P) is not true, got "+a(t));return e[t]},Type:function(e){return"symbol"===typeof e?"Symbol":ge.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");var n=e.constructor;if("undefined"===typeof n)return t;if("Object"!==this.Type(n))throw new u("O.constructor is not an Object");var r=b&&g.species?n[g.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new u("no constructor found")},FromPropertyDescriptor:function(e){if("undefined"===typeof e)return e;E(this,"Property Descriptor","Desc",e);var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=e["[[Configurable]]"]),t},CompletePropertyDescriptor:function(e){return E(this,"Property Descriptor","Desc",e),this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new u("O must be an Object");if(!this.IsPropertyKey(t))throw new u("P must be a Property Key");if("Boolean"!==this.Type(r))throw new u("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(o){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new u("O must be an Object");if(!this.IsPropertyKey(t))throw new u("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new u("O must be an Object");if(!this.IsPropertyKey(t))throw new u("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(b&&"symbol"===typeof g.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if("undefined"!==typeof t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new u("P must be a Property Key");var n=G(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},GetIterator:function(e,t){var n=t;if(arguments.length<2){if(!b)throw new SyntaxError("GetIterator depends on native Symbol support when `method` is not passed");n=this.GetMethod(e,g.iterator)}var r=this.Call(n,e);if("Object"!==this.Type(r))throw new u("iterator must return an object");return r},IteratorNext:function(e,t){var n=this.Invoke(e,"next",arguments.length<2?[]:[t]);if("Object"!==this.Type(n))throw new u("iterator next must return an object");return n},IteratorComplete:function(e){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(e,"done"))},IteratorValue:function(e){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(iterResult) is not Object");return this.Get(e,"value")},IteratorStep:function(e){var t=this.IteratorNext(e),n=this.IteratorComplete(t);return!0!==n&&t},IteratorClose:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(t))throw new u("Assertion failed: completion is not a thunk for a Completion Record");var n,r=t,o=this.GetMethod(e,"return");if("undefined"===typeof o)return r();try{var i=this.Call(o,e,[])}catch(a){throw n=r(),r=null,a}if(n=r(),r=null,"Object"!==this.Type(i))throw new u("iterator .return must return an object");return n},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new u("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new u("R must be an Object");if("String"!==this.Type(t))throw new u("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new u('"exec" method must return `null` or an Object')}return B(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new u("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t,o=this.IsArray(e);if(o&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&b&&g.species&&(n=this.Get(n,g.species),null===n&&(n=void 0))),"undefined"===typeof n)return p(r);if(!this.IsConstructor(n))throw new u("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: IsPropertyKey(P) is not true");var r=ie(e,t),o=r||this.IsExtensible(e),i=r&&(!r.writable||!r.configurable);return!(i||!o)&&pe(this,e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":n,"[[Writable]]":!0})},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new u("unable to create data property");return r},ObjectCreate:function(e,t){if(null!==e&&"Object"!==this.Type(e))throw new u("Assertion failed: proto must be null or an object");var n=arguments.length<2?[]:t;if(n.length>0)throw new l("es-abstract does not yet support internal slots");if(null===e&&!oe)throw new l("native Object.create support is required to create null objects");return oe(e)},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new u("S must be a String");if(!this.IsInteger(t)||t<0||t>w)throw new u("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new u("Assertion failed: unicode must be a Boolean");if(!n)return t+1;var r=e.length;if(t+1>=r)return t+1;var o=K(e,t);if(o<55296||o>56319)return t+1;var i=K(e,t+1);return i<56320||i>57343?t+1:t+2},CreateMethodProperty:function(e,t,n){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: IsPropertyKey(P) is not true");var r={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":n,"[[Writable]]":!0};return pe(this,e,t,r)},DefinePropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: IsPropertyKey(P) is not true");var r=L(this,n)?n:this.ToPropertyDescriptor(n);if(!L(this,r))throw new u("Assertion failed: Desc is not a valid Property Descriptor");return pe(this,e,t,r)},DeletePropertyOrThrow:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: IsPropertyKey(P) is not true");var n=delete e[t];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(e){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");return i(e)},thisNumberValue:function(e){return"Number"===this.Type(e)?e:J(e)},thisBooleanValue:function(e){return"Boolean"===this.Type(e)?e:Q(e)},thisStringValue:function(e){return"String"===this.Type(e)?e:$(e)},thisTimeValue:function(e){return ee(e)},SetIntegrityLevel:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if("sealed"!==t&&"frozen"!==t)throw new u('Assertion failed: `level` must be `"sealed"` or `"frozen"`');if(!_)throw new l("SetIntegrityLevel requires native `Object.preventExtensions` support");var n=_(e);if(!n)return!1;if(!ae)throw new l("SetIntegrityLevel requires native `Object.getOwnPropertyNames` support");var r=ae(e),o=this;return"sealed"===t?D(r,(function(t){o.DefinePropertyOrThrow(e,t,{configurable:!1})})):"frozen"===t&&D(r,(function(t){var n,r=ie(e,t);"undefined"!==typeof r&&(n=o.IsAccessorDescriptor(o.ToPropertyDescriptor(r))?{configurable:!1}:{configurable:!1,writable:!1},o.DefinePropertyOrThrow(e,t,n))})),!0},TestIntegrityLevel:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if("sealed"!==t&&"frozen"!==t)throw new u('Assertion failed: `level` must be `"sealed"` or `"frozen"`');var n=this.IsExtensible(e);if(n)return!1;var r=ae(e),o=this;return 0===r.length||N(r,(function(n){var r=ie(e,n);if("undefined"!==typeof r){if(r.configurable)return!1;if("frozen"===t&&o.IsDataDescriptor(o.ToPropertyDescriptor(r))&&r.writable)return!1}return!0}))},OrdinaryHasInstance:function(e,t){if(!1===this.IsCallable(e))return!1;if("Object"!==this.Type(t))return!1;var n=this.Get(e,"prototype");if("Object"!==this.Type(n))throw new u("OrdinaryHasInstance called on an object with an invalid prototype property.");return t instanceof e},OrdinaryHasProperty:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: P must be a Property Key");return t in e},InstanceofOperator:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");var n=b&&g.hasInstance?this.GetMethod(t,g.hasInstance):void 0;if("undefined"!==typeof n)return this.ToBoolean(this.Call(n,t,[e]));if(!this.IsCallable(t))throw new u("`C` is not Callable");return this.OrdinaryHasInstance(t,e)},IsPromise:function(e){if("Object"!==this.Type(e))return!1;if(!v)return!1;try{R(e)}catch(t){return!1}return!0},"Abstract Equality Comparison":function(e,t){var n=this.Type(e),r=this.Type(t);return n===r?e===t:null==e&&null==t||("Number"===n&&"String"===r?this["Abstract Equality Comparison"](e,this.ToNumber(t)):"String"===n&&"Number"===r?this["Abstract Equality Comparison"](this.ToNumber(e),t):"Boolean"===n?this["Abstract Equality Comparison"](this.ToNumber(e),t):"Boolean"===r?this["Abstract Equality Comparison"](e,this.ToNumber(t)):"String"!==n&&"Number"!==n&&"Symbol"!==n||"Object"!==r?"Object"===n&&("String"===r||"Number"===r||"Symbol"===r)&&this["Abstract Equality Comparison"](this.ToPrimitive(e),t):this["Abstract Equality Comparison"](e,this.ToPrimitive(t)))},ValidateAndApplyPropertyDescriptor:function(e,t,n,r,o){var i=this.Type(e);if("Undefined"!==i&&"Object"!==i)throw new u("Assertion failed: O must be undefined or an Object");if("Boolean"!==this.Type(n))throw new u("Assertion failed: extensible must be a Boolean");if(!L(this,r))throw new u("Assertion failed: Desc must be a Property Descriptor");if("Undefined"!==this.Type(o)&&!L(this,o))throw new u("Assertion failed: current must be a Property Descriptor, or undefined");if("Undefined"!==i&&!this.IsPropertyKey(t))throw new u("Assertion failed: if O is not undefined, P must be a Property Key");if("Undefined"===this.Type(o)){if(!n)return!1;if(this.IsGenericDescriptor(r)||this.IsDataDescriptor(r))"Undefined"!==i&&pe(this,e,t,{"[[Configurable]]":r["[[Configurable]]"],"[[Enumerable]]":r["[[Enumerable]]"],"[[Value]]":r["[[Value]]"],"[[Writable]]":r["[[Writable]]"]});else{if(!this.IsAccessorDescriptor(r))throw new u("Assertion failed: Desc is not an accessor descriptor");if("Undefined"!==i)return pe(this,e,t,r)}return!0}if(this.IsGenericDescriptor(r)&&!("[[Configurable]]"in r)&&!("[[Enumerable]]"in r))return!0;if(x(this,r,o))return!0;if(!o["[[Configurable]]"]){if(r["[[Configurable]]"])return!1;if("[[Enumerable]]"in r&&!r["[[Enumerable]]"]===!!o["[[Enumerable]]"])return!1}if(this.IsGenericDescriptor(r));else if(this.IsDataDescriptor(o)!==this.IsDataDescriptor(r)){if(!o["[[Configurable]]"])return!1;this.IsDataDescriptor(o)?"Undefined"!==i&&pe(this,e,t,{"[[Configurable]]":o["[[Configurable]]"],"[[Enumerable]]":o["[[Enumerable]]"],"[[Get]]":void 0}):"Undefined"!==i&&pe(this,e,t,{"[[Configurable]]":o["[[Configurable]]"],"[[Enumerable]]":o["[[Enumerable]]"],"[[Value]]":void 0})}else if(this.IsDataDescriptor(o)&&this.IsDataDescriptor(r)){if(!o["[[Configurable]]"]&&!o["[[Writable]]"])return!("[[Writable]]"in r&&r["[[Writable]]"])&&!("[[Value]]"in r&&!this.SameValue(r["[[Value]]"],o["[[Value]]"]))}else{if(!this.IsAccessorDescriptor(o)||!this.IsAccessorDescriptor(r))throw new u("Assertion failed: current and Desc are not both data, both accessors, or one accessor and one data.");if(!o["[[Configurable]]"])return!("[[Set]]"in r&&!this.SameValue(r["[[Set]]"],o["[[Set]]"]))&&!("[[Get]]"in r&&!this.SameValue(r["[[Get]]"],o["[[Get]]"]))}return"Undefined"===i||pe(this,e,t,r)},OrdinaryDefineOwnProperty:function(e,t,n){if("Object"!==this.Type(e))throw new u("Assertion failed: O must be an Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: P must be a Property Key");if(!L(this,n))throw new u("Assertion failed: Desc must be a Property Descriptor");var r=ie(e,t),o=r&&this.ToPropertyDescriptor(r),i=this.IsExtensible(e);return this.ValidateAndApplyPropertyDescriptor(e,t,i,n,o)},OrdinaryGetOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: O must be an Object");if(!this.IsPropertyKey(t))throw new u("Assertion failed: P must be a Property Key");if(r(e,t)){if(!ie){var n=this.IsArray(e)&&"length"===t,o=this.IsRegExp(e)&&"lastIndex"===t;return{"[[Configurable]]":!(n||o),"[[Enumerable]]":X(e,t),"[[Value]]":e[t],"[[Writable]]":!0}}return this.ToPropertyDescriptor(ie(e,t))}},ArrayCreate:function(e){if(!this.IsInteger(e)||e<0)throw new u("Assertion failed: `length` must be an integer Number >= 0");if(e>I)throw new c("length is greater than (2**32 - 1)");var t=arguments.length>1?arguments[1]:f,n=[];if(t!==f){if(!le)throw new l("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");le(n,t)}return 0!==e&&(n.length=e),n},ArraySetLength:function(e,t){if(!this.IsArray(e))throw new u("Assertion failed: A must be an Array");if(!L(this,t))throw new u("Assertion failed: Desc must be a Property Descriptor");if(!("[[Value]]"in t))return this.OrdinaryDefineOwnProperty(e,"length",t);var n=T({},t),r=this.ToUint32(t["[[Value]]"]),o=this.ToNumber(t["[[Value]]"]);if(r!==o)throw new c("Invalid array length");n["[[Value]]"]=r;var i=this.OrdinaryGetOwnProperty(e,"length");if(!this.IsDataDescriptor(i))throw new u("Assertion failed: an array had a non-data descriptor on `length`");var a,s=i["[[Value]]"];if(r>=s)return this.OrdinaryDefineOwnProperty(e,"length",n);if(!i["[[Writable]]"])return!1;"[[Writable]]"in n&&!n["[[Writable]]"]?(a=!1,n["[[Writable]]"]=!0):a=!0;var l=this.OrdinaryDefineOwnProperty(e,"length",n);if(!l)return!1;while(r<s){s-=1;var p=delete e[this.ToString(s)];if(!p&&(n["[[Value]]"]=s+1,!a))return n["[[Writable]]"]=!1,this.OrdinaryDefineOwnProperty(e,"length",n),!1}return!!a||this.OrdinaryDefineOwnProperty(e,"length",{"[[Writable]]":!1})},CreateHTML:function(e,t,n,r){if("String"!==this.Type(t)||"String"!==this.Type(n))throw new u("Assertion failed: `tag` and `attribute` must be strings");var o=this.RequireObjectCoercible(e),i=this.ToString(o),a="<"+t;if(""!==n){var s=this.ToString(r),c=de(s,/\x22/g,"&quot;");a+=" "+n+'="'+c+'"'}return a+">"+i+"</"+t+">"},GetOwnPropertyKeys:function(e,t){if("Object"!==this.Type(e))throw new u("Assertion failed: Type(O) is not Object");if("Symbol"===t)return b&&se?se(e):[];if("String"===t)return ae?ae(e):i(e);throw new u('Assertion failed: `Type` must be `"String"` or `"Symbol"`')},SymbolDescriptiveString:function(e){if("Symbol"!==this.Type(e))throw new u("Assertion failed: `sym` must be a Symbol");return te(e)},GetSubstitution:function(e,t,n,r,o){if("String"!==this.Type(e))throw new u("Assertion failed: `matched` must be a String");var i=e.length;if("String"!==this.Type(t))throw new u("Assertion failed: `str` must be a String");var s=t.length;if(!this.IsInteger(n)||n<0||n>s)throw new u("Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got "+a(n));var c=this,l=function(e,t,n){return"String"===c.Type(e)||!(t in n)};if(!this.IsArray(r)||!N(r,l))throw new u("Assertion failed: `captures` must be a List of Strings, got "+a(r));if("String"!==this.Type(o))throw new u("Assertion failed: `replacement` must be a String");for(var p=n+i,f=r.length,h="",d=0;d<o.length;d+=1){var m=o[d],g=d+1>=o.length,y=d+2>=o.length;if("$"!==m||g)h+=o[d];else{var v=o[d+1];if("$"===v)h+="$",d+=1;else if("&"===v)h+=e,d+=1;else if("`"===v)h+=0===n?"":j(t,0,n-1),d+=1;else if("'"===v)h+=p>=s?"":j(t,p),d+=1;else{var _=y?null:o[d+2];if(!q(v)||"0"===v||!y&&q(_))if(q(v)&&(y||q(_))){var b=v+_,E=P(b,10)-1;h+=b<=f&&"Undefined"===this.Type(r[E])?"":r[E],d+=2}else h+="$";else{var S=P(v,10);h+=S<=f&&"Undefined"===this.Type(r[S-1])?"":r[S-1],d+=1}}}}return h}});delete ve.CheckObjectCoercible,t.exports=ve},{"./GetIntrinsic":158,"./es5":161,"./helpers/assertRecord":163,"./helpers/assign":164,"./helpers/callBind":165,"./helpers/every":166,"./helpers/forEach":167,"./helpers/isFinite":168,"./helpers/isNaN":169,"./helpers/isPrimitive":170,"./helpers/isPropertyDescriptor":171,"./helpers/isSamePropertyDescriptor":172,"./helpers/mod":173,"./helpers/sign":174,"es-to-primitive/es6":180,has:189,"has-symbols":187,"is-regex":198,"object-inspect":205,"object-keys":176}],160:[function(e,t,n){"use strict";var r=e("./GetIntrinsic"),o=r("%Array%"),i=e("has-symbols")(),a=e("./es2015"),s=e("./helpers/assign"),u=e("./helpers/callBind"),c=u(o.prototype.push),l=u(o.prototype.slice),p=u(o.prototype.join),f=s(s({},a),{SameValueNonNumber:function(e,t){if("number"===typeof e||typeof e!==typeof t)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,t)},IterableToArrayLike:function(e){var t;if(i)t=this.GetMethod(e,Symbol.iterator);else if(this.IsArray(e))t=function(){var e=-1,t=this;return{next:function(){return e+=1,{done:e>=t.length,value:t[e]}}}};else if("String"===this.Type(e)){var n=this;t=function(){var t=0;return{next:function(){var r=n.AdvanceStringIndex(e,t,!0),o=p(l(e,t,r),"");return t=r,{done:r>e.length,value:o}}}}}if("undefined"!==typeof t){var r=this.GetIterator(e,t),o=[],a=!0;while(a)if(a=this.IteratorStep(r),a){var s=this.IteratorValue(a);c(o,s)}return o}return this.ToObject(e)}});t.exports=f},{"./GetIntrinsic":158,"./es2015":159,"./helpers/assign":164,"./helpers/callBind":165,"has-symbols":187}],161:[function(e,t,n){"use strict";var r=e("./GetIntrinsic"),o=r("%Object%"),i=r("%TypeError%"),a=r("%String%"),s=r("%Number%"),u=e("./helpers/assertRecord"),c=e("./helpers/isPropertyDescriptor"),l=e("./helpers/isNaN"),p=e("./helpers/isFinite"),f=e("./helpers/sign"),h=e("./helpers/mod"),d=e("is-callable"),m=e("es-to-primitive/es5"),g=e("has"),y=e("./helpers/callBind"),v=y(a.prototype.slice),_=function(e,t){return e===t||!(e.length>t.length)&&v(t,0,e.length)===e},b={ToPrimitive:m,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return l(t)?0:0!==t&&p(t)?f(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(l(t)||0===t||!p(t))return 0;var n=f(t)*Math.floor(Math.abs(t));return h(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),o(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new i(t||"Cannot call method on "+e);return e},IsCallable:d,SameValue:function(e,t){return e===t?0!==e||1/e===1/t:l(e)&&l(t)},Type:function(e){return null===e?"Null":"undefined"===typeof e?"Undefined":"function"===typeof e||"object"===typeof e?"Object":"number"===typeof e?"Number":"boolean"===typeof e?"Boolean":"string"===typeof e?"String":void 0},IsPropertyDescriptor:function(e){return c(this,e)},IsAccessorDescriptor:function(e){return"undefined"!==typeof e&&(u(this,"Property Descriptor","Desc",e),!(!g(e,"[[Get]]")&&!g(e,"[[Set]]")))},IsDataDescriptor:function(e){return"undefined"!==typeof e&&(u(this,"Property Descriptor","Desc",e),!(!g(e,"[[Value]]")&&!g(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return"undefined"!==typeof e&&(u(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if("undefined"===typeof e)return e;if(u(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new i("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new i("ToPropertyDescriptor requires an object");var t={};if(g(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),g(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),g(e,"value")&&(t["[[Value]]"]=e.value),g(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),g(e,"get")){var n=e.get;if("undefined"!==typeof n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(g(e,"set")){var r=e.set;if("undefined"!==typeof r&&!this.IsCallable(r))throw new i("setter must be a function");t["[[Set]]"]=r}if((g(t,"[[Get]]")||g(t,"[[Set]]"))&&(g(t,"[[Value]]")||g(t,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t},"Abstract Equality Comparison":function(e,t){var n=this.Type(e),r=this.Type(t);return n===r?e===t:null==e&&null==t||("Number"===n&&"String"===r?this["Abstract Equality Comparison"](e,this.ToNumber(t)):"String"===n&&"Number"===r?this["Abstract Equality Comparison"](this.ToNumber(e),t):"Boolean"===n?this["Abstract Equality Comparison"](this.ToNumber(e),t):"Boolean"===r?this["Abstract Equality Comparison"](e,this.ToNumber(t)):"String"!==n&&"Number"!==n||"Object"!==r?"Object"===n&&("String"===r||"Number"===r)&&this["Abstract Equality Comparison"](this.ToPrimitive(e),t):this["Abstract Equality Comparison"](e,this.ToPrimitive(t)))},"Strict Equality Comparison":function(e,t){var n=this.Type(e),r=this.Type(t);return n===r&&("Undefined"===n||"Null"===n||e===t)},"Abstract Relational Comparison":function(e,t,n){if("Boolean"!==this.Type(n))throw new i("Assertion failed: LeftFirst argument must be a Boolean");var r,o;n?(r=this.ToPrimitive(e,s),o=this.ToPrimitive(t,s)):(o=this.ToPrimitive(t,s),r=this.ToPrimitive(e,s));var a="String"===this.Type(r)&&"String"===this.Type(o);if(!a){var u=this.ToNumber(r),c=this.ToNumber(o);if(l(u)||l(c))return;return(!p(u)||!p(c)||u!==c)&&((0!==u||0!==c)&&(u!==1/0&&(c===1/0||c!==-1/0&&(u===-1/0||u<c))))}return!_(o,r)&&(!!_(r,o)||r<o)}};t.exports=b},{"./GetIntrinsic":158,"./helpers/assertRecord":163,"./helpers/callBind":165,"./helpers/isFinite":168,"./helpers/isNaN":169,"./helpers/isPropertyDescriptor":171,"./helpers/mod":173,"./helpers/sign":174,"es-to-primitive/es5":179,has:189,"is-callable":195}],162:[function(e,t,n){"use strict";t.exports=e("./es2016")},{"./es2016":160}],163:[function(e,t,n){"use strict";var r=e("../GetIntrinsic"),o=r("%TypeError%"),i=r("%SyntaxError%"),a=e("has"),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var i=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(i&&s)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(e,t,n,r){var a=s[t];if("function"!==typeof a)throw new i("unknown record type: "+t);if(!a(e,r))throw new o(n+" must be a "+t)}},{"../GetIntrinsic":158,has:189}],164:[function(e,t,n){"use strict";var r=e("../GetIntrinsic"),o=e("has"),i=r("%Object%").assign;t.exports=function(e,t){if(i)return i(e,t);for(var n in t)o(t,n)&&(e[n]=t[n]);return e}},{"../GetIntrinsic":158,has:189}],165:[function(e,t,n){"use strict";var r=e("function-bind"),o=e("../GetIntrinsic"),i=o("%Function%"),a=i.apply,s=i.call;t.exports=function(){return r.apply(s,arguments)},t.exports.apply=function(){return r.apply(a,arguments)}},{"../GetIntrinsic":158,"function-bind":186}],166:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=0;n<e.length;n+=1)if(!t(e[n],n,e))return!1;return!0}},{}],167:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}},{}],168:[function(e,t,n){"use strict";var r=Number.isNaN||function(e){return e!==e};t.exports=Number.isFinite||function(e){return"number"===typeof e&&!r(e)&&e!==1/0&&e!==-1/0}},{}],169:[function(e,t,n){"use strict";t.exports=Number.isNaN||function(e){return e!==e}},{}],170:[function(e,t,n){"use strict";t.exports=function(e){return null===e||"function"!==typeof e&&"object"!==typeof e}},{}],171:[function(e,t,n){"use strict";var r=e("../GetIntrinsic"),o=e("has"),i=r("%TypeError%");t.exports=function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(o(t,r)&&!n[r])return!1;if(e.IsDataDescriptor(t)&&e.IsAccessorDescriptor(t))throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}},{"../GetIntrinsic":158,has:189}],172:[function(e,t,n){"use strict";var r=e("./every");t.exports=function(e,t,n){var o=["[[Configurable]]","[[Enumerable]]","[[Get]]","[[Set]]","[[Value]]","[[Writable]]"];return r(o,(function(r){return r in t===r in n&&e.SameValue(t[r],n[r])}))}},{"./every":166}],173:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},{}],174:[function(e,t,n){"use strict";t.exports=function(e){return e>=0?1:-1}},{}],175:[function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=e("./isArguments"),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{p(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),d=function(e){if("undefined"===typeof window||!h)return p(e);try{return p(e)}catch(t){return!1}};r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(s&&e.length>0&&!o.call(e,0))for(var h=0;h<e.length;++h)p.push(String(h));if(r&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var g in e)f&&"prototype"===g||!o.call(e,g)||p.push(String(g));if(u)for(var y=d(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!o.call(e,l[v])||p.push(l[v]);return p}}t.exports=r},{"./isArguments":177}],176:[function(e,t,n){"use strict";var r=Array.prototype.slice,o=e("./isArguments"),i=Object.keys,a=i?function(e){return i(e)}:e("./implementation"),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},t.exports=a},{"./implementation":175,"./isArguments":177}],177:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},{}],178:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator,o=e("./helpers/isPrimitive"),i=e("is-callable"),a=e("is-date-object"),s=e("is-symbol"),u=function(e,t){if("undefined"===typeof e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!==typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=e[s[a]],i(n)&&(r=n.call(e),o(r)))return r;throw new TypeError("No default value")},c=function(e,t){var n=e[t];if(null!==n&&"undefined"!==typeof n){if(!i(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};t.exports=function(e){if(o(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?t=c(e,Symbol.toPrimitive):s(e)&&(t=Symbol.prototype.valueOf)),"undefined"!==typeof t){var i=t.call(e,n);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(e)||s(e))&&(n="string"),u(e,"default"===n?"number":n)}},{"./helpers/isPrimitive":181,"is-callable":195,"is-date-object":197,"is-symbol":199}],179:[function(e,t,n){"use strict";var r=Object.prototype.toString,o=e("./helpers/isPrimitive"),i=e("is-callable"),a={"[[DefaultValue]]":function(e){var t;if(t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number,t===String||t===Number){var n,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(i(e[s[a]])&&(n=e[s[a]](),o(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(e){return o(e)?e:arguments.length>1?a["[[DefaultValue]]"](e,arguments[1]):a["[[DefaultValue]]"](e)}},{"./helpers/isPrimitive":181,"is-callable":195}],180:[function(e,t,n){"use strict";t.exports=e("./es2015")},{"./es2015":178}],181:[function(e,t,n){t.exports=function(e){return null===e||"function"!==typeof e&&"object"!==typeof e}},{}],182:[function(e,t,n){
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */
"use strict";var r=/["'&<>]/;function o(e){var t,n=""+e,o=r.exec(n);if(!o)return n;var i="",a=0,s=0;for(a=o.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(i+=n.substring(s,a)),s=a+1,i+=t}return s!==a?i+n.substring(s,a):i}t.exports=o},{}],183:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"===typeof e}function i(e){return"number"===typeof e}function a(e){return"object"===typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,i,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)while(n.length)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[],t},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],184:[function(e,t,n){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=function(e,t,n){if("[object Function]"!==o.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(n,e[a],a,e);else for(var s in e)r.call(e,s)&&t.call(n,e[s],s,e)}},{}],185:[function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString,a="[object Function]";t.exports=function(e){var t=this;if("function"!==typeof t||i.call(t)!==a)throw new TypeError(r+t);for(var n,s=o.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,s.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(o.call(arguments)))},c=Math.max(0,t.length-s.length),l=[],p=0;p<c;p++)l.push("$"+p);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},{}],186:[function(e,t,n){"use strict";var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":185}],187:[function(e,n,r){(function(t){"use strict";var r=t.Symbol,o=e("./shams");n.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&o())))}}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./shams":188}],188:[function(e,t,n){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||!0!==i.enumerable)return!1}return!0}},{}],189:[function(e,t,n){"use strict";var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":186}],190:[function(e,t,n){var r=e("http"),o=t.exports;for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);o.request=function(e,t){return e||(e={}),e.scheme="https",e.protocol="https:",r.request.call(this,e,t)}},{http:238}],191:[function(e,t,n){
/*!
 * humanize-ms - index.js
 * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
 * MIT Licensed
 */
"use strict";var r=e("util"),o=e("ms");t.exports=function(e){if("number"===typeof e)return e;var t=o(e);if(void 0===t){var n=new Error(r.format("humanize-ms(%j) result undefined",e));console.warn(n.stack)}return t}},{ms:204,util:253}],192:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,p=n?o-1:0,f=n?-1:1,h=e[t+p];for(p+=f,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+p],p+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=f,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,p=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+p>=1?f/u:f*Math.pow(2,1-p),t*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*u-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=d,a/=256,c-=8);e[n+h-d]|=128*m}},{}],193:[function(e,t,n){"function"===typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],194:[function(e,t,n){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(r(e)||o(e)||!!e._isBuffer)}},{}],195:[function(e,t,n){"use strict";var r=Function.prototype.toString,o=/^\s*class\b/,i=function(e){try{var t=r.call(e);return o.test(t)}catch(n){return!1}},a=function(e){try{return!i(e)&&(r.call(e),!0)}catch(t){return!1}},s=Object.prototype.toString,u="[object Function]",c="[object GeneratorFunction]",l="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(e){if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if("function"===typeof e&&!e.prototype)return!0;if(l)return a(e);if(i(e))return!1;var t=s.call(e);return t===u||t===c}},{}],196:[function(t,n,r){(function(t){var o=Function.prototype.toString;function i(e){return o.call(e).replace(/^[^{]*{\s*/,"").replace(/\s*}[^}]*$/,"")}function a(e){return"function"===typeof e&&(/^class(?:\s|{)/.test(o.call(e))||/^.*classCallCheck\(/.test(i(e)))}"undefined"!==typeof r?("undefined"!==typeof n&&n.exports&&(r=n.exports=a),r.isClass=a):"function"===typeof e&&e.amd?e([],(function(){return a})):t.isClass=a})(this)},{}],197:[function(e,t,n){"use strict";var r=Date.prototype.getDay,o=function(e){try{return r.call(e),!0}catch(t){return!1}},i=Object.prototype.toString,a="[object Date]",s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(e){return"object"===typeof e&&null!==e&&(s?o(e):i.call(e)===a)}},{}],198:[function(e,t,n){"use strict";var r=e("has"),o=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,a=function(e){try{var t=e.lastIndex;return e.lastIndex=0,o.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}},s=Object.prototype.toString,u="[object RegExp]",c="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!c)return s.call(e)===u;var t=i(e,"lastIndex"),n=t&&r(t,"value");return!!n&&a(e)}},{has:189}],199:[function(e,t,n){"use strict";var r=Object.prototype.toString,o=e("has-symbols")();if(o){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/,s=function(e){return"symbol"===typeof e.valueOf()&&a.test(i.call(e))};t.exports=function(e){if("symbol"===typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return s(e)}catch(t){return!1}}}else t.exports=function(e){return!1}},{"has-symbols":187}],200:[function(e,t,n){"use strict";var r=e("core-util-is"),o=e("isstream"),i=e("is-class-hotfix");Object.keys(r).map((function(e){n[s(e)]=r[e]})),n.stream=o,n.readableStream=o.isReadable,n.writableStream=o.isWritable,n.duplexStream=o.isDuplex,n.class=i,n.finite=Number.isFinite,n.NaN=Number.isNaN,n.generator=function(e){return e&&"function"===typeof e.next&&"function"===typeof e.throw},n.generatorFunction=function(e){return e&&e.constructor&&"GeneratorFunction"===e.constructor.name},n.asyncFunction=function(e){return e&&e.constructor&&"AsyncFunction"===e.constructor.name},n.promise=function(e){return e&&"function"===typeof e.then};var a=Math.pow(2,31);function s(e){var t=e.slice(2);return t=t[0].toLowerCase()+t.slice(1),t}n.int=function(e){return r.isNumber(e)&&e%1===0},n.int32=function(e){return n.int(e)&&e<a&&e>=-a},n.long=function(e){return n.int(e)&&(e>=a||e<-a)},n.Long=function(e){return n.object(e)&&n.number(e.high)&&n.number(e.low)},n.double=function(e){return r.isNumber(e)&&!isNaN(e)&&e%1!==0},n.date=function(e){return e instanceof Date},n.regExp=function(e){return e instanceof RegExp},n.regexp=n.regExp,n.error=function(e){return e instanceof Error},n.array=Array.isArray},{"core-util-is":153,"is-class-hotfix":196,isstream:202}],201:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],202:[function(e,t,n){var r=e("stream");function o(e){return e instanceof r.Stream}function i(e){return o(e)&&"function"==typeof e._read&&"object"==typeof e._readableState}function a(e){return o(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}function s(e){return i(e)&&a(e)}t.exports=o,t.exports.isReadable=i,t.exports.isWritable=a,t.exports.isDuplex=s},{stream:237}],203:[function(e,t,n){
/*!
 * merge-descriptors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
"use strict";t.exports=o;var r=Object.prototype.hasOwnProperty;function o(e,t,n){if(!e)throw new TypeError("argument dest is required");if(!t)throw new TypeError("argument src is required");return void 0===n&&(n=!0),Object.getOwnPropertyNames(t).forEach((function(o){if(n||!r.call(e,o)){var i=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(e,o,i)}})),e}},{}],204:[function(e,t,n){var r=1e3,o=60*r,i=60*o,a=24*i,s=365.25*a;function u(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),u=(t[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return n*s;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function c(e){return e>=a?Math.round(e/a)+"d":e>=i?Math.round(e/i)+"h":e>=o?Math.round(e/o)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}function l(e){return p(e,a,"day")||p(e,i,"hour")||p(e,o,"minute")||p(e,r,"second")||e+" ms"}function p(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return u(e);if("number"===n&&!1===isNaN(e))return t.long?l(e):c(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],205:[function(e,t,n){var r="function"===typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"===typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"===typeof u.get?u.get:null,l=s&&Set.prototype.forEach,p=Boolean.prototype.valueOf,f=Object.prototype.toString,h="function"===typeof BigInt?BigInt.prototype.valueOf:null,d=e("./util.inspect").custom,m=d&&S(d)?d:null;function g(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function y(e){return String(e).replace(/"/g,"&quot;")}function v(e){return"[object Array]"===M(e)}function _(e){return"[object Date]"===M(e)}function b(e){return"[object RegExp]"===M(e)}function E(e){return"[object Error]"===M(e)}function S(e){return"[object Symbol]"===M(e)}function A(e){return"[object String]"===M(e)}function I(e){return"[object Number]"===M(e)}function w(e){return"[object BigInt]"===M(e)}function T(e){return"[object Boolean]"===M(e)}t.exports=function e(t,n,r,o){if(n||(n={}),O(n,"quoteStyle")&&"single"!==n.quoteStyle&&"double"!==n.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return k(t,n);if("number"===typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"===typeof t)return String(t)+"n";var s="undefined"===typeof n.depth?5:n.depth;if("undefined"===typeof r&&(r=0),r>=s&&s>0&&"object"===typeof t)return"[Object]";if("undefined"===typeof o)o=[];else if(N(o,t)>=0)return"[Circular]";function u(t,i){return i&&(o=o.slice(),o.push(i)),e(t,n,r+1,o)}if("function"===typeof t){var f=D(t);return"[Function"+(f?": "+f:"")+"]"}if(S(t)){var d=Symbol.prototype.toString.call(t);return"object"===typeof t?G(d):d}if(P(t)){for(var C="<"+String(t.nodeName).toLowerCase(),M=t.attributes||[],R=0;R<M.length;R++)C+=" "+M[R].name+"="+g(y(M[R].value),"double",n);return C+=">",t.childNodes&&t.childNodes.length&&(C+="..."),C+="</"+String(t.nodeName).toLowerCase()+">",C}if(v(t))return 0===t.length?"[]":"[ "+U(t,u).join(", ")+" ]";if(E(t)){var F=U(t,u);return 0===F.length?"["+String(t)+"]":"{ ["+String(t)+"] "+F.join(", ")+" }"}if("object"===typeof t){if(m&&"function"===typeof t[m])return t[m]();if("function"===typeof t.inspect)return t.inspect()}if(x(t)){F=[];return a.call(t,(function(e,n){F.push(u(n,t)+" => "+u(e,t))})),j("Map",i.call(t),F)}if(L(t)){F=[];return l.call(t,(function(e){F.push(u(e,t))})),j("Set",c.call(t),F)}if(I(t))return G(u(Number(t)));if(w(t))return G(u(h.call(t)));if(T(t))return G(p.call(t));if(A(t))return G(u(String(t)));if(!_(t)&&!b(t)){var q=U(t,u);return 0===q.length?"{}":"{ "+q.join(", ")+" }"}return String(t)};var C=Object.prototype.hasOwnProperty||function(e){return e in this};function O(e,t){return C.call(e,t)}function M(e){return f.call(e)}function D(e){if(e.name)return e.name;var t=String(e).match(/^function\s*([\w$]+)/);return t?t[1]:void 0}function N(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function x(e){if(!i)return!1;try{i.call(e);try{c.call(e)}catch(t){return!0}return e instanceof Map}catch(n){}return!1}function L(e){if(!c)return!1;try{c.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}function P(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof HTMLElement&&e instanceof HTMLElement||"string"===typeof e.nodeName&&"function"===typeof e.getAttribute)}function k(e,t){var n=e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,R);return g(n,"single",t)}function R(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16)}function G(e){return"Object("+e+")"}function j(e,t,n){return e+" ("+t+") {"+n.join(", ")+"}"}function U(e,t){var n=v(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=O(e,o)?t(e[o],e):""}for(var i in e)O(e,i)&&(n&&String(Number(i))===i&&i<e.length||(/[^\w$]/.test(i)?r.push(t(i,e)+": "+t(e[i],e)):r.push(i+": "+t(e[i],e))));return r}},{"./util.inspect":38}],206:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Array.prototype.slice,a=e("./isArguments"),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{p(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),d=function(e){if("undefined"===typeof window||!h)return p(e);try{return p(e)}catch(t){return!1}},m=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),i=a(e),s=t&&"[object String]"===o.call(e),p=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(s&&e.length>0&&!r.call(e,0))for(var h=0;h<e.length;++h)p.push(String(h));if(i&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var g in e)f&&"prototype"===g||!r.call(e,g)||p.push(String(g));if(u)for(var y=d(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!r.call(e,l[v])||p.push(l[v]);return p};m.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return a(e)?t(i.call(e)):t(e)}}}else Object.keys=m;return Object.keys||m},t.exports=m},{"./isArguments":207}],207:[function(e,t,n){arguments[4][177][0].apply(n,arguments)},{dup:177}],208:[function(e,t,n){"use strict";var r=e("es-abstract/es7"),o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Function.call.bind(Array.prototype.concat),c=Function.call.bind(Array.prototype.reduce),l=s?function(e){return u(a(e),s(e))}:a,p=r.IsCallable(i)&&r.IsCallable(a),f=function(e,t,n){o&&t in e?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};t.exports=function(e){if(r.RequireObjectCoercible(e),!p)throw new TypeError("getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor");var t=r.ToObject(e);return c(l(t),(function(e,n){var r=i(t,n);return"undefined"!==typeof r&&f(e,n,r),e}),{})}},{"es-abstract/es7":162}],209:[function(e,t,n){"use strict";var r=e("define-properties"),o=e("./implementation"),i=e("./polyfill"),a=e("./shim");r(o,{getPolyfill:i,implementation:o,shim:a}),t.exports=o},{"./implementation":208,"./polyfill":210,"./shim":211,"define-properties":157}],210:[function(e,t,n){"use strict";var r=e("./implementation");t.exports=function(){return"function"===typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors:r}},{"./implementation":208}],211:[function(e,t,n){"use strict";var r=e("./polyfill"),o=e("define-properties");t.exports=function(){var e=r();return o(Object,{getOwnPropertyDescriptors:e},{getOwnPropertyDescriptors:function(){return Object.getOwnPropertyDescriptors!==e}}),e}},{"./polyfill":210,"define-properties":157}],212:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(o(n.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),a="/"===i(e,-1);return e=t(o(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}var c=[];for(u=s;u<o.length;u++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:215}],213:[function(n,r,o){(function(t){(function(){"use strict";var n={function:!0,object:!0},i=n[typeof window]&&window||this,a=n[typeof o]&&o,s=n[typeof r]&&r&&!r.nodeType&&r,u=a&&s&&"object"==typeof t&&t;!u||u.global!==u&&u.window!==u&&u.self!==u||(i=u);var c=Math.pow(2,53)-1,l=/\bOpera/,p=Object.prototype,f=p.hasOwnProperty,h=p.toString;function d(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function m(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=y(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),e}function g(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=c)while(++n<r)t(e[n],n,e);else v(e,t)}function y(e){return e=A(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:d(e)}function v(e,t){for(var n in e)f.call(e,n)&&t(e[n],n,e)}function _(e){return null==e?d(e):h.call(e).slice(8,-1)}function b(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||!!e[t])}function E(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function S(e,t){var n=null;return g(e,(function(r,o){n=t(n,r,o,e)})),n}function A(e){return String(e).replace(/^ +| +$/g,"")}function I(e){var t=i,n=e&&"object"==typeof e&&"String"!=_(e);n&&(t=e,e=null);var r=t.navigator||{},o=r.userAgent||"";e||(e=o);var a,s,u=n?!!r.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(h.toString()),c="Object",p=n?c:"ScriptBridgingProxyObject",f=n?c:"Environment",d=n&&t.java?"JavaPackage":_(t.java),g=n?c:"RuntimeObject",w=/\bJava/.test(d)&&t.java,T=w&&_(t.environment)==f,C=w?"a":"α",O=w?"b":"β",M=t.document||{},D=t.operamini||t.opera,N=l.test(N=n&&D?D["[[Class]]"]:_(D))?N:D=null,x=e,L=[],P=null,k=e==o,R=k&&D&&"function"==typeof D.version&&D.version(),G=B([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),j=V(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),U=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),F=Z({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),q=H(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function B(t){return S(t,(function(t,n){return t||RegExp("\\b"+(n.pattern||E(n))+"\\b","i").exec(e)&&(n.label||n)}))}function Z(t){return S(t,(function(t,n,r){return t||(n[U]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(U)]||RegExp("\\b"+E(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r}))}function V(t){return S(t,(function(t,n){return t||RegExp("\\b"+(n.pattern||E(n))+"\\b","i").exec(e)&&(n.label||n)}))}function H(t){return S(t,(function(t,n){var r=n.pattern||E(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=m(t,r,n.label||n)),t}))}function z(t){return S(t,(function(t,n){var r=n.pattern||E(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=y(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t}))}function Y(t){return S(t,(function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null}))}function K(){return this.description||""}if(G&&(G=[G]),F&&!U&&(U=z([F])),(a=/\bGoogle TV\b/.exec(U))&&(U=a[0]),/\bSimulator\b/i.test(e)&&(U=(U?U+" ":"")+"Simulator"),"Opera Mini"==j&&/\bOPiOS\b/.test(e)&&L.push("running in Turbo/Uncompressed mode"),"IE"==j&&/\blike iPhone OS\b/.test(e)?(a=I(e.replace(/like iPhone OS/,"")),F=a.manufacturer,U=a.product):/^iP/.test(U)?(j||(j="Safari"),q="iOS"+((a=/ OS ([\d_]+)/i.exec(e))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"!=j||/buntu/i.test(q)?F&&"Google"!=F&&(/Chrome/.test(j)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(U))||/\bAndroid\b/.test(q)&&/^Chrome/.test(j)&&/\bVersion\//i.test(e)?(j="Android Browser",q=/\bAndroid\b/.test(q)?q:"Android"):"Silk"==j?(/\bMobi/i.test(e)||(q="Android",L.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&L.unshift("accelerated")):"PaleMoon"==j&&(a=/\bFirefox\/([\d.]+)\b/.exec(e))?L.push("identifying as Firefox "+a[1]):"Firefox"==j&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(q||(q="Firefox OS"),U||(U=a[1])):!j||(a=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(j))?(j&&!U&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(a+"/")+8))&&(j=null),(a=U||F||q)&&(U||F||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(q))&&(j=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(q)?q:a)+" Browser")):"Electron"==j&&(a=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&L.push("Chromium "+a):q="Kubuntu",R||(R=Y(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",E(j),"(?:Firefox|Minefield|NetFront)"])),(a=("iCab"==G&&parseFloat(R)>3?"WebKit":/\bOpera\b/.test(j)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(G)&&"WebKit"||!G&&/\bMSIE\b/i.test(e)&&("Mac OS"==q?"Tasman":"Trident")||"WebKit"==G&&/\bPlayStation\b(?! Vita\b)/i.test(j)&&"NetFront")&&(G=[a]),"IE"==j&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(j+=" Mobile",q="Windows Phone "+(/\+$/.test(a)?a:a+".x"),L.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(j="IE Mobile",q="Windows Phone 8.x",L.unshift("desktop mode"),R||(R=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=j&&"Trident"==G&&(a=/\brv:([\d.]+)/.exec(e))&&(j&&L.push("identifying as "+j+(R?" "+R:"")),j="IE",R=a[1]),k){if(b(t,"global"))if(w&&(a=w.lang.System,x=a.getProperty("os.arch"),q=q||a.getProperty("os.name")+" "+a.getProperty("os.version")),T){try{R=t.require("ringo/engine").version.join("."),j="RingoJS"}catch(W){(a=t.system)&&a.global.system==t.system&&(j="Narwhal",q||(q=a[0].os||null))}j||(j="Rhino")}else"object"==typeof t.process&&!t.process.browser&&(a=t.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(L.push("Node "+a.versions.node),j="Electron",R=a.versions.electron):"string"==typeof a.versions.nw&&(L.push("Chromium "+R,"Node "+a.versions.node),j="NW.js",R=a.versions.nw)),j||(j="Node.js",x=a.arch,q=a.platform,R=/[\d.]+/.exec(a.version),R=R?R[0]:null));else _(a=t.runtime)==p?(j="Adobe AIR",q=a.flash.system.Capabilities.os):_(a=t.phantom)==g?(j="PhantomJS",R=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof M.documentMode&&(a=/\bTrident\/(\d+)/i.exec(e))?(R=[R,M.documentMode],(a=+a[1]+4)!=R[1]&&(L.push("IE "+R[1]+" mode"),G&&(G[1]=""),R[1]=a),R="IE"==j?String(R[1].toFixed(1)):R[0]):"number"==typeof M.documentMode&&/^(?:Chrome|Firefox)\b/.test(j)&&(L.push("masking as "+j+" "+R),j="IE",R="11.0",G=["Trident"],q="Windows");q=q&&y(q)}if(R&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(R)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(k&&r.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(P=/b/i.test(a)?"beta":"alpha",R=R.replace(RegExp(a+"\\+?$"),"")+("beta"==P?O:C)+(/\d+\+?/.exec(a)||"")),"Fennec"==j||"Firefox"==j&&/\b(?:Android|Firefox OS)\b/.test(q))j="Firefox Mobile";else if("Maxthon"==j&&R)R=R.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(U))"Xbox 360"==U&&(q=null),"Xbox 360"==U&&/\bIEMobile\b/.test(e)&&L.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(j)&&(!j||U||/Browser|Mobi/.test(j))||"Windows CE"!=q&&!/Mobi/i.test(e))if("IE"==j&&k)try{null===t.external&&L.unshift("platform preview")}catch(W){L.unshift("embedded")}else(/\bBlackBerry\b/.test(U)||/\bBB10\b/.test(e))&&(a=(RegExp(U.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||R)?(a=[a,/BB10/.test(e)],q=(a[1]?(U=null,F="BlackBerry"):"Device Software")+" "+a[0],R=null):this!=v&&"Wii"!=U&&(k&&D||/Opera/.test(j)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==j&&/\bOS X (?:\d+\.){2,}/.test(q)||"IE"==j&&(q&&!/^Win/.test(q)&&R>5.5||/\bWindows XP\b/.test(q)&&R>8||8==R&&!/\bTrident\b/.test(e)))&&!l.test(a=I.call(v,e.replace(l,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),l.test(j)?(/\bIE\b/.test(a)&&"Mac OS"==q&&(q=null),a="identify"+a):(a="mask"+a,j=N?y(N.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(q=null),k||(R=null)),G=["Presto"],L.push(a));else j+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==j&&"+"==a[1].slice(-1)?(j="WebKit Nightly",P="alpha",R=a[1].slice(0,-1)):R!=a[1]&&R!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(R=null),a[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==a[0]&&537.36==a[2]&&parseFloat(a[1])>=28&&"WebKit"==G&&(G=["Blink"]),k&&(u||a[1])?(G&&(G[1]="like Chrome"),a=a[1]||(a=a[0],a<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=G?"27":"28")):(G&&(G[1]="like Safari"),a=a[0],a=a<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:"8"),G&&(G[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==j&&(!R||parseInt(R)>45)&&(R=a)),"Opera"==j&&(a=/\bzbov|zvav$/.exec(q))?(j+=" ",L.unshift("desktop mode"),"zvav"==a?(j+="Mini",R=null):j+="Mobile",q=q.replace(RegExp(" *"+a+"$"),"")):"Safari"==j&&/\bChrome\b/.exec(G&&G[1])&&(L.unshift("desktop mode"),j="Chrome Mobile",R=null,/\bOS X\b/.test(q)?(F="Apple",q="iOS 4.3+"):q=null),R&&0==R.indexOf(a=/[\d.]+$/.exec(q))&&e.indexOf("/"+a+"-")>-1&&(q=A(q.replace(a,""))),G&&!/\b(?:Avant|Nook)\b/.test(j)&&(/Browser|Lunascape|Maxthon/.test(j)||"Safari"!=j&&/^iOS/.test(q)&&/\bSafari\b/.test(G[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(j)&&G[1])&&(a=G[G.length-1])&&L.push(a),L.length&&(L=["("+L.join("; ")+")"]),F&&U&&U.indexOf(F)<0&&L.push("on "+F),U&&L.push((/^on /.test(L[L.length-1])?"":"on ")+U),q&&(a=/ ([\d.+]+)$/.exec(q),s=a&&"/"==q.charAt(q.length-a[0].length-1),q={architecture:32,family:a&&!s?q.replace(a[0],""):q,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!s?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(x))&&!/\bi686\b/i.test(x)?(q&&(q.architecture=64,q.family=q.family.replace(RegExp(" *"+a),"")),j&&(/\bWOW64\b/i.test(e)||k&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(e))&&L.unshift("32-bit")):q&&/^OS X/.test(q.family)&&"Chrome"==j&&parseFloat(R)>=39&&(q.architecture=64),e||(e=null);var X={};return X.description=e,X.layout=G&&G[0],X.manufacturer=F,X.name=j,X.prerelease=P,X.product=U,X.ua=e,X.version=j&&R,X.os=q||{architecture:null,family:null,version:null,toString:function(){return"null"}},X.parse=I,X.toString=K,X.version&&L.unshift(R),X.name&&L.unshift(j),q&&j&&(q!=String(q).split(" ")[0]||q!=j.split(" ")[0]&&!U)&&L.push(U?"("+q+")":"on "+q),L.length&&(X.description=L.join(" ")),X}var w=I();"function"==typeof e&&"object"==typeof e.amd&&e.amd?(i.platform=w,e((function(){return w}))):a&&s?v(w,(function(e,t){a[t]=e})):i.platform=w}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],214:[function(e,t,n){(function(e){"use strict";function n(t,n,r,o){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,o)}));default:i=new Array(s-1),a=0;while(a<i.length)i[a++]=arguments[a];return e.nextTick((function(){t.apply(null,i)}))}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,e("_process"))},{_process:215}],215:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"===typeof clearTimeout?clearTimeout:s}catch(e){o=s}})();var l,p=[],f=!1,h=-1;function d(){f&&l&&(f=!1,l.length?p=l.concat(p):h=-1,p.length&&m())}function m(){if(!f){var e=u(d);f=!0;var t=p.length;while(t){l=p,p=[];while(++h<t)l&&l[h].run();h=-1,t=p.length}l=null,f=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new g(e,t)),1!==p.length||f||u(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],216:[function(n,r,o){(function(t){(function(n){var i="object"==typeof o&&o&&!o.nodeType&&o,a="object"==typeof r&&r&&!r.nodeType&&r,s="object"==typeof t&&t;s.global!==s&&s.window!==s&&s.self!==s||(n=s);var u,c,l=2147483647,p=36,f=1,h=26,d=38,m=700,g=72,y=128,v="-",_=/^xn--/,b=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=p-f,I=Math.floor,w=String.fromCharCode;function T(e){throw new RangeError(S[e])}function C(e,t){var n=e.length,r=[];while(n--)r[n]=t(e[n]);return r}function O(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(E,".");var o=e.split("."),i=C(o,t).join(".");return r+i}function M(e){var t,n,r=[],o=0,i=e.length;while(o<i)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function D(e){return C(e,(function(e){var t="";return e>65535&&(e-=65536,t+=w(e>>>10&1023|55296),e=56320|1023&e),t+=w(e),t})).join("")}function N(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function L(e,t,n){var r=0;for(e=n?I(e/m):e>>1,e+=I(e/t);e>A*h>>1;r+=p)e=I(e/A);return I(r+(A+1)*e/(e+d))}function P(e){var t,n,r,o,i,a,s,u,c,d,m=[],_=e.length,b=0,E=y,S=g;for(n=e.lastIndexOf(v),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&T("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<_;){for(i=b,a=1,s=p;;s+=p){if(o>=_&&T("invalid-input"),u=N(e.charCodeAt(o++)),(u>=p||u>I((l-b)/a))&&T("overflow"),b+=u*a,c=s<=S?f:s>=S+h?h:s-S,u<c)break;d=p-c,a>I(l/d)&&T("overflow"),a*=d}t=m.length+1,S=L(b-i,t,0==i),I(b/t)>l-E&&T("overflow"),E+=I(b/t),b%=t,m.splice(b++,0,E)}return D(m)}function k(e){var t,n,r,o,i,a,s,u,c,d,m,_,b,E,S,A=[];for(e=M(e),_=e.length,t=y,n=0,i=g,a=0;a<_;++a)m=e[a],m<128&&A.push(w(m));r=o=A.length,o&&A.push(v);while(r<_){for(s=l,a=0;a<_;++a)m=e[a],m>=t&&m<s&&(s=m);for(b=r+1,s-t>I((l-n)/b)&&T("overflow"),n+=(s-t)*b,t=s,a=0;a<_;++a)if(m=e[a],m<t&&++n>l&&T("overflow"),m==t){for(u=n,c=p;;c+=p){if(d=c<=i?f:c>=i+h?h:c-i,u<d)break;S=u-d,E=p-d,A.push(w(x(d+S%E,0))),u=I(S/E)}A.push(w(x(u,0))),i=L(n,b,r==o),n=0,++r}++n,++t}return A.join("")}function R(e){return O(e,(function(e){return _.test(e)?P(e.slice(4).toLowerCase()):e}))}function G(e){return O(e,(function(e){return b.test(e)?"xn--"+k(e):e}))}if(u={version:"1.4.1",ucs2:{decode:M,encode:D},decode:P,encode:k,toASCII:G,toUnicode:R},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",(function(){return u}));else if(i&&a)if(r.exports==i)a.exports=u;else for(c in u)u.hasOwnProperty(c)&&(i[c]=u[c]);else n.punycode=u})(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],217:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"===typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var p,f,h,d,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(p=m.substr(0,g),f=m.substr(g+1)):(p=m,f=""),h=decodeURIComponent(p),d=decodeURIComponent(f),r(a,h)?o(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],218:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],219:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":217,"./encode":218}],220:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":221}],221:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/keys"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var a=e("process-nextick-args"),s=o.default||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=d;var u=e("core-util-is");u.inherits=e("inherits");var c=e("./_stream_readable"),l=e("./_stream_writable");u.inherits(d,c);for(var p=s(l.prototype),f=0;f<p.length;f++){var h=p[f];d.prototype[h]||(d.prototype[h]=l.prototype[h])}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),l.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||a.nextTick(g,this)}function g(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},{"./_stream_readable":223,"./_stream_writable":225,"babel-runtime/core-js/object/keys":25,"core-util-is":153,inherits:193,"process-nextick-args":214}],222:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform"),o=e("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=e("inherits"),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":224,"core-util-is":153,inherits:193}],223:[function(e,n,r){(function(t,r){"use strict";var o=e("babel-runtime/core-js/object/get-prototype-of"),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var s=e("process-nextick-args");n.exports=w;var u,c=e("isarray");w.ReadableState=I;e("events").EventEmitter;var l=function(e,t){return e.listeners(t).length},p=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=r.Uint8Array||function(){};function d(e){return f.from(e)}function m(e){return f.isBuffer(e)||e instanceof h}var g=e("core-util-is");g.inherits=e("inherits");var y=e("util"),v=void 0;v=y&&y.debuglog?y.debuglog("stream"):function(){};var _,b=e("./internal/streams/BufferList"),E=e("./internal/streams/destroy");g.inherits(w,p);var S=["error","close","destroy","pause","resume"];function A(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?c(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function I(t,n){u=u||e("./_stream_duplex"),t=t||{};var r=n instanceof u;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,i=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(i||0===i)?i:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(_||(_=e("string_decoder/").StringDecoder),this.decoder=new _(t.encoding),this.encoding=t.encoding)}function w(t){if(u=u||e("./_stream_duplex"),!(this instanceof w))return new w(t);this._readableState=new I(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),p.call(this)}function T(e,t,n,r,o){var a,s=e._readableState;null===t?(s.reading=!1,L(e,s)):(o||(a=O(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"===typeof t||s.objectMode||(0,i.default)(t)===f.prototype||(t=d(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):C(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?C(e,s,t,!1):R(e,s)):C(e,s,t,!1))):r||(s.reading=!1));return M(s)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&P(e)),R(e,t)}function O(e,t){var n;return m(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function M(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=E.destroy,w.prototype._undestroy=E.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=f.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},w.prototype.unshift=function(e){return T(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(t){return _||(_=e("string_decoder/").StringDecoder),this._readableState.decoder=new _(t),this._readableState.encoding=t,this};var D=8388608;function N(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=N(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function L(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,P(e)}}function P(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?s.nextTick(k,e):k(e))}function k(e){v("emit readable"),e.emit("readable"),B(e)}function R(e,t){t.readingMore||(t.readingMore=!0,s.nextTick(G,e,t))}function G(e,t){var n=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){if(v("maybeReadMore read 0"),e.read(0),n===t.length)break;n=t.length}t.readingMore=!1}function j(e){return function(){var t=e._readableState;v("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&l(e,"data")&&(t.flowing=!0,B(e))}}function U(e){v("readable nexttick read 0"),e.read(0)}function F(e,t){t.resumeScheduled||(t.resumeScheduled=!0,s.nextTick(q,e,t))}function q(e,t){t.reading||(v("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;v("flow",t.flowing);while(t.flowing&&null!==e.read());}function Z(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=V(e,t.buffer,t.decoder),n);var n}function V(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?H(e,t):z(e,t),r}function H(e,t){var n=t.head,r=1,o=n.data;e-=o.length;while(n=n.next){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),e-=a,0===e){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++r}return t.length-=r,o}function z(e,t){var n=f.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;while(r=r.next){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),e-=a,0===e){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++o}return t.length-=o,n}function Y(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,s.nextTick(K,t,e))}function K(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function X(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}w.prototype.read=function(e){v("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return v("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Y(this):P(this),null;if(e=x(e,t),0===e&&t.ended)return 0===t.length&&Y(this),null;var r,o=t.needReadable;return v("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,v("length less than watermark",o)),t.ended||t.reading?(o=!1,v("reading or ended",o)):o&&(v("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),r=e>0?Z(e,t):null,null===r?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Y(this)),null!==r&&this.emit("data",r),r},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,n){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1,v("pipe count=%d opts=%j",o.pipesCount,n);var i=(!n||!1!==n.end)&&e!==t.stdout&&e!==t.stderr,a=i?c:b;function u(e,t){v("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function c(){v("onend"),e.end()}o.endEmitted?s.nextTick(a):r.once("end",a),e.on("unpipe",u);var p=j(r);e.on("drain",p);var f=!1;function h(){v("cleanup"),e.removeListener("close",y),e.removeListener("finish",_),e.removeListener("drain",p),e.removeListener("error",g),e.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",b),r.removeListener("data",m),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||p()}var d=!1;function m(t){v("ondata"),d=!1;var n=e.write(t);!1!==n||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==X(o.pipes,e))&&!f&&(v("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){v("onerror",t),b(),e.removeListener("error",g),0===l(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",_),b()}function _(){v("onfinish"),e.removeListener("close",y),b()}function b(){v("unpipe"),r.unpipe(e)}return r.on("data",m),A(e,"error",g),e.once("close",y),e.once("finish",_),e.emit("pipe",r),o.flowing||(v("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=X(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},w.prototype.on=function(e,t){var n=p.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&P(this):s.nextTick(U,this))}return n},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(v("resume"),e.flowing=!0,F(this,e)),this},w.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(v("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){if(v("wrapped data"),n.decoder&&(o=n.decoder.write(o)),(!n.objectMode||null!==o&&void 0!==o)&&(n.objectMode||o&&o.length)){var i=t.push(o);i||(r=!0,e.pause())}})),e)void 0===this[o]&&"function"===typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<S.length;i++)e.on(S[i],this.emit.bind(this,S[i]));return this._read=function(t){v("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=Z}).call(this,e("_process"),"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./_stream_duplex":221,"./internal/streams/BufferList":226,"./internal/streams/destroy":227,"./internal/streams/stream":228,_process:215,"babel-runtime/core-js/object/get-prototype-of":24,"core-util-is":153,events:183,inherits:193,isarray:201,"process-nextick-args":214,"safe-buffer":235,"string_decoder/":242,util:38}],224:[function(e,t,n){"use strict";t.exports=a;var r=e("./_stream_duplex"),o=e("core-util-is");function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=e("inherits"),o.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},{"./_stream_duplex":221,"core-util-is":153,inherits:193}],225:[function(e,n,r){(function(t,r){"use strict";var o=e("babel-runtime/core-js/object/define-property"),i=f(o),a=e("babel-runtime/core-js/symbol/has-instance"),s=f(a),u=e("babel-runtime/core-js/symbol"),c=f(u),l=e("babel-runtime/core-js/set-immediate"),p=f(l);function f(e){return e&&e.__esModule?e:{default:e}}var h=e("process-nextick-args");function d(e){var t=this;this.next=null,this.entry=null,this.finish=function(){H(t,e)}}n.exports=O;var m,g=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?p.default:h.nextTick;O.WritableState=C;var y=e("core-util-is");y.inherits=e("inherits");var v={deprecate:e("util-deprecate")},_=e("./internal/streams/stream"),b=e("safe-buffer").Buffer,E=r.Uint8Array||function(){};function S(e){return b.from(e)}function A(e){return b.isBuffer(e)||e instanceof E}var I,w=e("./internal/streams/destroy");function T(){}function C(t,n){m=m||e("./_stream_duplex"),t=t||{};var r=n instanceof m;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,i=t.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(i||0===i)?i:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){R(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function O(t){if(m=m||e("./_stream_duplex"),!I.call(O,this)&&!(this instanceof m))return new O(t);this._writableState=new C(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),_.call(this)}function M(e,t){var n=new Error("write after end");e.emit("error",n),h.nextTick(t,n)}function D(e,t,n,r){var o=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),h.nextTick(r,i),o=!1),o}function N(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=b.from(t,n)),t}function x(e,t,n,r,o,i){if(!n){var a=N(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else L(e,t,!1,s,r,o,i);return u}function L(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function P(e,t,n,r,o){--t.pendingcb,n?(h.nextTick(o,r),h.nextTick(Z,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),Z(e,t))}function k(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function R(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(k(n),t)P(e,n,r,t,o);else{var i=F(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||U(e,n),r?g(G,e,n,i,o):G(e,n,i,o)}}function G(e,t,n,r){n||j(e,t),t.pendingcb--,r(),Z(e,t)}function j(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function U(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),i=t.corkedRequestsFree;i.entry=n;var a=0,s=!0;while(n)o[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;o.allBuffers=s,L(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new d(t),t.bufferedRequestCount=0}else{while(n){var u=n.chunk,c=n.encoding,l=n.callback,p=t.objectMode?1:u.length;if(L(e,t,!1,p,u,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function F(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function q(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),Z(e,t)}))}function B(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,h.nextTick(q,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Z(e,t){var n=F(t);return n&&(B(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function V(e,t,n){t.ending=!0,Z(e,t),n&&(t.finished?h.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function H(e,t,n){var r=e.entry;e.entry=null;while(r){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}y.inherits(O,_),C.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:v.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof c.default&&s.default&&"function"===typeof Function.prototype[s.default]?(I=Function.prototype[s.default],(0,i.default)(O,s.default,{value:function(e){return!!I.call(this,e)||this===O&&(e&&e._writableState instanceof C)}})):I=function(e){return e instanceof this},O.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},O.prototype.write=function(e,t,n){var r=this._writableState,o=!1,i=!r.objectMode&&A(e);return i&&!b.isBuffer(e)&&(e=S(e)),"function"===typeof t&&(n=t,t=null),i?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=T),r.ended?M(this,n):(i||D(this,r,e,n))&&(r.pendingcb++,o=x(this,r,i,e,t,n)),o},O.prototype.cork=function(){var e=this._writableState;e.corked++},O.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||U(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},O.prototype._writev=null,O.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||V(this,r,n)},Object.defineProperty(O.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),O.prototype.destroy=w.destroy,O.prototype._undestroy=w.undestroy,O.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./_stream_duplex":221,"./internal/streams/destroy":227,"./internal/streams/stream":228,_process:215,"babel-runtime/core-js/object/define-property":22,"babel-runtime/core-js/set-immediate":27,"babel-runtime/core-js/symbol":29,"babel-runtime/core-js/symbol/has-instance":30,"core-util-is":153,inherits:193,"process-nextick-args":214,"safe-buffer":235,"util-deprecate":247}],226:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("safe-buffer").Buffer,i=e("util");function a(e,t,n){e.copy(t,n)}t.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";var t=this.head,n=""+t.data;while(t=t.next)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;var t=o.allocUnsafe(e>>>0),n=this.head,r=0;while(n)a(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":235,util:38}],227:[function(e,t,n){"use strict";var r=e("process-nextick-args");function o(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return o||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}t.exports={destroy:o,undestroy:i}},{"process-nextick-args":214}],228:[function(e,t,n){"use strict";t.exports=e("events").EventEmitter},{events:183}],229:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":230}],230:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":221,"./lib/_stream_passthrough.js":222,"./lib/_stream_readable.js":223,"./lib/_stream_transform.js":224,"./lib/_stream_writable.js":225}],231:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":230}],232:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":225}],233:[function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=e("./runtime"),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},{"./runtime":234}],234:[function(e,t,n){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"===typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{l=e.regeneratorRuntime=c?t.exports:{},l.wrap=b;var p="suspendedStart",f="suspendedYield",h="executing",d="completed",m={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(x([])));v&&v!==r&&o.call(v,a)&&(g=v);var _=I.prototype=S.prototype=Object.create(g);A.prototype=_.constructor=I,I.constructor=A,I[u]=A.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,I):(e.__proto__=I,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},w(T.prototype),T.prototype[s]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,r){var o=new T(b(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(_),_[u]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=x,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function b(e,t,n,r){var o=t&&t.prototype instanceof S?t:S,i=Object.create(o.prototype),a=new N(r||[]);return i._invoke=C(e,n,a),i}function E(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function S(){}function A(){}function I(){}function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){function t(n,r,i,a){var s=E(e[n],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(c).then((function(e){u.value=e,i(u)}),a)}a(s.arg)}var n;function r(e,r){function o(){return new Promise((function(n,o){t(e,r,n,o)}))}return n=n?n.then(o,o):o()}this._invoke=r}function C(e,t,n){var r=p;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return L()}n.method=o,n.arg=i;while(1){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=E(e,t,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=E(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){while(++r<e.length)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},{}],235:[function(e,t,n){var r=e("buffer"),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,n),n.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:40}],236:[function(e,t,n){(function(t){"use strict";var r=e("babel-runtime/core-js/string/from-code-point"),o=m(r),i=e("babel-runtime/core-js/json/stringify"),a=m(i),s=e("babel-runtime/helpers/typeof"),u=m(s),c=e("babel-runtime/core-js/object/define-property"),l=m(c),p=e("babel-runtime/core-js/object/keys"),f=m(p),h=e("babel-runtime/core-js/object/create"),d=m(h);function m(e){return e&&e.__esModule?e:{default:e}}(function(n){n.parser=function(e,t){return new s(e,t)},n.SAXParser=s,n.SAXStream=y,n.createStream=g,n.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function s(e,t){if(!(this instanceof s))return new s(e,t);var r=this;p(r),r.q=r.c="",r.bufferCheckPosition=n.MAX_BUFFER_LENGTH,r.opt=t||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=x.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?(0,d.default)(n.XML_ENTITIES):(0,d.default)(n.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=(0,d.default)(S)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),P(r,"onready")}function c(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,o=0,a=i.length;o<a;o++){var s=e[i[o]].length;if(s>t)switch(i[o]){case"textNode":R(e);break;case"cdata":k(e,"oncdata",e.cdata),e.cdata="";break;case"script":k(e,"onscript",e.script),e.script="";break;default:j(e,"Max buffer length exceeded: "+i[o])}r=Math.max(r,s)}var u=n.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=u+e.position}function p(e){for(var t=0,n=i.length;t<n;t++)e[i[t]]=""}function h(e){R(e),""!==e.cdata&&(k(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(k(e,"onscript",e.script),e.script="")}n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],d.default||(Object.create=function(e){function t(){}t.prototype=e;var n=new t;return n}),f.default||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),s.prototype={end:function(){U(this)},write:X,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){h(this)}};try{r=e("stream").Stream}catch(W){r=function(){}}var m=n.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function g(e,t){return new y(e,t)}function y(e,t){if(!(this instanceof y))return new y(e,t);r.apply(this),this._parser=new s(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,m.forEach((function(e){(0,l.default)(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}y.prototype=(0,d.default)(r.prototype,{constructor:{value:y}}),y.prototype.write=function(n){if("function"===typeof t&&"function"===typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var r=e("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},y.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},y.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===m.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),r.prototype.on.call(n,e,t)};var v="[CDATA[",_="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",S={xml:b,xmlns:E},A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function C(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function O(e){return'"'===e||"'"===e}function M(e){return">"===e||C(e)}function D(e,t){return e.test(t)}function N(e,t){return!D(e,t)}var x=0;for(var L in n.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},(0,f.default)(n.ENTITIES).forEach((function(e){var t=n.ENTITIES[e],r="number"===typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=r})),n.STATE)n.STATE[n.STATE[L]]=L;function P(e,t,n){e[t]&&e[t](n)}function k(e,t,n){e.textNode&&R(e),P(e,t,n)}function R(e){e.textNode=G(e.opt,e.textNode),e.textNode&&P(e,"ontext",e.textNode),e.textNode=""}function G(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function j(e,t){return R(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,P(e,"onerror",t),e}function U(e){return e.sawRoot&&!e.closedRoot&&F(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&j(e,"Unexpected end"),R(e),e.c="",e.closed=!0,P(e,"onend"),s.call(e,e.strict,e.opt),e}function F(e,t){if("object"!==("undefined"===typeof e?"undefined":(0,u.default)(e))||!(e instanceof s))throw new Error("bad call to strictFail");e.strict&&j(e,t)}function q(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,k(e,"onopentagstart",n)}function B(e,t){var n=e.indexOf(":"),r=n<0?["",e]:e.split(":"),o=r[0],i=r[1];return t&&"xmlns"===e&&(o="xmlns",i=""),{prefix:o,local:i}}function Z(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=B(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==b)F(e,"xml: prefix must be bound to "+b+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==E)F(e,"xmlns: prefix must be bound to "+E+"\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=(0,d.default)(i.ns)),o.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,k(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function V(e,t){if(e.opt.xmlns){var n=e.tag,r=B(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(F(e,"Unbound namespace prefix: "+(0,a.default)(e.tagName)),n.uri=r.prefix);var o=e.tags[e.tags.length-1]||e;n.ns&&o.ns!==n.ns&&(0,f.default)(n.ns).forEach((function(t){k(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var i=0,s=e.attribList.length;i<s;i++){var u=e.attribList[i],c=u[0],l=u[1],p=B(c,!0),h=p.prefix,d=p.local,m=""===h?"":n.ns[h]||"",g={name:c,value:l,prefix:h,local:d,uri:m};h&&"xmlns"!==h&&!m&&(F(e,"Unbound namespace prefix: "+(0,a.default)(h)),g.uri=h),e.tag.attributes[c]=g,k(e,"onattribute",g)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),k(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function H(e){if(!e.tagName)return F(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);k(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());var r=n;while(t--){var o=e.tags[t];if(o.name===r)break;F(e,"Unexpected close tag")}if(t<0)return F(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=n;var i=e.tags.length;while(i-- >t){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,k(e,"onclosetag",e.tagName);var s={};for(var u in a.ns)s[u]=a.ns[u];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==c.ns&&(0,f.default)(a.ns).forEach((function(t){var n=a.ns[t];k(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function z(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),i=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),i=t.toString(10))),n=n.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==n?(F(e,"Invalid character entity"),"&"+e.entity+";"):(0,o.default)(t))}function Y(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):C(t)||(F(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function K(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function X(e){var t=this;if(this.error)throw this.error;if(t.closed)return j(t,"Cannot write after close. Assign an onready handler.");if(null===e)return U(t);"object"===("undefined"===typeof e?"undefined":(0,u.default)(e))&&(e=e.toString());var n=0,r="";while(1){if(r=K(e,n++),t.c=r,!r)break;switch(t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++),t.state){case x.BEGIN:if(t.state=x.BEGIN_WHITESPACE,"\ufeff"===r)continue;Y(t,r);continue;case x.BEGIN_WHITESPACE:Y(t,r);continue;case x.TEXT:if(t.sawRoot&&!t.closedRoot){var o=n-1;while(r&&"<"!==r&&"&"!==r)r=K(e,n++),r&&t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(o,n-1)}"<"!==r||t.sawRoot&&t.closedRoot&&!t.strict?(C(r)||t.sawRoot&&!t.closedRoot||F(t,"Text data outside of root node."),"&"===r?t.state=x.TEXT_ENTITY:t.textNode+=r):(t.state=x.OPEN_WAKA,t.startTagPosition=t.position);continue;case x.SCRIPT:"<"===r?t.state=x.SCRIPT_ENDING:t.script+=r;continue;case x.SCRIPT_ENDING:"/"===r?t.state=x.CLOSE_TAG:(t.script+="<"+r,t.state=x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===r)t.state=x.SGML_DECL,t.sgmlDecl="";else if(C(r));else if(D(A,r))t.state=x.OPEN_TAG,t.tagName=r;else if("/"===r)t.state=x.CLOSE_TAG,t.tagName="";else if("?"===r)t.state=x.PROC_INST,t.procInstName=t.procInstBody="";else{if(F(t,"Unencoded <"),t.startTagPosition+1<t.position){var i=t.position-t.startTagPosition;r=new Array(i).join(" ")+r}t.textNode+="<"+r,t.state=x.TEXT}continue;case x.SGML_DECL:(t.sgmlDecl+r).toUpperCase()===v?(k(t,"onopencdata"),t.state=x.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+r==="--"?(t.state=x.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+r).toUpperCase()===_?(t.state=x.DOCTYPE,(t.doctype||t.sawRoot)&&F(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===r?(k(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=x.TEXT):O(r)?(t.state=x.SGML_DECL_QUOTED,t.sgmlDecl+=r):t.sgmlDecl+=r;continue;case x.SGML_DECL_QUOTED:r===t.q&&(t.state=x.SGML_DECL,t.q=""),t.sgmlDecl+=r;continue;case x.DOCTYPE:">"===r?(t.state=x.TEXT,k(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=r,"["===r?t.state=x.DOCTYPE_DTD:O(r)&&(t.state=x.DOCTYPE_QUOTED,t.q=r));continue;case x.DOCTYPE_QUOTED:t.doctype+=r,r===t.q&&(t.q="",t.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:t.doctype+=r,"]"===r?t.state=x.DOCTYPE:O(r)&&(t.state=x.DOCTYPE_DTD_QUOTED,t.q=r);continue;case x.DOCTYPE_DTD_QUOTED:t.doctype+=r,r===t.q&&(t.state=x.DOCTYPE_DTD,t.q="");continue;case x.COMMENT:"-"===r?t.state=x.COMMENT_ENDING:t.comment+=r;continue;case x.COMMENT_ENDING:"-"===r?(t.state=x.COMMENT_ENDED,t.comment=G(t.opt,t.comment),t.comment&&k(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+r,t.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==r?(F(t,"Malformed comment"),t.comment+="--"+r,t.state=x.COMMENT):t.state=x.TEXT;continue;case x.CDATA:"]"===r?t.state=x.CDATA_ENDING:t.cdata+=r;continue;case x.CDATA_ENDING:"]"===r?t.state=x.CDATA_ENDING_2:(t.cdata+="]"+r,t.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===r?(t.cdata&&k(t,"oncdata",t.cdata),k(t,"onclosecdata"),t.cdata="",t.state=x.TEXT):"]"===r?t.cdata+="]":(t.cdata+="]]"+r,t.state=x.CDATA);continue;case x.PROC_INST:"?"===r?t.state=x.PROC_INST_ENDING:C(r)?t.state=x.PROC_INST_BODY:t.procInstName+=r;continue;case x.PROC_INST_BODY:if(!t.procInstBody&&C(r))continue;"?"===r?t.state=x.PROC_INST_ENDING:t.procInstBody+=r;continue;case x.PROC_INST_ENDING:">"===r?(k(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=x.TEXT):(t.procInstBody+="?"+r,t.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:D(I,r)?t.tagName+=r:(q(t),">"===r?V(t):"/"===r?t.state=x.OPEN_TAG_SLASH:(C(r)||F(t,"Invalid character in tag name"),t.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===r?(V(t,!0),H(t)):(F(t,"Forward-slash in opening tag not followed by >"),t.state=x.ATTRIB);continue;case x.ATTRIB:if(C(r))continue;">"===r?V(t):"/"===r?t.state=x.OPEN_TAG_SLASH:D(A,r)?(t.attribName=r,t.attribValue="",t.state=x.ATTRIB_NAME):F(t,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===r?t.state=x.ATTRIB_VALUE:">"===r?(F(t,"Attribute without value"),t.attribValue=t.attribName,Z(t),V(t)):C(r)?t.state=x.ATTRIB_NAME_SAW_WHITE:D(I,r)?t.attribName+=r:F(t,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===r)t.state=x.ATTRIB_VALUE;else{if(C(r))continue;F(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",k(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===r?V(t):D(A,r)?(t.attribName=r,t.state=x.ATTRIB_NAME):(F(t,"Invalid attribute name"),t.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(C(r))continue;O(r)?(t.q=r,t.state=x.ATTRIB_VALUE_QUOTED):(F(t,"Unquoted attribute value"),t.state=x.ATTRIB_VALUE_UNQUOTED,t.attribValue=r);continue;case x.ATTRIB_VALUE_QUOTED:if(r!==t.q){"&"===r?t.state=x.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=r;continue}Z(t),t.q="",t.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:C(r)?t.state=x.ATTRIB:">"===r?V(t):"/"===r?t.state=x.OPEN_TAG_SLASH:D(A,r)?(F(t,"No whitespace between attributes"),t.attribName=r,t.attribValue="",t.state=x.ATTRIB_NAME):F(t,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!M(r)){"&"===r?t.state=x.ATTRIB_VALUE_ENTITY_U:t.attribValue+=r;continue}Z(t),">"===r?V(t):t.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(t.tagName)">"===r?H(t):D(I,r)?t.tagName+=r:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=x.SCRIPT):(C(r)||F(t,"Invalid tagname in closing tag"),t.state=x.CLOSE_TAG_SAW_WHITE);else{if(C(r))continue;N(A,r)?t.script?(t.script+="</"+r,t.state=x.SCRIPT):F(t,"Invalid tagname in closing tag."):t.tagName=r}continue;case x.CLOSE_TAG_SAW_WHITE:if(C(r))continue;">"===r?H(t):F(t,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var a,s;switch(t.state){case x.TEXT_ENTITY:a=x.TEXT,s="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:a=x.ATTRIB_VALUE_QUOTED,s="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:a=x.ATTRIB_VALUE_UNQUOTED,s="attribValue";break}";"===r?(t[s]+=z(t),t.entity="",t.state=a):D(t.entity.length?T:w,r)?t.entity+=r:(F(t,"Invalid character in entity name"),t[s]+="&"+t.entity+r,t.entity="",t.state=a);continue;default:throw new Error(t,"Unknown state: "+t.state)}}return t.position>=t.bufferCheckPosition&&c(t),t}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */x=n.STATE,o.default||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,o=16384,i=[],a=-1,s=arguments.length;if(!s)return"";var u="";while(++a<s){var c=Number(arguments[a]);if(!isFinite(c)||c<0||c>1114111||t(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?i.push(c):(c-=65536,n=55296+(c>>10),r=c%1024+56320,i.push(n,r)),(a+1===s||i.length>o)&&(u+=e.apply(null,i),i.length=0)}return u};l.default?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()})("undefined"===typeof n?(void 0).sax={}:n)}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":19,"babel-runtime/core-js/object/create":21,"babel-runtime/core-js/object/define-property":22,"babel-runtime/core-js/object/keys":25,"babel-runtime/core-js/string/from-code-point":28,"babel-runtime/helpers/typeof":34,buffer:40,stream:237,string_decoder:39}],237:[function(e,t,n){t.exports=i;var r=e("events").EventEmitter,o=e("inherits");function i(){r.call(this)}o(i,r),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",o),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},{events:183,inherits:193,"readable-stream/duplex.js":220,"readable-stream/passthrough.js":229,"readable-stream/readable.js":230,"readable-stream/transform.js":231,"readable-stream/writable.js":232}],238:[function(e,n,r){(function(t){var n=e("./lib/request"),o=e("./lib/response"),i=e("xtend"),a=e("builtin-status-codes"),s=e("url"),u=r;u.request=function(e,r){e="string"===typeof e?s.parse(e):i(e);var o=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||o,u=e.hostname||e.host,c=e.port,l=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?a+"//"+u:"")+(c?":"+c:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var p=new n(e);return r&&p.on("response",r),p},u.get=function(e,t){var n=u.request(e,t);return n.end(),n},u.ClientRequest=n,u.IncomingMessage=o.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./lib/request":240,"./lib/response":241,"builtin-status-codes":41,url:245,xtend:293}],239:[function(e,n,r){(function(e){"use strict";r.fetch=s(e.fetch)&&s(e.ReadableStream),r.writableStream=s(e.WritableStream),r.abortController=s(e.AbortController),r.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),r.blobConstructor=!0}catch(u){}var t;function n(){if(void 0!==t)return t;if(e.XMLHttpRequest){t=new e.XMLHttpRequest;try{t.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(u){t=null}}else t=null;return t}function o(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(u){}return!1}var i="undefined"!==typeof e.ArrayBuffer,a=i&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"===typeof e}r.arraybuffer=r.fetch||i&&o("arraybuffer"),r.msstream=!r.fetch&&a&&o("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&i&&o("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!n()&&s(n().overrideMimeType),r.vbArray=s(e.VBArray),t=null}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],240:[function(e,n,r){(function(t,r,o){"use strict";var i=e("babel-runtime/core-js/object/keys"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=e("./capability"),c=e("inherits"),l=e("./response"),p=e("readable-stream"),f=e("to-arraybuffer"),h=l.IncomingMessage,d=l.readyStates;function m(e,t){return u.fetch&&t?"fetch":u.mozchunkedarraybuffer?"moz-chunked-arraybuffer":u.msstream?"ms-stream":u.arraybuffer&&e?"arraybuffer":u.vbArray&&e?"text:vbarray":"text"}var g=n.exports=function(e){var t,n=this;p.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new o(e.auth).toString("base64")),(0,a.default)(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!u.abortController)r=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!u.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}n._mode=m(t,r),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};function y(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}}c(g,p.Writable),g.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===v.indexOf(r)&&(n._headers[r]={name:e,value:t})},g.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},g.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},g.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,i=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=u.arraybuffer?f(o.concat(e._body)):u.blobConstructor?new r.Blob(e._body.map((function(e){return f(e)})),{type:(i["content-type"]||{}).value||""}):o.concat(e._body).toString());var c=[];if((0,a.default)(i).forEach((function(e){var t=i[e].name,n=i[e].value;Array.isArray(n)?n.forEach((function(e){c.push([t,e])})):c.push([t,n])})),"fetch"===e._mode){var l=null;if(u.abortController){var p=new AbortController;l=p.signal,e._fetchAbortController=p,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var h=e._xhr=new r.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(m){return void t.nextTick((function(){e.emit("error",m)}))}"responseType"in h&&(h.responseType=e._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(h.timeout=n.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){h.setRequestHeader(e[0],e[1])})),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case d.LOADING:case d.DONE:e._onXHRProgress();break}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{h.send(s)}catch(m){return void t.nextTick((function(){e.emit("error",m)}))}}}},g.prototype._onXHRProgress=function(){var e=this;y(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},g.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},g.prototype._write=function(e,t,n){var r=this;r._body.push(e),n()},g.prototype.abort=g.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},g.prototype.end=function(e,t,n){var r=this;"function"===typeof e&&(n=e,e=void 0),p.Writable.prototype.end.call(r,e,t,n)},g.prototype.flushHeaders=function(){},g.prototype.setTimeout=function(){},g.prototype.setNoDelay=function(){},g.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,e("_process"),"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},e("buffer").Buffer)},{"./capability":239,"./response":241,_process:215,"babel-runtime/core-js/object/keys":25,buffer:40,inherits:193,"readable-stream":230,"to-arraybuffer":244}],241:[function(e,n,r){(function(t,n,o){"use strict";var i=e("babel-runtime/core-js/promise"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=e("./capability"),c=e("inherits"),l=e("readable-stream"),p=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},f=r.IncomingMessage=function(e,r,i,s){var c=this;if(l.Readable.call(c),c._mode=i,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){t.nextTick((function(){c.emit("close")}))})),"fetch"===i){var p=function e(){h.read().then((function(t){if(!c._destroyed){if(t.done)return n.clearTimeout(s),void c.push(null);c.push(new o(t.value)),e()}})).catch((function(e){n.clearTimeout(s),c._destroyed||c.emit("error",e)}))};if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),u.writableStream){var f=new WritableStream({write:function(e){return new a.default((function(t,n){c._destroyed?n():c.push(new o(e))?t():c._resumeFetch=t}))},close:function(){n.clearTimeout(s),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void r.body.pipeTo(f).catch((function(e){n.clearTimeout(s),c._destroyed||c.emit("error",e)}))}catch(y){}}var h=r.body.getReader();p()}else{c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText;var d=e.getAllResponseHeaders().split(/\r?\n/);if(d.forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(t[2])):void 0!==c.headers[n]?c.headers[n]+=", "+t[2]:c.headers[n]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!u.overrideMimeType){var m=c.rawHeaders["mime-type"];if(m){var g=m.match(/;\s*charset=([^;])(;|$)/);g&&(c._charset=g[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};c(f,l.Readable),f.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},f.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==p.DONE)break;try{r=new n.VBArray(t.responseBody).toArray()}catch(c){}if(null!==r){e.push(new o(r));break}case"text":try{r=t.responseText}catch(c){e._mode="text:vbarray";break}if(r.length>e._pos){var i=r.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new o(i.length),s=0;s<i.length;s++)a[s]=255&i.charCodeAt(s);e.push(a)}else e.push(i,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==p.DONE||!t.response)break;r=t.response,e.push(new o(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==p.LOADING||!r)break;e.push(new o(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==p.LOADING)break;var u=new n.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new o(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(r);break}e._xhr.readyState===p.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,e("_process"),"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},e("buffer").Buffer)},{"./capability":239,_process:215,"babel-runtime/core-js/promise":26,buffer:40,inherits:193,"readable-stream":230}],242:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,o=r.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=i(e);if("string"!==typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=d,this.end=m,t=4;break;case"utf8":this.fillLast=p,t=4;break;case"base64":this.text=g,this.end=y,t=3;break;default:return this.write=v,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function u(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function c(e,t,n){var r=t.length-1;if(r<n)return 0;var o=u(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=u(t[r]),o>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=u(t[r]),o>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0))}function l(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�"}}function p(e){var t=this.lastTotal-this.lastNeed,n=l(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function f(e,t){var n=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function d(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function g(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function _(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=h,s.prototype.text=f,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":235}],243:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,o((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":215,timers:243}],244:[function(e,t,n){var r=e("buffer").Buffer;t.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,o=0;o<n;o++)t[o]=e[o];return t.buffer}throw new Error("Argument must be a Buffer")}},{buffer:40}],245:[function(e,t,n){"use strict";var r=e("punycode"),o=e("./util");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=E,n.resolve=A,n.resolveObject=I,n.format=S,n.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(c),p=["'"].concat(l),f=["%","/","?",";","#"].concat(p),h=["/","?","#"],d=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");function E(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function S(e){return o.isString(e)&&(e=E(e)),e instanceof i?e.format():i.prototype.format.call(e)}function A(e,t){return E(e,!1,!0).resolve(t)}function I(e,t){return e?E(e,!1,!0).resolveObject(t):t}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s),l=/\\/g;c[0]=c[0].replace(l,"/"),e=c.join(s);var E=e;if(E=E.trim(),!n&&1===e.split("#").length){var S=u.exec(E);if(S)return this.path=E,this.href=E,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var A=a.exec(E);if(A){A=A[0];var I=A.toLowerCase();this.protocol=I,E=E.substr(A.length)}if(n||A||E.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===E.substr(0,2);!w||A&&v[A]||(E=E.substr(2),this.slashes=!0)}if(!v[A]&&(w||A&&!_[A])){for(var T,C,O=-1,M=0;M<h.length;M++){var D=E.indexOf(h[M]);-1!==D&&(-1===O||D<O)&&(O=D)}C=-1===O?E.lastIndexOf("@"):E.lastIndexOf("@",O),-1!==C&&(T=E.slice(0,C),E=E.slice(C+1),this.auth=decodeURIComponent(T)),O=-1;for(M=0;M<f.length;M++){D=E.indexOf(f[M]);-1!==D&&(-1===O||D<O)&&(O=D)}-1===O&&(O=E.length),this.host=E.slice(0,O),E=E.slice(O),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var x=this.hostname.split(/\./),L=(M=0,x.length);M<L;M++){var P=x[M];if(P&&!P.match(m)){for(var k="",R=0,G=P.length;R<G;R++)P.charCodeAt(R)>127?k+="x":k+=P[R];if(!k.match(m)){var j=x.slice(0,M),U=x.slice(M+1),F=P.match(g);F&&(j.push(F[1]),U.unshift(F[2])),U.length&&(E="/"+U.join(".")+E),this.hostname=j.join(".");break}}}this.hostname.length>d?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var q=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+q,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==E[0]&&(E="/"+E))}if(!y[I])for(M=0,L=p.length;M<L;M++){var Z=p[M];if(-1!==E.indexOf(Z)){var V=encodeURIComponent(Z);V===Z&&(V=escape(Z)),E=E.split(Z).join(V)}}var H=E.indexOf("#");-1!==H&&(this.hash=E.substr(H),E=E.slice(0,H));var z=E.indexOf("?");if(-1!==z?(this.search=E.substr(z),this.query=E.substr(z+1),t&&(this.query=b.parse(this.query)),E=E.slice(0,z)):t&&(this.search="",this.query={}),E&&(this.pathname=E),_[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var Y=this.search||"";this.path=q+Y}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),s=s.replace("#","%23"),t+i+n+s+r},i.prototype.resolve=function(e){return this.resolveObject(E(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var p=Object.keys(e),f=0;f<p.length;f++){var h=p[f];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{var d=(e.pathname||"").split("/");while(d.length&&!(e.host=d.shift()));e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=b||y||n.host&&e.pathname,S=E,A=n.pathname&&n.pathname.split("/")||[],I=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!_[n.protocol]);if(I&&(n.hostname="",n.port=null,n.host&&(""===A[0]?A[0]=n.host:A.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),E=E&&(""===d[0]||""===A[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,A=d;else if(d.length)A||(A=[]),A.pop(),A=A.concat(d),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(I){n.hostname=n.host=A.shift();var w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");w&&(n.auth=w.shift(),n.host=n.hostname=w.shift())}return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!A.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=A.slice(-1)[0],C=(n.host||e.host||A.length>1)&&("."===T||".."===T)||""===T,O=0,M=A.length;M>=0;M--)T=A[M],"."===T?A.splice(M,1):".."===T?(A.splice(M,1),O++):O&&(A.splice(M,1),O--);if(!E&&!S)for(;O--;O)A.unshift("..");!E||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),C&&"/"!==A.join("/").substr(-1)&&A.push("");var D=""===A[0]||A[0]&&"/"===A[0].charAt(0);if(I){n.hostname=n.host=D?"":A.length?A.shift():"";w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");w&&(n.auth=w.shift(),n.host=n.hostname=w.shift())}return E=E||n.host&&A.length,E&&!D&&A.unshift(""),A.length?n.pathname=A.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":246,punycode:216,querystring:219}],246:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],247:[function(e,n,r){(function(e){function t(e,t){if(r("noDeprecation"))return e;var n=!1;function o(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return o}function r(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}n.exports=t}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],248:[function(e,t,n){"use strict";var r="function"===typeof Object.defineProperty&&"function"===typeof Object.defineProperties&&"function"===typeof Object.getPrototypeOf&&"function"===typeof Object.setPrototypeOf;if(!r)throw new TypeError("util.promisify requires a true ES5 environment");var o=e("object.getownpropertydescriptors");if("function"!==typeof Promise)throw new TypeError("`Promise` must be globally available for util.promisify to work.");var i=Function.call.bind(Array.prototype.slice),a=Function.call.bind(Array.prototype.concat),s=Function.call.bind(Array.prototype.forEach),u="function"===typeof Symbol&&"symbol"===typeof Symbol(""),c=u?Symbol("util.promisify.custom"):null,l=u?Symbol("customPromisifyArgs"):null;t.exports=function(e){if("function"!==typeof e){var t=new TypeError('The "original" argument must be of type function');throw t.name="TypeError [ERR_INVALID_ARG_TYPE]",t.code="ERR_INVALID_ARG_TYPE",t}if(u&&e[c]){var n=e[c];if("function"!==typeof n)throw new TypeError("The [util.promisify.custom] property must be a function");return Object.defineProperty(n,c,{configurable:!0,enumerable:!1,value:n,writable:!1}),n}var r=e[l],p=function(){var t=i(arguments),n=this;return new Promise((function(o,u){e.apply(n,a(t,(function(e){var t=arguments.length>1?i(arguments,1):[];if(e)u(e);else if("undefined"!==typeof r&&t.length>1){var n={};s(r,(function(e,r){n[e]=t[r]})),o(n)}else o(t[0])})))}))};return Object.setPrototypeOf(p,Object.getPrototypeOf(e)),Object.defineProperty(p,c,{configurable:!0,enumerable:!1,value:p,writable:!1}),Object.defineProperties(p,o(e))},t.exports.custom=c,t.exports.customPromisifyArgs=l},{"object.getownpropertydescriptors":209}],249:[function(e,t,n){"use strict";var r=e("define-properties"),o=e("util"),i=e("./implementation"),a=e("./polyfill"),s=a(),u=e("./shim"),c=function(e){return s.apply(o,arguments)};r(c,{custom:s.custom,customPromisifyArgs:s.customPromisifyArgs,getPolyfill:a,implementation:i,shim:u}),t.exports=c},{"./implementation":248,"./polyfill":250,"./shim":251,"define-properties":157,util:253}],250:[function(e,t,n){"use strict";var r=e("util"),o=e("./implementation");t.exports=function(){return"function"===typeof r.promisify?r.promisify:o}},{"./implementation":248,util:253}],251:[function(e,t,n){"use strict";var r=e("util"),o=e("./polyfill");t.exports=function(){var e=o();return e!==r.promisify&&(r.promisify=e,Object.defineProperty(r,"promisify",{value:e})),e}},{"./polyfill":250,util:253}],252:[function(e,t,n){t.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},{}],253:[function(e,n,r){(function(t,n){var o=/%[sdj%]/g;r.format=function(e){if(!S(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<i;u=r[++n])_(u)||!T(u)?a+=" "+u:a+=" "+s(u);return a},r.deprecate=function(e,o){if(I(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var i=!1;function a(){if(!i){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),i=!0}return e.apply(this,arguments)}return a};var i,a={};function s(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(t)?n.showHidden=t:t&&r._extend(n,t),I(n.showHidden)&&(n.showHidden=!1),I(n.depth)&&(n.depth=2),I(n.colors)&&(n.colors=!1),I(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),p(n,e,n.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function p(e,t,n){if(e.customInspect&&t&&M(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return S(o)||(o=p(e,o,n)),o}var i=f(e,t);if(i)return i;var a=Object.keys(t),s=l(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),O(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(t);if(0===a.length){if(M(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(C(t))return e.stylize(Date.prototype.toString.call(t),"date");if(O(t))return h(t)}var c,v="",_=!1,b=["{","}"];if(y(t)&&(_=!0,b=["[","]"]),M(t)){var E=t.name?": "+t.name:"";v=" [Function"+E+"]"}return w(t)&&(v=" "+RegExp.prototype.toString.call(t)),C(t)&&(v=" "+Date.prototype.toUTCString.call(t)),O(t)&&(v=" "+h(t)),0!==a.length||_&&0!=t.length?n<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=_?d(e,t,n,s,a):a.map((function(r){return m(e,t,n,s,r,_)})),e.seen.pop(),g(c,v,b)):b[0]+v+b[1]}function f(e,t){if(I(t))return e.stylize("undefined","undefined");if(S(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return E(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)k(t,String(a))?i.push(m(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(m(e,t,n,r,o,!0))})),i}function m(e,t,n,r,o,i){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=_(n)?p(e,u.value,null):p(e,u.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n"))):s=e.stylize("[Circular]","special")),I(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function g(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function y(e){return Array.isArray(e)}function v(e){return"boolean"===typeof e}function _(e){return null===e}function b(e){return null==e}function E(e){return"number"===typeof e}function S(e){return"string"===typeof e}function A(e){return"symbol"===typeof e}function I(e){return void 0===e}function w(e){return T(e)&&"[object RegExp]"===N(e)}function T(e){return"object"===typeof e&&null!==e}function C(e){return T(e)&&"[object Date]"===N(e)}function O(e){return T(e)&&("[object Error]"===N(e)||e instanceof Error)}function M(e){return"function"===typeof e}function D(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function N(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(I(i)&&(i=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=t.pid;a[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else a[e]=function(){};return a[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=y,r.isBoolean=v,r.isNull=_,r.isNullOrUndefined=b,r.isNumber=E,r.isString=S,r.isSymbol=A,r.isUndefined=I,r.isRegExp=w,r.isObject=T,r.isDate=C,r.isError=O,r.isFunction=M,r.isPrimitive=D,r.isBuffer=e("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",P(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!T(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":252,_process:215,inherits:193}],254:[function(e,t,n){"use strict";(function(){n.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(void 0)},{}],255:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/typeof"),o=s(r),i=e("babel-runtime/core-js/object/keys"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}(function(){var t,r,i,s,u,c={}.hasOwnProperty;t=e("xmlbuilder"),r=e("./defaults").defaults,s=function(e){return"string"===typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},u=function(e){return"<![CDATA["+i(e)+"]]>"},i=function(e){return e.replace("]]>","]]]]><![CDATA[>")},n.Builder=function(){function e(e){var t,n,o;for(t in this.options={},n=r["0.2"],n)c.call(n,t)&&(o=n[t],this.options[t]=o);for(t in e)c.call(e,t)&&(o=e[t],this.options[t]=o)}return e.prototype.buildObject=function(e){var n,i,l,p,f;return n=this.options.attrkey,i=this.options.charkey,1===(0,a.default)(e).length&&this.options.rootName===r["0.2"].rootName?(f=(0,a.default)(e)[0],e=e[f]):f=this.options.rootName,l=function(e){return function(t,r){var a,p,f,h,d,m;if("object"!==("undefined"===typeof r?"undefined":(0,o.default)(r)))e.options.cdata&&s(r)?t.raw(u(r)):t.txt(r);else if(Array.isArray(r)){for(h in r)if(c.call(r,h))for(d in p=r[h],p)f=p[d],t=l(t.ele(d),f).up()}else for(d in r)if(c.call(r,d))if(p=r[d],d===n){if("object"===("undefined"===typeof p?"undefined":(0,o.default)(p)))for(a in p)m=p[a],t=t.att(a,m)}else if(d===i)t=e.options.cdata&&s(p)?t.raw(u(p)):t.txt(p);else if(Array.isArray(p))for(h in p)c.call(p,h)&&(f=p[h],t="string"===typeof f?e.options.cdata&&s(f)?t.ele(d).raw(u(f)).up():t.ele(d,f).up():l(t.ele(d),f).up());else"object"===("undefined"===typeof p?"undefined":(0,o.default)(p))?t=l(t.ele(d),p).up():"string"===typeof p&&e.options.cdata&&s(p)?t=t.ele(d).raw(u(p)).up():(null==p&&(p=""),t=t.ele(d,p.toString()).up());return t}}(this),p=t.create(f,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(p,e).end(this.options.renderOpts)},e}()}).call(void 0)},{"./defaults":256,"babel-runtime/core-js/object/keys":25,"babel-runtime/helpers/typeof":34,xmlbuilder:292}],256:[function(e,t,n){"use strict";(function(){n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(void 0)},{}],257:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/get-own-property-names"),o=c(r),i=e("babel-runtime/core-js/object/keys"),a=c(i),s=e("babel-runtime/helpers/typeof"),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}(function(){var t,r,i,s,c,l,p,f,h,d=function(e,t){return function(){return e.apply(t,arguments)}},m=function(e,t){for(var n in t)g.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},g={}.hasOwnProperty;f=e("sax"),i=e("events"),t=e("./bom"),l=e("./processors"),h=e("timers").setImmediate,r=e("./defaults").defaults,p=e("util.promisify"),s=function(e){return"object"===("undefined"===typeof e?"undefined":(0,u.default)(e))&&null!=e&&0===(0,a.default)(e).length},c=function(e,t,n){var r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r],t=i(t,n);return t},n.Parser=function(e){function i(e){var t,o,i;if(this.parseStringPromise=d(this.parseStringPromise,this),this.parseString=d(this.parseString,this),this.reset=d(this.reset,this),this.assignOrPush=d(this.assignOrPush,this),this.processAsync=d(this.processAsync,this),!(this instanceof n.Parser))return new n.Parser(e);for(t in this.options={},o=r["0.2"],o)g.call(o,t)&&(i=o[t],this.options[t]=i);for(t in e)g.call(e,t)&&(i=e[t],this.options[t]=i);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return m(i,e),i.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),h(this.processAsync))}catch(n){if(t=n,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},i.prototype.assignOrPush=function(e,t,n){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(n)):this.options.explicitArray?e[t]=[n]:e[t]=n},i.prototype.reset=function(){var e,t,n,r;return this.removeAllListeners(),this.saxParser=f.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(e){return function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}}(this),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(n){return function(o){var i,a,s,u,l;if(s={},s[t]="",!n.options.ignoreAttrs)for(i in l=o.attributes,l)g.call(l,i)&&(e in s||n.options.mergeAttrs||(s[e]={}),a=n.options.attrValueProcessors?c(n.options.attrValueProcessors,o.attributes[i],i):o.attributes[i],u=n.options.attrNameProcessors?c(n.options.attrNameProcessors,i):i,n.options.mergeAttrs?n.assignOrPush(s,u,a):s[e][u]=a);return s["#name"]=n.options.tagNameProcessors?c(n.options.tagNameProcessors,o.name):o.name,n.options.xmlns&&(s[n.options.xmlnskey]={uri:o.uri,local:o.local}),r.push(s)}}(this),this.saxParser.onclosetag=function(e){return function(){var n,i,l,p,f,h,d,m,y,v;if(h=r.pop(),f=h["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete h["#name"],!0===h.cdata&&(n=h.cdata,delete h.cdata),y=r[r.length-1],h[t].match(/^\s*$/)&&!n?(i=h[t],delete h[t]):(e.options.trim&&(h[t]=h[t].trim()),e.options.normalize&&(h[t]=h[t].replace(/\s{2,}/g," ").trim()),h[t]=e.options.valueProcessors?c(e.options.valueProcessors,h[t],f):h[t],1===(0,a.default)(h).length&&t in h&&!e.EXPLICIT_CHARKEY&&(h=h[t])),s(h)&&(h=""!==e.options.emptyTag?e.options.emptyTag:i),null!=e.options.validator&&(v="/"+function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)p=r[e],n.push(p["#name"]);return n}().concat(f).join("/"),function(){var t;try{h=e.options.validator(v,y&&y[f],h)}catch(n){return t=n,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"===("undefined"===typeof h?"undefined":(0,u.default)(h)))if(e.options.preserveChildrenOrder){if(y){for(l in y[e.options.childkey]=y[e.options.childkey]||[],d={},h)g.call(h,l)&&(d[l]=h[l]);y[e.options.childkey].push(d),delete h["#name"],1===(0,a.default)(h).length&&t in h&&!e.EXPLICIT_CHARKEY&&(h=h[t])}}else p={},e.options.attrkey in h&&(p[e.options.attrkey]=h[e.options.attrkey],delete h[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in h&&(p[e.options.charkey]=h[e.options.charkey],delete h[e.options.charkey]),(0,o.default)(h).length>0&&(p[e.options.childkey]=h),h=p;return r.length>0?e.assignOrPush(y,f,h):(e.options.explicitRoot&&(m=h,h={},h[f]=m),e.resultObject=h,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),n=function(e){return function(n){var o,i;if(i=r[r.length-1],i)return i[t]+=n,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(i[e.options.childkey]=i[e.options.childkey]||[],o={"#name":"__text__"},o[t]=n,e.options.normalize&&(o[t]=o[t].replace(/\s{2,}/g," ").trim()),i[e.options.childkey].push(o)),i}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(e){return function(e){var t;if(t=n(e),t)return t.cdata=!0}}()},i.prototype.parseString=function(e,n){var r;null!=n&&"function"===typeof n&&(this.on("end",(function(e){return this.reset(),n(null,e)})),this.on("error",(function(e){return this.reset(),n(e)})));try{return e=e.toString(),""===e.trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,h(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(o){if(r=o,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i.prototype.parseStringPromise=function(e){return p(this.parseString)(e)},i}(i),n.parseString=function(e,t,r){var o,i,a;return null!=r?("function"===typeof r&&(o=r),"object"===("undefined"===typeof t?"undefined":(0,u.default)(t))&&(i=t)):("function"===typeof t&&(o=t),i={}),a=new n.Parser(i),a.parseString(e,o)},n.parseStringPromise=function(e,t){var r,o;return"object"===("undefined"===typeof t?"undefined":(0,u.default)(t))&&(r=t),o=new n.Parser(r),o.parseStringPromise(e)}}).call(void 0)},{"./bom":254,"./defaults":256,"./processors":258,"babel-runtime/core-js/object/get-own-property-names":23,"babel-runtime/core-js/object/keys":25,"babel-runtime/helpers/typeof":34,events:183,sax:236,timers:243,"util.promisify":249}],258:[function(e,t,n){"use strict";(function(){var e;e=new RegExp(/(?!xmlns)^.*:/),n.normalize=function(e){return e.toLowerCase()},n.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},n.stripPrefix=function(t){return t.replace(e,"")},n.parseNumbers=function(e){return isNaN(e)||(e=e%1===0?parseInt(e,10):parseFloat(e)),e},n.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(void 0)},{}],259:[function(e,t,n){"use strict";(function(){var t,r,o,i,a=function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("./defaults"),t=e("./builder"),o=e("./parser"),i=e("./processors"),n.defaults=r.defaults,n.processors=i,n.ValidationError=function(e){function t(e){this.message=e}return a(t,e),t}(Error),n.Builder=t.Builder,n.Parser=o.Parser,n.parseString=o.parseString,n.parseStringPromise=o.parseStringPromise}).call(void 0)},{"./builder":255,"./defaults":256,"./parser":257,"./processors":258}],260:[function(e,t,n){"use strict";(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(void 0)},{}],261:[function(e,t,n){"use strict";(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(void 0)},{}],262:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/get-prototype-of"),o=c(r),i=e("babel-runtime/helpers/typeof"),a=c(i),s=e("babel-runtime/core-js/object/assign"),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}(function(){var e,n,r,i,s,c,l,p=[].slice,f={}.hasOwnProperty;e=function(){var e,t,n,r,o,i;if(i=arguments[0],o=2<=arguments.length?p.call(arguments,1):[],s(u.default))u.default.apply(null,arguments);else for(e=0,n=o.length;e<n;e++)if(r=o[e],null!=r)for(t in r)f.call(r,t)&&(i[t]=r[t]);return i},s=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},c=function(e){var t;return!!e&&("function"===(t="undefined"===typeof e?"undefined":(0,a.default)(e))||"object"===t)},r=function(e){return s(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},i=function(e){var t;if(r(e))return!e.length;for(t in e)if(f.call(e,t))return!1;return!0},l=function(e){var t,n;return c(e)&&(n=(0,o.default)(e))&&(t=n.constructor)&&"function"===typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},n=function(e){return s(e.valueOf)?e.valueOf():e},t.exports.assign=e,t.exports.isFunction=s,t.exports.isObject=c,t.exports.isArray=r,t.exports.isEmpty=i,t.exports.isPlainObject=l,t.exports.getValue=n}).call(void 0)},{"babel-runtime/core-js/object/assign":20,"babel-runtime/core-js/object/get-prototype-of":24,"babel-runtime/helpers/typeof":34}],263:[function(e,t,n){"use strict";(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(void 0)},{}],264:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n;n=e("./NodeType"),e("./XMLNode"),t.exports=function(){function e(e,t,r){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==t)throw new Error("Missing attribute name. "+this.debugInfo(t));this.name=this.stringify.name(t),this.value=this.stringify.attValue(r),this.type=n.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return(0,o.default)(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return e=e||this.name,null==e?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&(e.prefix===this.prefix&&(e.localName===this.localName&&e.value===this.value))},e}()}).call(void 0)},{"./NodeType":261,"./XMLNode":283,"babel-runtime/core-js/object/create":21}],265:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=n.CData,this.value=this.stringify.cdata(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLCharacterData":266,"babel-runtime/core-js/object/create":21}],266:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i={}.hasOwnProperty;n=e("./XMLNode"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return r(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(n)}).call(void 0)},{"./XMLNode":283,"babel-runtime/core-js/object/create":21}],267:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=n.Comment,this.value=this.stringify.comment(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLCharacterData":266,"babel-runtime/core-js/object/create":21}],268:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/keys"),o=s(r),i=e("babel-runtime/core-js/object/create"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r;n=e("./XMLDOMErrorHandler"),r=e("./XMLDOMStringList"),t.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new n,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=(0,a.default)(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new r((0,o.default)(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(void 0)},{"./XMLDOMErrorHandler":269,"./XMLDOMStringList":271,"babel-runtime/core-js/object/create":21,"babel-runtime/core-js/object/keys":25}],269:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}).call(void 0)},{}],270:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(void 0)},{}],271:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}).call(void 0)},{}],272:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o,i,a,s){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!a)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==a.indexOf("#")&&(a="#"+a),!a.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(s&&!a.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=n.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(i),s&&(this.defaultValue=this.stringify.dtdAttDefault(s)),this.defaultValueType=a}return o(t,e),t.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLNode":283}],273:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(r),this.type=n.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}return o(t,e),t.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLNode":283}],274:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;o=e("./Utility").isObject,r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,i,a){if(t.__super__.constructor.call(this,e),null==i)throw new Error("Missing DTD entity name. "+this.debugInfo(i));if(null==a)throw new Error("Missing DTD entity value. "+this.debugInfo(i));if(this.pe=!!r,this.name=this.stringify.name(i),this.type=n.EntityDeclaration,o(a)){if(!a.pubID&&!a.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(i));if(a.pubID&&!a.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(i));if(this.internal=!1,null!=a.pubID&&(this.pubID=this.stringify.dtdPubID(a.pubID)),null!=a.sysID&&(this.sysID=this.stringify.dtdSysID(a.sysID)),null!=a.nData&&(this.nData=this.stringify.dtdNData(a.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(i))}else this.value=this.stringify.dtdEntityValue(a),this.internal=!0}return i(t,e),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(t.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"xmlVersion",{get:function(){return null}}),t.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":261,"./Utility":262,"./XMLNode":283}],275:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=n.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return o(t,e),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),t.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLNode":283}],276:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;o=e("./Utility").isObject,r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,i,a){var s;t.__super__.constructor.call(this,e),o(r)&&(s=r,r=s.version,i=s.encoding,a=s.standalone),r||(r="1.0"),this.type=n.Declaration,this.version=this.stringify.xmlVersion(r),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=a&&(this.standalone=this.stringify.xmlStandalone(a))}return i(t,e),t.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":261,"./Utility":262,"./XMLNode":283}],277:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,s,u,c,l=function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=e("./Utility").isObject,u=e("./XMLNode"),n=e("./NodeType"),r=e("./XMLDTDAttList"),i=e("./XMLDTDEntity"),o=e("./XMLDTDElement"),a=e("./XMLDTDNotation"),s=e("./XMLNamedNodeMap"),t.exports=function(e){function t(e,r,o){var i,a,s,u,l,p;if(t.__super__.constructor.call(this,e),this.type=n.DocType,e.children)for(u=e.children,a=0,s=u.length;a<s;a++)if(i=u[a],i.type===n.Element){this.name=i.name;break}this.documentObject=e,c(r)&&(l=r,r=l.pubID,o=l.sysID),null==o&&(p=[r,o],o=p[0],r=p[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=o&&(this.sysID=this.stringify.dtdSysID(o))}return l(t,e),Object.defineProperty(t.prototype,"entities",{get:function(){var e,t,r,o,i;for(o={},i=this.children,t=0,r=i.length;t<r;t++)e=i[t],e.type!==n.EntityDeclaration||e.pe||(o[e.name]=e);return new s(o)}}),Object.defineProperty(t.prototype,"notations",{get:function(){var e,t,r,o,i;for(o={},i=this.children,t=0,r=i.length;t<r;t++)e=i[t],e.type===n.NotationDeclaration&&(o[e.name]=e);return new s(o)}}),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(t.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.element=function(e,t){var n;return n=new o(this,e,t),this.children.push(n),this},t.prototype.attList=function(e,t,n,o,i){var a;return a=new r(this,e,t,n,o,i),this.children.push(a),this},t.prototype.entity=function(e,t){var n;return n=new i(this,!1,e,t),this.children.push(n),this},t.prototype.pEntity=function(e,t){var n;return n=new i(this,!0,e,t),this.children.push(n),this},t.prototype.notation=function(e,t){var n;return n=new a(this,e,t),this.children.push(n),this},t.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},t.prototype.ele=function(e,t){return this.element(e,t)},t.prototype.att=function(e,t,n,r,o){return this.attList(e,t,n,r,o)},t.prototype.ent=function(e,t){return this.entity(e,t)},t.prototype.pent=function(e,t){return this.pEntity(e,t)},t.prototype.not=function(e,t){return this.notation(e,t)},t.prototype.up=function(){return this.root()||this.documentObject},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&(e.name===this.name&&(e.publicId===this.publicId&&e.systemId===this.systemId))},t}(u)}).call(void 0)},{"./NodeType":261,"./Utility":262,"./XMLDTDAttList":272,"./XMLDTDElement":273,"./XMLDTDEntity":274,"./XMLDTDNotation":275,"./XMLNamedNodeMap":282,"./XMLNode":283}],278:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,s,u,c=function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty;u=e("./Utility").isPlainObject,o=e("./XMLDOMImplementation"),r=e("./XMLDOMConfiguration"),i=e("./XMLNode"),n=e("./NodeType"),s=e("./XMLStringifier"),a=e("./XMLStringWriter"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,null),this.name="#document",this.type=n.Document,this.documentURI=null,this.domConfig=new r,e||(e={}),e.writer||(e.writer=new a),this.options=e,this.stringify=new s(e)}return c(t,e),Object.defineProperty(t.prototype,"implementation",{value:new o}),Object.defineProperty(t.prototype,"doctype",{get:function(){var e,t,r,o;for(o=this.children,t=0,r=o.length;t<r;t++)if(e=o[t],e.type===n.DocType)return e;return null}}),Object.defineProperty(t.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration?this.children[0].encoding:null}}),Object.defineProperty(t.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(t.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(t.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(t.prototype,"origin",{get:function(){return null}}),Object.defineProperty(t.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(t.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(t.prototype,"contentType",{get:function(){return null}}),t.prototype.end=function(e){var t;return t={},e?u(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},t.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},t.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.renameNode=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createNodeIterator=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createTreeWalker=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t}(i)}).call(void 0)},{"./NodeType":261,"./Utility":262,"./XMLDOMConfiguration":268,"./XMLDOMImplementation":270,"./XMLNode":283,"./XMLStringWriter":288,"./XMLStringifier":289}],279:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,s,u,c,l,p,f,h,d,m,g,y,v,_,b,E,S,A,I,w={}.hasOwnProperty;I=e("./Utility"),S=I.isObject,E=I.isFunction,A=I.isPlainObject,b=I.getValue,n=e("./NodeType"),h=e("./XMLDocument"),d=e("./XMLElement"),i=e("./XMLCData"),a=e("./XMLComment"),g=e("./XMLRaw"),_=e("./XMLText"),m=e("./XMLProcessingInstruction"),p=e("./XMLDeclaration"),f=e("./XMLDocType"),s=e("./XMLDTDAttList"),c=e("./XMLDTDEntity"),u=e("./XMLDTDElement"),l=e("./XMLDTDNotation"),o=e("./XMLAttribute"),v=e("./XMLStringifier"),y=e("./XMLStringWriter"),r=e("./WriterState"),t.exports=function(){function e(e,t,r){var o;this.name="?xml",this.type=n.Document,e||(e={}),o={},e.writer?A(e.writer)&&(o=e.writer,e.writer=new y):e.writer=new y,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new v(e),this.onDataCallback=t||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var t,r,o,i,a,s,u,c;switch(e.type){case n.CData:this.cdata(e.value);break;case n.Comment:this.comment(e.value);break;case n.Element:for(r in o={},u=e.attribs,u)w.call(u,r)&&(t=u[r],o[r]=t.value);this.node(e.name,o);break;case n.Dummy:this.dummy();break;case n.Raw:this.raw(e.value);break;case n.Text:this.text(e.value);break;case n.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(c=e.children,a=0,s=c.length;a<s;a++)i=c[a],this.createChildNode(i),i.type===n.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=b(e),null==t&&(t={}),t=b(t),S(t)||(r=[t,n],n=r[0],t=r[1]),this.currentNode=new d(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,t,r){var o,i,a,s,u,c;if(this.currentNode&&this.currentNode.type===n.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||S(e)||E(e))for(s=this.options.noValidation,this.options.noValidation=!0,c=new h(this.options).element("TEMP_ROOT"),c.element(e),this.options.noValidation=s,u=c.children,i=0,a=u.length;i<a;i++)o=u[i],this.createChildNode(o),o.type===n.Element&&this.up();else this.node(e,t,r);return this},e.prototype.attribute=function(e,t){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=b(e)),S(e))for(n in e)w.call(e,n)&&(r=e[n],this.attribute(n,r));else E(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new o(this,e,""):null!=t&&(this.currentNode.attribs[e]=new o(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new _(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new a(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new g(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var n,r,o,i,a;if(this.openCurrent(),null!=e&&(e=b(e)),null!=t&&(t=b(t)),Array.isArray(e))for(n=0,i=e.length;n<i;n++)r=e[n],this.instruction(r);else if(S(e))for(r in e)w.call(e,r)&&(o=e[r],this.instruction(r,o));else E(t)&&(t=t.apply()),a=new m(this,e,t),this.onData(this.writer.processingInstruction(a,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new p(this,e,t,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new f(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new u(this,e,t),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,n,r,o){var i;return this.openCurrent(),i=new s(this,e,t,n,r,o),this.onData(this.writer.dtdAttList(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new c(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new c(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new l(this,e,t),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){while(this.currentLevel>=0)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var t,o,i,a;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==n.Element||(this.root=e),o="",e.type===n.Element){for(i in this.writerOptions.state=r.OpenTag,o=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,a=e.attribs,a)w.call(a,i)&&(t=a[i],o+=this.writer.attribute(t,this.writerOptions,this.currentLevel));o+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,o=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.children?(o+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,o+=">"),o+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var t;if(!e.isClosed)return t="",this.writerOptions.state=r.CloseTag,t=e.type===n.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(t,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===n.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===n.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(void 0)},{"./NodeType":261,"./Utility":262,"./WriterState":263,"./XMLAttribute":264,"./XMLCData":265,"./XMLComment":267,"./XMLDTDAttList":272,"./XMLDTDElement":273,"./XMLDTDEntity":274,"./XMLDTDNotation":275,"./XMLDeclaration":276,"./XMLDocType":277,"./XMLDocument":278,"./XMLElement":281,"./XMLProcessingInstruction":285,"./XMLRaw":286,"./XMLStringWriter":288,"./XMLStringifier":289,"./XMLText":290}],280:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.type=n.Dummy}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return""},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLNode":283,"babel-runtime/core-js/object/create":21}],281:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r,i,a,s,u,c,l,p=function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},f={}.hasOwnProperty;l=e("./Utility"),c=l.isObject,u=l.isFunction,s=l.getValue,a=e("./XMLNode"),n=e("./NodeType"),r=e("./XMLAttribute"),i=e("./XMLNamedNodeMap"),t.exports=function(e){function t(e,r,o){var i,a,s,u;if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=n.Element,this.attribs={},this.schemaTypeInfo=null,null!=o&&this.attribute(o),e.type===n.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(u=e.children,a=0,s=u.length;a<s;a++)if(i=u[a],i.type===n.DocType){i.name=this.name;break}}return p(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),t.prototype.clone=function(){var e,t,n,r;for(t in n=(0,o.default)(this),n.isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs,r)f.call(r,t)&&(e=r[t],n.attribs[t]=e.clone());return n.children=[],this.children.forEach((function(e){var t;return t=e.clone(),t.parent=n,n.children.push(t)})),n},t.prototype.attribute=function(e,t){var n,o;if(null!=e&&(e=s(e)),c(e))for(n in e)f.call(e,n)&&(o=e[n],this.attribute(n,o));else u(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new r(this,e,""):null!=t&&(this.attribs[e]=new r(this,e,t));return this},t.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=s(e),Array.isArray(e))for(n=0,r=e.length;n<r;n++)t=e[n],delete this.attribs[t];else delete this.attribs[e];return this},t.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},t.prototype.att=function(e,t){return this.attribute(e,t)},t.prototype.a=function(e,t){return this.attribute(e,t)},t.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},t.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},t.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},t.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},t.prototype.setIdAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){var n,r,o;if(!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(n=r=0,o=this.attribs.length-1;0<=o?r<=o:r>=o;n=0<=o?++r:--r)if(!this.attribs[n].isEqualNode(e.attribs[n]))return!1;return!0},t}(a)}).call(void 0)},{"./NodeType":261,"./Utility":262,"./XMLAttribute":264,"./XMLNamedNodeMap":282,"./XMLNode":283,"babel-runtime/core-js/object/create":21}],282:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/keys"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){t.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return(0,o.default)(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[(0,o.default)(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(void 0)},{"babel-runtime/core-js/object/keys":25}],283:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,s,u,c,l,p,f,h,d,m,g,y,v,_={}.hasOwnProperty;v=e("./Utility"),y=v.isObject,g=v.isFunction,m=v.isEmpty,d=v.getValue,c=null,o=null,i=null,a=null,s=null,f=null,h=null,p=null,u=null,r=null,l=null,n=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=e("./XMLElement"),o=e("./XMLCData"),i=e("./XMLComment"),a=e("./XMLDeclaration"),s=e("./XMLDocType"),f=e("./XMLRaw"),h=e("./XMLText"),p=e("./XMLProcessingInstruction"),u=e("./XMLDummy"),r=e("./NodeType"),l=e("./XMLNodeList"),e("./XMLNamedNodeMap"),n=e("./DocumentPosition"))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var e,t,n,o,i;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(i="",o=this.children,t=0,n=o.length;t<n;t++)e=o[t],e.textContent&&(i+=e.textContent);return i}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(e){var t,n,r,o,i;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),o=this.children,i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(t.setParent(this));return i},t.prototype.element=function(e,t,n){var r,o,i,a,s,u,c,l,p,f,h;if(u=null,null===t&&null==n&&(p=[{},null],t=p[0],n=p[1]),null==t&&(t={}),t=d(t),y(t)||(f=[t,n],n=f[0],t=f[1]),null!=e&&(e=d(e)),Array.isArray(e))for(i=0,c=e.length;i<c;i++)o=e[i],u=this.element(o);else if(g(e))u=this.element(e.apply());else if(y(e)){for(s in e)if(_.call(e,s))if(h=e[s],g(h)&&(h=h.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))u=this.attribute(s.substr(this.stringify.convertAttKey.length),h);else if(!this.options.separateArrayItems&&Array.isArray(h)&&m(h))u=this.dummy();else if(y(h)&&m(h))u=this.element(s);else if(this.options.keepNullNodes||null!=h)if(!this.options.separateArrayItems&&Array.isArray(h))for(a=0,l=h.length;a<l;a++)o=h[a],r={},r[s]=o,u=this.element(r);else y(h)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===s.indexOf(this.stringify.convertTextKey)?u=this.element(h):(u=this.element(s),u.element(h)):u=this.element(s,h);else u=this.dummy()}else u=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n):this.dummy();if(null==u)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return u},t.prototype.insertBefore=function(e,t,n){var r,o,i,a,s;if(null!=e?e.type:void 0)return i=e,a=t,i.setParent(this),a?(o=children.indexOf(a),s=children.splice(o),children.push(i),Array.prototype.push.apply(children,s)):children.push(i),i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),s=this.parent.children.splice(o),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,s),r},t.prototype.insertAfter=function(e,t,n){var r,o,i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),i=this.parent.children.splice(o+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,i),r},t.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},t.prototype.node=function(e,t,n){var r,o;return null!=e&&(e=d(e)),t||(t={}),t=d(t),y(t)||(o=[t,n],n=o[0],t=o[1]),r=new c(this,e,t),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(e){var t;return y(e)&&this.element(e),t=new h(this,e),this.children.push(t),this},t.prototype.cdata=function(e){var t;return t=new o(this,e),this.children.push(t),this},t.prototype.comment=function(e){var t;return t=new i(this,e),this.children.push(t),this},t.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.raw=function(e){var t;return t=new f(this,e),this.children.push(t),this},t.prototype.dummy=function(){var e;return e=new u(this),e},t.prototype.instruction=function(e,t){var n,r,o,i,a;if(null!=e&&(e=d(e)),null!=t&&(t=d(t)),Array.isArray(e))for(i=0,a=e.length;i<a;i++)n=e[i],this.instruction(n);else if(y(e))for(n in e)_.call(e,n)&&(r=e[n],this.instruction(n,r));else g(t)&&(t=t.apply()),o=new p(this,e,t),this.children.push(o);return this},t.prototype.instructionBefore=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.instructionAfter=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.declaration=function(e,t,n){var o,i;return o=this.document(),i=new a(o,e,t,n),0===o.children.length?o.children.unshift(i):o.children[0].type===r.Declaration?o.children[0]=i:o.children.unshift(i),o.root()||o},t.prototype.dtd=function(e,t){var n,o,i,a,u,c,l,p,f,h;for(o=this.document(),i=new s(o,e,t),f=o.children,a=u=0,l=f.length;u<l;a=++u)if(n=f[a],n.type===r.DocType)return o.children[a]=i,i;for(h=o.children,a=c=0,p=h.length;c<p;a=++c)if(n=h[a],n.isRoot)return o.children.splice(a,0,i),i;return o.children.push(i),i},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var e;e=this;while(e){if(e.type===r.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},t.prototype.document=function(){var e;e=this;while(e){if(e.type===r.Document)return e;e=e.parent}},t.prototype.end=function(e){return this.document().end(e)},t.prototype.prev=function(){var e;if(e=this.parent.children.indexOf(this),e<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},t.prototype.next=function(){var e;if(e=this.parent.children.indexOf(this),-1===e||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},t.prototype.importDocument=function(e){var t;return t=e.root().clone(),t.parent=this,t.isRoot=!1,this.children.push(t),this},t.prototype.debugInfo=function(e){var t,n;return e=e||this.name,null!=e||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},t.prototype.ele=function(e,t,n){return this.element(e,t,n)},t.prototype.nod=function(e,t,n){return this.node(e,t,n)},t.prototype.txt=function(e){return this.text(e)},t.prototype.dat=function(e){return this.cdata(e)},t.prototype.com=function(e){return this.comment(e)},t.prototype.ins=function(e,t){return this.instruction(e,t)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},t.prototype.e=function(e,t,n){return this.element(e,t,n)},t.prototype.n=function(e,t,n){return this.node(e,t,n)},t.prototype.t=function(e){return this.text(e)},t.prototype.d=function(e){return this.cdata(e)},t.prototype.c=function(e){return this.comment(e)},t.prototype.r=function(e){return this.raw(e)},t.prototype.i=function(e,t){return this.instruction(e,t)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(e){return this.importDocument(e)},t.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(e,t){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(e){var t,r;return t=this,t===e?0:this.document()!==e.document()?(r=n.Disconnected|n.ImplementationSpecific,Math.random()<.5?r|=n.Preceding:r|=n.Following,r):t.isAncestor(e)?n.Contains|n.Preceding:t.isDescendant(e)?n.Contains|n.Following:t.isPreceding(e)?n.Preceding:n.Following},t.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){var t,n,r;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},t.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},t.prototype.isDescendant=function(e){var t,n,r,o,i;for(i=this.children,r=0,o=i.length;r<o;r++){if(t=i[r],e===t)return!0;if(n=t.isDescendant(e),n)return!0}return!1},t.prototype.isAncestor=function(e){return e.isDescendant(this)},t.prototype.isPreceding=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t<n},t.prototype.isFollowing=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t>n},t.prototype.treePosition=function(e){var t,n;return n=0,t=!1,this.foreachTreeNode(this.document(),(function(r){if(n++,!t&&r===e)return t=!0})),t?n:-1},t.prototype.foreachTreeNode=function(e,t){var n,r,o,i,a;for(e||(e=this.document()),i=e.children,r=0,o=i.length;r<o;r++){if(n=i[r],a=t(n))return a;if(a=this.foreachTreeNode(n,t),a)return a}},t}()}).call(void 0)},{"./DocumentPosition":260,"./NodeType":261,"./Utility":262,"./XMLCData":265,"./XMLComment":267,"./XMLDeclaration":276,"./XMLDocType":277,"./XMLDummy":280,"./XMLElement":281,"./XMLNamedNodeMap":282,"./XMLNodeList":284,"./XMLProcessingInstruction":285,"./XMLRaw":286,"./XMLText":290}],284:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(void 0)},{}],285:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=n.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLCharacterData":266,"babel-runtime/core-js/object/create":21}],286:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLNode"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=n.Raw,this.value=this.stringify.raw(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLNode":283,"babel-runtime/core-js/object/create":21}],287:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),o=e("./XMLWriterBase"),r=e("./WriterState"),t.exports=function(e){function t(e,n){this.stream=e,t.__super__.constructor.call(this,n)}return i(t,e),t.prototype.endline=function(e,n,o){return e.isLastRootNode&&n.state===r.CloseTag?"":t.__super__.endline.call(this,e,n,o)},t.prototype.document=function(e,t){var n,r,o,i,a,s,u,c,l;for(u=e.children,r=o=0,a=u.length;o<a;r=++o)n=u[r],n.isLastRootNode=r===e.children.length-1;for(t=this.filterOptions(t),c=e.children,l=[],i=0,s=c.length;i<s;i++)n=c[i],l.push(this.writeChildNode(n,t,0));return l},t.prototype.attribute=function(e,n,r){return this.stream.write(t.__super__.attribute.call(this,e,n,r))},t.prototype.cdata=function(e,n,r){return this.stream.write(t.__super__.cdata.call(this,e,n,r))},t.prototype.comment=function(e,n,r){return this.stream.write(t.__super__.comment.call(this,e,n,r))},t.prototype.declaration=function(e,n,r){return this.stream.write(t.__super__.declaration.call(this,e,n,r))},t.prototype.docType=function(e,t,n){var o,i,a,s;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,this.stream.write(this.indent(e,t,n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,n)),t.state=r.InsideTag,s=e.children,i=0,a=s.length;i<a;i++)o=s[i],this.writeChildNode(o,t,n+1);t.state=r.CloseTag,this.stream.write("]")}return t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,n)),t.state=r.None,this.closeNode(e,t,n)},t.prototype.element=function(e,t,o){var i,s,u,c,l,p,f,h,d;for(f in o||(o=0),this.openNode(e,t,o),t.state=r.OpenTag,this.stream.write(this.indent(e,t,o)+"<"+e.name),h=e.attribs,h)a.call(h,f)&&(i=h[f],this.attribute(i,t,o));if(u=e.children.length,c=0===u?null:e.children[0],0===u||e.children.every((function(e){return(e.type===n.Text||e.type===n.Raw)&&""===e.value})))t.allowEmpty?(this.stream.write(">"),t.state=r.CloseTag,this.stream.write("</"+e.name+">")):(t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+"/>"));else if(!t.pretty||1!==u||c.type!==n.Text&&c.type!==n.Raw||null==c.value){for(this.stream.write(">"+this.endline(e,t,o)),t.state=r.InsideTag,d=e.children,l=0,p=d.length;l<p;l++)s=d[l],this.writeChildNode(s,t,o+1);t.state=r.CloseTag,this.stream.write(this.indent(e,t,o)+"</"+e.name+">")}else this.stream.write(">"),t.state=r.InsideTag,t.suppressPrettyCount++,!0,this.writeChildNode(c,t,o+1),t.suppressPrettyCount--,!1,t.state=r.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,t,o)),t.state=r.None,this.closeNode(e,t,o)},t.prototype.processingInstruction=function(e,n,r){return this.stream.write(t.__super__.processingInstruction.call(this,e,n,r))},t.prototype.raw=function(e,n,r){return this.stream.write(t.__super__.raw.call(this,e,n,r))},t.prototype.text=function(e,n,r){return this.stream.write(t.__super__.text.call(this,e,n,r))},t.prototype.dtdAttList=function(e,n,r){return this.stream.write(t.__super__.dtdAttList.call(this,e,n,r))},t.prototype.dtdElement=function(e,n,r){return this.stream.write(t.__super__.dtdElement.call(this,e,n,r))},t.prototype.dtdEntity=function(e,n,r){return this.stream.write(t.__super__.dtdEntity.call(this,e,n,r))},t.prototype.dtdNotation=function(e,n,r){return this.stream.write(t.__super__.dtdNotation.call(this,e,n,r))},t}(o)}).call(void 0)},{"./NodeType":261,"./WriterState":263,"./XMLWriterBase":291}],288:[function(e,t,n){"use strict";(function(){var n,r=function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=e("./XMLWriterBase"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return r(t,e),t.prototype.document=function(e,t){var n,r,o,i,a;for(t=this.filterOptions(t),i="",a=e.children,r=0,o=a.length;r<o;r++)n=a[r],i+=this.writeChildNode(n,t,0);return t.pretty&&i.slice(-t.newline.length)===t.newline&&(i=i.slice(0,-t.newline.length)),i},t}(n)}).call(void 0)},{"./XMLWriterBase":291}],289:[function(e,t,n){"use strict";(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;t.exports=function(){function t(t){var r,o,i;for(r in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),o=t.stringify||{},o)n.call(o,r)&&(i=o[r],this[r]=i)}return t.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},t.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},t.prototype.cdata=function(e){return this.options.noValidation?e:(e=""+e||"",e=e.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},t.prototype.comment=function(e){if(this.options.noValidation)return e;if(e=""+e||"",e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},t.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},t.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},t.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.insValue=function(e){if(this.options.noValidation)return e;if(e=""+e||"",e.match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},t.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(e=""+e||"",!e.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},t.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(e=""+e||"",!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},t.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},t.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(e){var t,n;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+n.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+n.index);return e},t.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},t.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(void 0)},{}],290:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){var n,r,i=function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=n.Text,this.value=this.stringify.text(r)}return i(t,e),Object.defineProperty(t.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"wholeText",{get:function(){var e,t,n;n="",t=this.previousSibling;while(t)n=t.data+n,t=t.previousSibling;n+=this.data,e=this.nextSibling;while(e)n+=e.data,e=e.nextSibling;return n}}),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},t.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t}(r)}).call(void 0)},{"./NodeType":261,"./XMLCharacterData":266,"babel-runtime/core-js/object/create":21}],291:[function(e,t,n){"use strict";(function(){var n,r,o,i={}.hasOwnProperty;o=e("./Utility").assign,n=e("./NodeType"),e("./XMLDeclaration"),e("./XMLDocType"),e("./XMLCData"),e("./XMLComment"),e("./XMLElement"),e("./XMLRaw"),e("./XMLText"),e("./XMLProcessingInstruction"),e("./XMLDummy"),e("./XMLDTDAttList"),e("./XMLDTDElement"),e("./XMLDTDEntity"),e("./XMLDTDNotation"),r=e("./WriterState"),t.exports=function(){function e(e){var t,n,r;for(t in e||(e={}),this.options=e,n=e.writer||{},n)i.call(n,t)&&(r=n[t],this["_"+t]=this[t],this[t]=r)}return e.prototype.filterOptions=function(e){var t,n,i,a,s,u,c,l;return e||(e={}),e=o({},this.options,e),t={writer:this},t.pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(n=e.indent)?n:"  ",t.newline=null!=(i=e.newline)?i:"\n",t.offset=null!=(a=e.offset)?a:0,t.dontPrettyTextNodes=null!=(s=null!=(u=e.dontPrettyTextNodes)?u:e.dontprettytextnodes)?s:0,t.spaceBeforeSlash=null!=(c=null!=(l=e.spaceBeforeSlash)?l:e.spacebeforeslash)?c:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=r.None,t},e.prototype.indent=function(e,t,n){var r;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(r=(n||0)+t.offset+1,r>0)?new Array(r).join(t.indent):""},e.prototype.endline=function(e,t,n){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,n){var r;return this.openAttribute(e,t,n),r=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,n),r},e.prototype.cdata=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<![CDATA[",t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+="]]>"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.comment=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"\x3c!-- ",t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=" --\x3e"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.declaration=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<?xml",t.state=r.InsideTag,o+=' version="'+e.version+'"',null!=e.encoding&&(o+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(o+=' standalone="'+e.standalone+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+"?>",o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.docType=function(e,t,n){var o,i,a,s,u;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,s=this.indent(e,t,n),s+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?s+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(s+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(s+=" [",s+=this.endline(e,t,n),t.state=r.InsideTag,u=e.children,i=0,a=u.length;i<a;i++)o=u[i],s+=this.writeChildNode(o,t,n+1);t.state=r.CloseTag,s+="]"}return t.state=r.CloseTag,s+=t.spaceBeforeSlash+">",s+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),s},e.prototype.element=function(e,t,o){var a,s,u,c,l,p,f,h,d,m,g,y,v,_;for(d in o||(o=0),m=!1,g="",this.openNode(e,t,o),t.state=r.OpenTag,g+=this.indent(e,t,o)+"<"+e.name,y=e.attribs,y)i.call(y,d)&&(a=y[d],g+=this.attribute(a,t,o));if(u=e.children.length,c=0===u?null:e.children[0],0===u||e.children.every((function(e){return(e.type===n.Text||e.type===n.Raw)&&""===e.value})))t.allowEmpty?(g+=">",t.state=r.CloseTag,g+="</"+e.name+">"+this.endline(e,t,o)):(t.state=r.CloseTag,g+=t.spaceBeforeSlash+"/>"+this.endline(e,t,o));else if(!t.pretty||1!==u||c.type!==n.Text&&c.type!==n.Raw||null==c.value){if(t.dontPrettyTextNodes)for(v=e.children,l=0,f=v.length;l<f;l++)if(s=v[l],(s.type===n.Text||s.type===n.Raw)&&null!=s.value){t.suppressPrettyCount++,m=!0;break}for(g+=">"+this.endline(e,t,o),t.state=r.InsideTag,_=e.children,p=0,h=_.length;p<h;p++)s=_[p],g+=this.writeChildNode(s,t,o+1);t.state=r.CloseTag,g+=this.indent(e,t,o)+"</"+e.name+">",m&&t.suppressPrettyCount--,g+=this.endline(e,t,o),t.state=r.None}else g+=">",t.state=r.InsideTag,t.suppressPrettyCount++,m=!0,g+=this.writeChildNode(c,t,o+1),t.suppressPrettyCount--,m=!1,t.state=r.CloseTag,g+="</"+e.name+">"+this.endline(e,t,o);return this.closeNode(e,t,o),g},e.prototype.writeChildNode=function(e,t,r){switch(e.type){case n.CData:return this.cdata(e,t,r);case n.Comment:return this.comment(e,t,r);case n.Element:return this.element(e,t,r);case n.Raw:return this.raw(e,t,r);case n.Text:return this.text(e,t,r);case n.ProcessingInstruction:return this.processingInstruction(e,t,r);case n.Dummy:return"";case n.Declaration:return this.declaration(e,t,r);case n.DocType:return this.docType(e,t,r);case n.AttributeDeclaration:return this.dtdAttList(e,t,r);case n.ElementDeclaration:return this.dtdElement(e,t,r);case n.EntityDeclaration:return this.dtdEntity(e,t,r);case n.NotationDeclaration:return this.dtdNotation(e,t,r);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<?",t.state=r.InsideTag,o+=e.target,e.value&&(o+=" "+e.value),t.state=r.CloseTag,o+=t.spaceBeforeSlash+"?>",o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.raw=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n),t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.text=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n),t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdAttList=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ATTLIST",t.state=r.InsideTag,o+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(o+=" "+e.defaultValueType),e.defaultValue&&(o+=' "'+e.defaultValue+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdElement=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ELEMENT",t.state=r.InsideTag,o+=" "+e.name+" "+e.value,t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdEntity=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ENTITY",t.state=r.InsideTag,e.pe&&(o+=" %"),o+=" "+e.name,e.value?o+=' "'+e.value+'"':(e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.nData&&(o+=" NDATA "+e.nData)),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdNotation=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!NOTATION",t.state=r.InsideTag,o+=" "+e.name,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?o+=' PUBLIC "'+e.pubID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.openNode=function(e,t,n){},e.prototype.closeNode=function(e,t,n){},e.prototype.openAttribute=function(e,t,n){},e.prototype.closeAttribute=function(e,t,n){},e}()}).call(void 0)},{"./NodeType":261,"./Utility":262,"./WriterState":263,"./XMLCData":265,"./XMLComment":267,"./XMLDTDAttList":272,"./XMLDTDElement":273,"./XMLDTDEntity":274,"./XMLDTDNotation":275,"./XMLDeclaration":276,"./XMLDocType":277,"./XMLDummy":280,"./XMLElement":281,"./XMLProcessingInstruction":285,"./XMLRaw":286,"./XMLText":290}],292:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,s,u,c,l,p;p=e("./Utility"),c=p.assign,l=p.isFunction,o=e("./XMLDOMImplementation"),i=e("./XMLDocument"),a=e("./XMLDocumentCB"),u=e("./XMLStringWriter"),s=e("./XMLStreamWriter"),n=e("./NodeType"),r=e("./WriterState"),t.exports.create=function(e,t,n,r){var o,a;if(null==e)throw new Error("Root element needs a name.");return r=c({},t,n,r),o=new i(r),a=o.element(e),r.headless||(o.declaration(r),null==r.pubID&&null==r.sysID||o.dtd(r)),a},t.exports.begin=function(e,t,n){var r;return l(e)&&(r=[e,t],t=r[0],n=r[1],e={}),t?new a(e,t,n):new i(e)},t.exports.stringWriter=function(e){return new u(e)},t.exports.streamWriter=function(e,t){return new s(e,t)},t.exports.implementation=new o,t.exports.nodeType=n,t.exports.writerState=r}).call(void 0)},{"./NodeType":261,"./Utility":262,"./WriterState":263,"./XMLDOMImplementation":270,"./XMLDocument":278,"./XMLDocumentCB":279,"./XMLStreamWriter":287,"./XMLStringWriter":288}],293:[function(e,t,n){t.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e}},{}],294:[function(e,t,n){"use strict";var r=e("buffer").Buffer,o=e("./sha"),i=e("./sha256"),a=e("./md5"),s={sha1:o,sha256:i,md5:a},u=64,c=new r(u);function l(e,t,n){r.isBuffer(t)||(t=new r(t)),r.isBuffer(n)||(n=new r(n)),t.length>u?t=e(t):t.length<u&&(t=r.concat([t,c],u));for(var o=new r(u),i=new r(u),a=0;a<u;a++)o[a]=54^t[a],i[a]=92^t[a];var s=e(r.concat([o,n]));return e(r.concat([i,s]))}function p(e,t){e=e||"sha1";var n=s[e],o=[];return n||f("algorithm:",e,"is not yet supported"),{update:function(e){return r.isBuffer(e)||(e=new r(e)),o.push(e),e.length,this},digest:function(e){var i=r.concat(o),a=t?l(n,t,i):n(i);return o=null,e?a.toString(e):a}}}function f(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function h(e,t){for(var n in e)t(e[n],n)}c.fill(0),n.createHash=function(e){return p(e)},n.createHmac=function(e,t){return p(e,t)},h(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(e){n[e]=function(){f("sorry,",e,"is not implemented yet")}}))},{"./md5":296,"./sha":297,"./sha256":298,buffer:40}],295:[function(e,t,n){"use strict";var r=e("buffer").Buffer,o=4,i=new r(o);i.fill(0);var a=8;function s(e,t){if(e.length%o!==0){var n=e.length+(o-e.length%o);e=r.concat([e,i],n)}for(var a=[],s=t?e.readInt32BE:e.readInt32LE,u=0;u<e.length;u+=o)a.push(s.call(e,u));return a}function u(e,t,n){for(var o=new r(t),i=n?o.writeInt32BE:o.writeInt32LE,a=0;a<e.length;a++)i.call(o,e[a],4*a,!0);return o}function c(e,t,n,o){r.isBuffer(e)||(e=new r(e));var i=t(s(e,o),e.length*a);return u(i,n,o)}t.exports={hash:c}},{buffer:40}],296:[function(e,t,n){"use strict";var r=e("./helpers");function o(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,p=0;p<e.length;p+=16){var f=n,h=r,d=o,m=i;n=a(n,r,o,i,e[p+0],7,-680876936),i=a(i,n,r,o,e[p+1],12,-389564586),o=a(o,i,n,r,e[p+2],17,606105819),r=a(r,o,i,n,e[p+3],22,-1044525330),n=a(n,r,o,i,e[p+4],7,-176418897),i=a(i,n,r,o,e[p+5],12,1200080426),o=a(o,i,n,r,e[p+6],17,-1473231341),r=a(r,o,i,n,e[p+7],22,-45705983),n=a(n,r,o,i,e[p+8],7,1770035416),i=a(i,n,r,o,e[p+9],12,-1958414417),o=a(o,i,n,r,e[p+10],17,-42063),r=a(r,o,i,n,e[p+11],22,-1990404162),n=a(n,r,o,i,e[p+12],7,1804603682),i=a(i,n,r,o,e[p+13],12,-40341101),o=a(o,i,n,r,e[p+14],17,-1502002290),r=a(r,o,i,n,e[p+15],22,1236535329),n=s(n,r,o,i,e[p+1],5,-165796510),i=s(i,n,r,o,e[p+6],9,-1069501632),o=s(o,i,n,r,e[p+11],14,643717713),r=s(r,o,i,n,e[p+0],20,-373897302),n=s(n,r,o,i,e[p+5],5,-701558691),i=s(i,n,r,o,e[p+10],9,38016083),o=s(o,i,n,r,e[p+15],14,-660478335),r=s(r,o,i,n,e[p+4],20,-405537848),n=s(n,r,o,i,e[p+9],5,568446438),i=s(i,n,r,o,e[p+14],9,-1019803690),o=s(o,i,n,r,e[p+3],14,-187363961),r=s(r,o,i,n,e[p+8],20,1163531501),n=s(n,r,o,i,e[p+13],5,-1444681467),i=s(i,n,r,o,e[p+2],9,-51403784),o=s(o,i,n,r,e[p+7],14,1735328473),r=s(r,o,i,n,e[p+12],20,-1926607734),n=u(n,r,o,i,e[p+5],4,-378558),i=u(i,n,r,o,e[p+8],11,-2022574463),o=u(o,i,n,r,e[p+11],16,1839030562),r=u(r,o,i,n,e[p+14],23,-35309556),n=u(n,r,o,i,e[p+1],4,-1530992060),i=u(i,n,r,o,e[p+4],11,1272893353),o=u(o,i,n,r,e[p+7],16,-155497632),r=u(r,o,i,n,e[p+10],23,-1094730640),n=u(n,r,o,i,e[p+13],4,681279174),i=u(i,n,r,o,e[p+0],11,-358537222),o=u(o,i,n,r,e[p+3],16,-722521979),r=u(r,o,i,n,e[p+6],23,76029189),n=u(n,r,o,i,e[p+9],4,-640364487),i=u(i,n,r,o,e[p+12],11,-421815835),o=u(o,i,n,r,e[p+15],16,530742520),r=u(r,o,i,n,e[p+2],23,-995338651),n=c(n,r,o,i,e[p+0],6,-198630844),i=c(i,n,r,o,e[p+7],10,1126891415),o=c(o,i,n,r,e[p+14],15,-1416354905),r=c(r,o,i,n,e[p+5],21,-57434055),n=c(n,r,o,i,e[p+12],6,1700485571),i=c(i,n,r,o,e[p+3],10,-1894986606),o=c(o,i,n,r,e[p+10],15,-1051523),r=c(r,o,i,n,e[p+1],21,-2054922799),n=c(n,r,o,i,e[p+8],6,1873313359),i=c(i,n,r,o,e[p+15],10,-30611744),o=c(o,i,n,r,e[p+6],15,-1560198380),r=c(r,o,i,n,e[p+13],21,1309151649),n=c(n,r,o,i,e[p+4],6,-145523070),i=c(i,n,r,o,e[p+11],10,-1120210379),o=c(o,i,n,r,e[p+2],15,718787259),r=c(r,o,i,n,e[p+9],21,-343485551),n=l(n,f),r=l(r,h),o=l(o,d),i=l(i,m)}return Array(n,r,o,i)}function i(e,t,n,r,o,i){return l(p(l(l(t,e),l(r,i)),o),n)}function a(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function u(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function c(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}function l(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return r.hash(e,o,16)}},{"./helpers":295}],297:[function(e,t,n){"use strict";var r=e("./helpers");function o(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,o=-271733879,c=-1732584194,l=271733878,p=-1009589776,f=0;f<e.length;f+=16){for(var h=r,d=o,m=c,g=l,y=p,v=0;v<80;v++){n[v]=v<16?e[f+v]:u(n[v-3]^n[v-8]^n[v-14]^n[v-16],1);var _=s(s(u(r,5),i(v,o,c,l)),s(s(p,n[v]),a(v)));p=l,l=c,c=u(o,30),o=r,r=_}r=s(r,h),o=s(o,d),c=s(c,m),l=s(l,g),p=s(p,y)}return Array(r,o,c,l,p)}function i(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function a(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function s(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}t.exports=function(e){return r.hash(e,o,20,!0)}},{"./helpers":295}],298:[function(e,t,n){"use strict";var r=e("./helpers"),o=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n},i=function(e,t){return e>>>t|e<<32-t},a=function(e,t){return e>>>t},s=function(e,t,n){return e&t^~e&n},u=function(e,t,n){return e&t^e&n^t&n},c=function(e){return i(e,2)^i(e,13)^i(e,22)},l=function(e){return i(e,6)^i(e,11)^i(e,25)},p=function(e){return i(e,7)^i(e,18)^a(e,3)},f=function(e){return i(e,17)^i(e,19)^a(e,10)},h=function(e,t){var n,r,i,a,h,d,m,g,y,v,_=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),b=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),E=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var S=0;S<e.length;S+=16){n=b[0],r=b[1],i=b[2],a=b[3],h=b[4],d=b[5],m=b[6],g=b[7];for(var A=0;A<64;A++)E[A]=A<16?e[A+S]:o(o(o(f(E[A-2]),E[A-7]),p(E[A-15])),E[A-16]),y=o(o(o(o(g,l(h)),s(h,d,m)),_[A]),E[A]),v=o(c(n),u(n,r,i)),g=m,m=d,d=h,h=o(a,y),a=i,i=r,r=n,n=o(y,v);b[0]=o(n,b[0]),b[1]=o(r,b[1]),b[2]=o(i,b[2]),b[3]=o(a,b[3]),b[4]=o(h,b[4]),b[5]=o(d,b[5]),b[6]=o(m,b[6]),b[7]=o(g,b[7])}return b};t.exports=function(e){return r.hash(e,h,32,!0)}},{"./helpers":295}],299:[function(n,r,o){(function(t){"use strict";var i=n("babel-runtime/core-js/object/create"),a=h(i),s=n("babel-runtime/helpers/classCallCheck"),u=h(s),c=n("babel-runtime/helpers/createClass"),l=h(c),p=n("babel-runtime/helpers/typeof"),f=h(p);function h(e){return e&&e.__esModule?e:{default:e}}(function(n){if("object"===("undefined"===typeof o?"undefined":(0,f.default)(o))&&"undefined"!==typeof r)r.exports=n();else if("function"===typeof e&&e.amd)e([],n);else{var i;i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,i.mime=n()}})((function(){return function e(t,r,o){function i(s,u){if(!r[s]){if(!t[s]){var c="function"==typeof n&&n;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=r[s]={exports:{}};t[s][0].call(p.exports,(function(e){var n=t[s][1][e];return i(n||e)}),p,p.exports,e,t,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){var r=function(){function e(){(0,u.default)(this,e),this._types=(0,a.default)(null),this._extensions=(0,a.default)(null);for(var t=0;t<arguments.length;t++)this.define(arguments[t])}return(0,l.default)(e,[{key:"define",value:function(e,t){for(var n in e){for(var r=e[n],o=0;o<r.length;o++){var i=r[o];if(!t&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+n+'".');this._types[i]=n}!t&&this._extensions[n]||(this._extensions[n]=r[0])}}},{key:"getType",value:function(e){e=String(e);var t=e.replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length,o=n.length<t.length-1;return(o||!r)&&this._types[n]||null}},{key:"getExtension",value:function(e){return e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1,e&&this._extensions[e.toLowerCase()]||null}}]),e}();t.exports=r},{}],2:[function(e,t,n){var r=e("./Mime");t.exports=new r(e("./types/standard"),e("./types/other"))},{"./Mime":1,"./types/other":3,"./types/standard":4}],3:[function(e,t,n){t.exports={"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":[],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":[],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-otf":[],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-ttf":["ttf","ttc"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":[],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":[],"application/x-msdownload":["com","bat"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":[],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":[],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":[],"audio/x-wav":[],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":[],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":[],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":[],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],4:[function(e,t,n){t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":["woff"],"application/font-woff2":["woff2"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":[],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":[],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":[],"audio/webm":["weba"],"audio/xm":["xm"],"font/otf":["otf"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jpeg":["jpeg","jpg","jpe"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/webp":["webp"],"message/rfc822":["eml","mime"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":[],"text/sgml":["sgml","sgm"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":[],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}]},{},[2])(2)}))}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"babel-runtime/core-js/object/create":21,"babel-runtime/helpers/classCallCheck":32,"babel-runtime/helpers/createClass":33,"babel-runtime/helpers/typeof":34}],300:[function(e,t,n){"use strict";n.encodeURIComponent=function(e){try{return encodeURIComponent(e)}catch(t){return e}},n.escape=e("escape-html"),n.timestamp=function(e){if(e){var t=e;return"string"===typeof t&&(t=Number(t)),10===String(e).length&&(t*=1e3),new Date(t)}return Math.round(Date.now()/1e3)}},{"escape-html":182}],301:[function(e,t,n){(function(t,r){"use strict";var o=e("babel-runtime/core-js/json/stringify"),i=u(o),a=e("babel-runtime/helpers/typeof"),s=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var c,l=e("util"),p=e("url"),f=e("http"),h=e("https"),d=e("debug")("urllib"),m=e("humanize-ms"),g=0,y=Math.pow(2,31)-10,v=/^https?:\/\//i;function _(e,t){return void 0===e?t:e}function b(e,t){return function(n,r,o){if(n)return t(n);e({data:r,status:o.statusCode,headers:o.headers,res:o})}}n.TIMEOUTS=[m("300s"),m("300s")];var E=["json","text"];n.request=function(t,r,o){return 2===arguments.length&&"function"===typeof r&&(o=r,r=null),"function"===typeof o?n.requestWithCallback(t,r,o):(c||(c=e("any-promise")),new c((function(e,o){n.requestWithCallback(t,r,b(e,o))})))},n.requestWithCallback=function(o,a,u){if(!o||"string"!==typeof o&&"object"!==("undefined"===typeof o?"undefined":(0,s.default)(o))){var c=l.format("expect request url to be a string or a http request options, but got %j",o);throw new Error(c)}2===arguments.length&&"function"===typeof a&&(u=a,a=null),a=a||{},g>=y&&(g=0);var b=++g;a.requestUrls=a.requestUrls||[];var S={requestId:b,url:o,args:a,ctx:a.ctx};a.emitter&&a.emitter.emit("request",S),a.timeout=a.timeout||n.TIMEOUTS,a.maxRedirects=a.maxRedirects||10,a.streaming=a.streaming||a.customResponse;var A,I=Date.now();"string"===typeof o?(v.test(o)||(o="http://"+o),A=p.parse(o)):A=o;var w=(a.type||a.method||A.method||"GET").toUpperCase(),T=A.port||80,C=f,O=_(a.agent,n.agent),M=a.fixJSONCtlChars;"https:"===A.protocol&&(C=h,O=_(a.httpsAgent,n.httpsAgent),A.port||(T=443));var D={host:A.hostname||A.host||"localhost",path:A.path||"/",method:w,port:T,agent:O,headers:a.headers||{},lookup:a.lookup};Array.isArray(a.timeout)?D.requestTimeout=a.timeout[a.timeout.length-1]:"undefined"!==typeof a.timeout&&(D.requestTimeout=a.timeout);for(var N=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","secureOptions"],x=0;x<N.length;x++){var L=N[x];a.hasOwnProperty(L)&&(D[L]=a[L])}!1!==D.rejectUnauthorized||D.hasOwnProperty("secureOptions")||(D.secureOptions=e("constants").SSL_OP_NO_TLSv1_2);var P=a.auth||A.auth;P&&(D.auth=P);var k=a.content||a.data,R="GET"===w||"HEAD"===w||a.dataAsQueryString;if(!a.content&&k&&"string"!==typeof k&&!r.isBuffer(k))if(R)k=a.nestedQuerystring?qs.stringify(k):querystring.stringify(k);else{var G=D.headers["Content-Type"]||D.headers["content-type"];G||(G="json"===a.contentType?"application/json":"application/x-www-form-urlencoded",D.headers["Content-Type"]=G),k="application/json"===parseContentType(G).type?(0,i.default)(k):a.nestedQuerystring?qs.stringify(k):querystring.stringify(k)}R&&k&&(D.path+=(A.query?"&":"?")+k,k=null);var j=0;if(k){var U=k.length;r.isBuffer(k)||(U=r.byteLength(k)),j=D.headers["Content-Length"]=U}"json"===a.dataType&&(D.headers.Accept="application/json"),"function"===typeof a.beforeRequest&&a.beforeRequest(D);var F=null,q=null,B=null,Z=!1,V=!1,H=0,z=-1,Y=!1,K="",X="",W=null;function J(){F&&(clearTimeout(F),F=null)}function Q(){q&&(clearTimeout(q),q=null)}function $(e,r,s){if(Q(),!u)return console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s %s callback twice!!!",Date(),b,t.pid,D.method,o),void(e&&console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s: %s\nstack: %s",Date(),b,t.pid,e.name,e.message,e.stack));var c=u;u=null;var l={};if(s&&(z=s.statusCode,l=s.headers),401===z&&l["www-authenticate"]&&(!a.headers||!a.headers.Authorization)&&a.digestAuth){var p=l["www-authenticate"];if(p.indexOf("Digest ")>=0)return d("Request#%d %s: got digest auth header WWW-Authenticate: %s",b,o,p),a.headers=a.headers||{},a.headers.Authorization=digestAuthHeader(D.method,D.path,p,a.digestAuth),d("Request#%d %s: auth with digest header: %s",b,o,a.headers.Authorization),s.headers["set-cookie"]&&(a.headers.Cookie=s.headers["set-cookie"].join(";")),n.requestWithCallback(o,a,c)}var f=Date.now()-I;W&&(W.contentDownload=f),d("[%sms] done, %s bytes HTTP %s %s %s %s, keepAliveSocket: %s, timing: %j",f,H,z,D.method,D.host,D.path,V,W);var h={status:z,statusCode:z,headers:l,size:H,aborted:Y,rt:f,keepAliveSocket:V,data:r,requestUrls:a.requestUrls,timing:W,remoteAddress:K,remotePort:X};if(e){var m="";O&&"function"===typeof O.getCurrentStatus&&(m=", agent status: "+(0,i.default)(O.getCurrentStatus())),e.message+=", "+D.method+" "+o+" "+z+" (connected: "+Z+", keepalive socket: "+V+m+")\nheaders: "+(0,i.default)(l),e.data=r,e.path=D.path,e.status=z,e.headers=l,e.res=h}c(e,r,a.streaming?s:h),a.emitter&&(S.url=o,S.socket=oe&&oe.connection,S.options=D,S.size=j,a.emitter.emit("response",{requestId:b,error:e,ctx:a.ctx,req:S,res:h}))}function ee(e){var t=null;if(a.followRedirect&&statuses.redirect[e.statusCode]){a._followRedirectCount=(a._followRedirectCount||0)+1;var r=e.headers.location;if(r){if(!(a._followRedirectCount>a.maxRedirects)){var i=a.formatRedirectUrl?a.formatRedirectUrl(o,r):p.resolve(o,r);d("Request#%d %s: `redirected` from %s to %s",b,D.path,o,i),Q(),a.headers&&a.headers.Host&&v.test(r)&&(a.headers.Host=null);var s=u;return u=null,n.requestWithCallback(i,a,s),{redirect:!0,error:null}}t=new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+o),t.name="MaxRedirectError"}else t=new Error("Got statusCode "+e.statusCode+" but cannot resolve next location from headers"),t.name="FollowRedirectError"}return{redirect:!1,error:t}}function te(e,t,n){var r=e.headers["content-encoding"];return n(null,t,r)}a.timing&&(W={queuing:0,dnslookup:0,connected:0,requestSent:0,waiting:0,contentDownload:0}),D.headers["User-Agent"]||D.headers["user-agent"]||(D.headers["User-Agent"]=navigator.userAgent),a.gzip&&(D.headers["Accept-Encoding"]||D.headers["accept-encoding"]||(D.headers["Accept-Encoding"]="gzip"));var ne,re,oe,ie=a.writeStream;function ae(e){if(W&&(W.waiting=Date.now()-I),d("Request#%d %s `req response` event emit: status %d, headers: %j",b,o,e.statusCode,e.headers),a.streaming){var t=ee(e);return t.redirect?void e.resume():t.error?(e.resume(),$(t.error,null,e)):$(null,null,e)}if(e.on("close",(function(){d("Request#%d %s: `res close` event emit, total size %d",b,o,H)})),e.on("error",(function(){d("Request#%d %s: `res error` event emit, total size %d",b,o,H)})),e.on("aborted",(function(){Y=!0,d("Request#%d %s: `res aborted` event emit, total size %d",b,o,H)})),ie){t=ee(e);return t.redirect?void e.resume():t.error?(e.resume(),ie.end(),$(t.error,null,e)):(!1===a.consumeWriteStream?e.on("end",$.bind(null,null,null,e)):isNode010||isNode012?first([[ie,"close"],[e,"aborted"]],(function(t,n,r){d("Request#%d %s: writeStream or res %s event emitted",b,o,r),$(B||null,null,e)})):ie.on("close",(function(){d("Request#%d %s: writeStream close event emitted",b,o),$(B||null,null,e)})),e.pipe(ie))}var n=[];e.on("data",(function(e){d("Request#%d %s: `res data` event emit, size %d",b,o,e.length),H+=e.length,n.push(e)})),e.on("end",(function(){var t=r.concat(n,H);if(d("Request#%d %s: `res end` event emit, total size %d, _dumped: %s",b,o,H,e._dumped),B)return $(B,t,e);var i=ee(e);if(i.error)return $(i.error,t,e);i.redirect||te(e,t,(function(n,r,i){if(n)return $(n,t,e);if(!i&&E.indexOf(a.dataType)>=0){try{r=decodeBodyByCharset(r,e)}catch(u){return d("decodeBodyByCharset error: %s",u),$(null,r,e)}if("json"===a.dataType)if(0===H)r=null;else{var s=parseJSON(r,M);s.error?n=s.error:r=s.data}}Y&&d("Request#%d %s: Remote socket was terminated before `response.end()` was called",b,o),$(n,r,e)}))}))}function se(){d("Connect timer ticking, timeout: %d",ne),F=setTimeout((function(){F=null,-1===z&&(z=-2);var e="Connect timeout for "+ne+"ms",t="ConnectionTimeoutError";oe.socket||(t="SocketAssignTimeoutError",e+=", working sockets is full"),B=new Error(e),B.name=t,B.requestId=b,d("ConnectTimeout: Request#%d %s %s: %s, connected: %s",b,o,B.name,e,Z),ce()}),ne)}function ue(){d("Response timer ticking, timeout: %d",re),q=setTimeout((function(){q=null;var e="Response timeout for "+re+"ms",t="ResponseTimeoutError";B=new Error(e),B.name=t,B.requestId=b,d("ResponseTimeout: Request#%d %s %s: %s, connected: %s",b,o,B.name,e,Z),ce()}),re)}d("Request#%d %s %s with headers %j, options.path: %s",b,w,o,D.headers,D.path),a.requestUrls.push(o),Array.isArray(a.timeout)?(ne=m(a.timeout[0]),re=m(a.timeout[1])):ne=re=m(a.timeout),d("ConnectTimeout: %d, ResponseTimeout: %d",ne,re),D.mode=a.mode?a.mode:"";try{oe=C.request(D,ae)}catch(le){return $(le)}function ce(){d("Request#%d %s abort, connected: %s",b,o,Z),oe.socket||(B.noSocket=!0,$(B)),oe.abort()}return"undefined"===typeof window?se():oe.on("requestTimeout",(function(){-1===z&&(z=-2);var e="Connect timeout for "+ne+"ms",t="ConnectionTimeoutError";B=new Error(e),B.name=t,B.requestId=b,ce()})),W&&oe.on("finish",(function(){W.requestSent=Date.now()-I})),oe.once("socket",(function(e){W&&(W.queuing=Date.now()-I),isNode010&&e.socket&&(e=e.socket);var t=e.readyState;if("opening"===t)return e.once("lookup",(function(e,t,n){d("Request#%d %s lookup: %s, %s, %s",b,o,e,t,n),W&&(W.dnslookup=Date.now()-I),t&&(K=t)})),void e.once("connect",(function(){W&&(W.connected=Date.now()-I),J(),ue(),d("Request#%d %s new socket connected",b,o),Z=!0,K||(K=e.remoteAddress),X=e.remotePort}));d("Request#%d %s reuse socket connected, readyState: %s",b,o,t),Z=!0,V=!0,K||(K=e.remoteAddress),X=e.remotePort,J(),ue()})),oe.on("error",(function(e){"Error"!==e.name&&"TypeError"!==e.name||(e.name=Z?"ResponseError":"RequestError"),e.message+=' (req "error")',d("Request#%d %s `req error` event emit, %s: %s",b,o,e.name,e.message),$(B||e)})),ie&&ie.once("error",(function(e){e.message+=' (writeStream "error")',B=e,d("Request#%d %s `writeStream error` event emit, %s: %s",b,o,e.name,e.message),ce()})),a.stream?(a.stream.pipe(oe),a.stream.once("error",(function(e){e.message+=' (stream "error")',B=e,d("Request#%d %s `readStream error` event emit, %s: %s",b,o,e.name,e.message),ce()}))):oe.end(k),oe.requestId=b,oe}}).call(this,e("_process"),e("buffer").Buffer)},{_process:215,"any-promise":15,"babel-runtime/core-js/json/stringify":19,"babel-runtime/helpers/typeof":34,buffer:40,constants:42,debug:155,http:238,https:190,"humanize-ms":191,url:245,util:253}]},{},[1])(1)}))}).call(this,n("c8ba"))},"9b90":function(e,t,n){},"9d7d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAB6VBMVEX///8zMzMzMzM3NzcyMjIzMzMzMzNHcEz///////8uLi4zMzMzMzMAAAAzMzMxMTE0NDQAAAAzMzMyMjIyMjIyMjIqKiozMzMyMjIxMTEzMzMyMjIzMzMyMjIgICAyMjIzMzMqKiozMzM0NDQzMzM0NDQzMzMzMzMzMzMzMzMzMzMxMTE0NDQsLCwAAAAzMzMzMzM1NTUzMzM0NDQzMzMzMzMzMzMyMjIzMzMzMzMzMzMuLi4zMzMuLi4zMzMtLS0zMzMzMzMzMzMyMjIzMzMzMzMyMjIzMzMyMjI0NDQ0NDQ7OzsyMjIzMzMzMzM0NDQzMzMzMzMzMzMzMzMzMzMzMzMzMzM0NDQvLy8yMjIyMjIyMjIzMzMzMzMzMzMzMzMzMzMuLi4zMzMzMzMzMzMvLy9AQEA2NjYzMzM0NDQyMjIzMzMzMzMyMjIzMzMzMzM0NDQzMzMyMjIwMDAzMzMzMzM0NDQkJCQ0NDQxMTE0NDQyMjIyMjIzMzM0NDQ1NTUzMzMzMzMyMjIyMjI0NDQzMzM0NDQzMzM0NDQzMzMzMzMyMjIzMzMqKiozMzM0NDQzMzM0NDQzMzMxMTE2NjYyMjIzMzM0NDQzMzMwMDAzMzMvLy8zMzMyMjIzMzMzMzMxMTEzMzMzMzPlvuPAAAAAonRSTlMD/OcO/cP1AAIBC/nEAQUVUwL+8zO7DCPuGjJ6S1IIOO0G+57bRdGCzvSgNE8XA5dyOvbB67kKJNjmrhzoIZwR4Oy9dX7W0ONrncsNhOLclB6RpY1usC12K0JH5EH3GYw3Fnm/zBsEISiywYjV+Hd0mHyUIOFtdQciU47K2t9KP5AUibFJ72K1iWpfTM0Sn3vXo2hJJmXlvMgQzybdXLjHH941ApnNAAAB/klEQVQ4y+2V91PUQBTHL7lcAjnujut39N5774cNESk2FAWUohSlCvYuKNhQUVFpyvcvNVwO2Fw2EsYZf+JN5mW+O5+82c3b/a4hMsKgMyIipUfQGdtlBd1hOIT/O5x7+3pbuzv24o6uPHaUNftu3vGoYeNnB+QonQ9+2smF9JPicPjDezgXi29486aSgLlaYyGHkpx4/9CLB4/AP1PC9nJ8qpeHxKJXKEvD+C2brAsKUZevgJfB+ncnn78AZI3sSks5UklYLEMeseyCokyRkDPmFC8Bv0aUPN7VkdZrUv2zVBwn4FG8DY5eYqTVq+Ercq0Q3I3h7dcFMGdjTqu7YcMRAs5GhZTP8I5oausSwBOwE0Ypt+Icvc82JBFwExKl3ILLdDhdMedTiJUyDw8dvobzBByHExZBMJnobDKLPgK2nkS09tZ8gwxFu5tRlaDFBthQpR04eQwvteAclFqUWzSRYb7Q2Q2UfA3f/B/hW6OxMTy+qU6KpQaNtWq2sg4NlDNYEYUqfzj7ewubVtqB/bmK9Xol623EL5FuBYEfWHEp5lsNk1HLNzzfkR2/J9854Ra1TcbaAC7THhITDJasf3WkyRS4+4M+UgNuej/76mFRnS4Irsfwxe3vdVcHwT28a0bWfT3GaB8wA47n93S6qCtj9um/W+6BLs2DXMd/ABgUlpXRC0M4AAAAAElFTkSuQmCC"},a08a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAABX1BMVEX///+YmJiYmJiYmJidnZ2Xl5eVlZVHcEyZmZmampqSkpKXl5eWlpaWlpaXl5eXl5eXl5eXl5eZmZmXl5eAgICqqqqZmZmbm5uZmZmAgICZmZmYmJiZmZmZmZmZmZkAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYmJiampqZmZmZmZmZmZmZmZmkpKSTk5OYmJiZmZmampqZmZmbm5uZmZmYmJicnJyampqfn5+fn5+Xl5eqqqqampqhoaG/v7+ZmZmZmZmampqZmZmZmZmWlpaZmZmZmZn///+bm5uZmZmampqampqampqYmJiampqenp6ZmZmZmZmdnZ2ZmZmYmJiXl5ecnJyZmZmYmJiZmZmYmJiampqZmZmampqampqZmZmampqXl5ebm5uqqqqWlpaZmZmZmZmZmZmampqYmJiZmZmXl5eYmJiampqXl5eZmZkFrUdnAAAAc3RSTlMDii/+GqwMAPsmDvJV6lF93NgFpAQGHhzvAtBoQY7eAdrOCiiE8un8gA+W1OJq6Mj5Iw4aRTywoErVPix0GBAgCeAbBJ3YiPjwJ61aAUCH78z+Um0V9t8nUDkWPn8l8aS/nuU14tYbIQMR+jfASV7tVr1lPo/Q4wAAAdxJREFUSMfNludT20AQxbHBXmGMKyQyBmGMTSeEEAKEGnpPofeSQICQQHLv/5+shDyYfMCrywzD+6DVaPSb27d30m5ZmaZIQ/+NJcLJeJV6RFXxZDjxLxaJKYFikQdYyleuRCr3pYowHz+pjvqDj/kJ+qPV/JrvHovwWoFQ6UqEArxepIAl2FegUVLBRuZiCRcLc4YhWeVDnGfYxZJKRaU7FlUq6WJxpfxSzK9U3MV4l4NSLMj77mJcVvm5cl5+Pthw26AdugfeCrCROkdfiXL4MEE01YUOAdYAR/VEtTNoI1rC3LgAW69kXdkYfcnPEn3Cqtjba9RfmKa5YZofgbxpjoqxGsAwDOfyGRUlsd0GVquDEb0AXhK9EmA7bkmKsBYBto3TNKuCsUxmE7AymVYBlsaxE2tQpNLYPo4KWDa7BRxks5IkO3DSzLr0WJLFu7S6GbOsb0CXZUm8TTex8kh79OboN/5QLasX+G5H4eG6xi8n3nkTn8ke3LYYRuFwsdpF2Bl+3hR7w5gIO8SPXvsDWgH27FiZEmDLa8C5R2+poc55oJO8luQdW+lZ8Iz19b+fLNy353JvnsnvVbN1aDYqzbao2YQ1W77mgKE7zugOT5qjmvZg+FTTq5b+AiC3WLDy73CvAAAAAElFTkSuQmCC"},a598:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAyCAMAAAD886zOAAABIFBMVEVHcEyZmZmZmZmZmZmZmZmfn5+ZmZn///+enp6ampqVlZWampqZmZmZmZmZmZmZmZmSkpKYmJiZmZmZmZmZmZmAgICampqZmZkAAACZmZmampqZmZmbm5u/v7+ZmZmYmJidnZ2ZmZmqqqqZmZmbm5uZmZmZmZmYmJiampqWlpaZmZmLi4ubm5uXl5ecnJyYmJibm5uYmJiampqAgICXl5ebm5udnZ2ZmZmZmZmXl5eWlpaZmZmXl5eZmZmZmZmampqbm5uampqZmZmampqqqqqYmJiXl5eZmZmZmZmcnJyZmZmZmZmYmJiZmZmampqZmZmZmZmhoaGZmZmampqZmZmZmZmZmZmampqZmZmZmZmbm5uZmZmYmJicnJyZmZmZmZkkW4J0AAAAX3RSTlMAr8tL5hjRAyJRDP7q3KyKDi998tgCU6UBBaRVVwijZg3pCfwct/pITifOCyEsO1IzSvIEO1watO0WEewbcN6GKb8y+QNUNnPdJA9pQ4mIoCMT8MLhFNCX8/hjyKlN1BQIqfUAAAGUSURBVEjH7ZdVb8NADIC9LlmbFAJtU+5WhjEzMzOD//+/mANVM+2lSzxNk/q95KxTPt3lIDYEmYEgEJlcNhFHH8QT2VzGNNlCKYoMRCVHmFTCyEJYSVpChdoRXZPBB7KmR0ijmEKJxhdTwTdqjMYoBaFA3y+WBgbSZIwWIE/zVYEFlWadhxSiDkzoiClIIGpcQg0xAbSfZS6hTDscaLGBDVPWF/6GcDRkMdZZ/KodLyStaDnkZqQXodS5PVa3G2Y85IS7R+fXAMUvF8zwj4TEo0tI3LQ8CudFUVzbOb1DfDeFDxSKx2d0SgPJE7MtlrBmPcs9CgftVusZi6Yw4PRcIl7ZLQEHel+UrhDa2HYLm4hNf8JX/HALG4j7voT3T/jmFl4gbvkQ7h3cIr50hSvrddyY9SZcEgShVKGumrVt6hQKMxRW5sCb0CFyWHbvw/DiFHgUbhqGMTlRtQ/bEEYpNKbHXefM6yo7wsC3N/vC/y7s//X+XMieLLGnc+wJJ3tKzJ60s5cV/IUPf2nGXjxyl7fMfAIVuUZsDr8eWwAAAABJRU5ErkJggg=="},af46:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAe1BMVEVHcEz/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////a4j/hJz/09z/bIn/botFEQsuAAAAI3RSTlMAGfhYk9jr0QGoUxAcR8EC/qvvB0nP9umGD18sYa3f3t2sYmPjSXoAAAGKSURBVFjDrZjpdoIwEEYjW0CQHUFW6Qj2/Z+wB2itpWH/7s/hcA/RZDIzjE2iZ2lSR5UmSVoV1Uma6Wwzt9yIaURs5LctDj00riTkaoRrv8mROc3AZWeN5aLSAuplUWJ5tALPmrecfVqFf56RBIpLK3GVYMpi2rQB2xRbTpw2wU9Cy502chd4TE6b4f/WFdi0A3v8Oyu0C2W0X9x9GvfP/rF82on/vp892o33dhrpAK9z6qhHNOpP3pDpEPJ3ruPHNHzIh6HoWdt8Nu2KWEfYawyR5dHRLsZ6jP4OEGXvpn+lWYwNeb67L3LRmp79K8/F2EA+sSZ6DCzGXqvS4+OaWGcZHddQxlKEJmUJQpOwAqEpWITQRKxEaEqmITQakxAaCaUBLapCaCrUHw7ZfjXqMICOJihRgNIWKImyD0xKB10woOsOdfmCSgFQYYIqk0BFG6qERBW0oPIaVeyjWg9QI4Rqy1BNIqplRTXQqHYeNlxAjTpggxfUGAg2lPodkRVR2Y3IyqiYH5F9ASP3DD0tbp90AAAAAElFTkSuQmCC"},d0cc:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABiCAMAAACce/Y8AAACSVBMVEVHcEz1+f/2+f/2///1+f/////y///1+v/1+P/2+v/2+//2+v/1+f/2+f/////2+//1+f/////2/P/z+f/1+v/1+f/7g5/1b4r2co32cYz6gJz1bon7hKD3dZD3dI/6gZ31bYj2c470a4b5fZn5fJj6f5v3dpH2cIv8haH5e5f7gp75fpr4epX0aoX0aYT4eJP1bIf4eZT4epb9i6f5fJf5fpn5fZj8iKT1cIv6gJv3d5L8h6P0bIfzaIP6gp76f5r4eZX3dZH9jKj+jqr3dpL9iqb8iaX6gZz5e5b4eJT8hqL6gp3+jan3dJD4d5L2co77g576fpr4d5P7haH7hqL0a4X0aoT4e5b9iab19v32cY33d5P18vn33en18/r1boj19/7zaYT2c4/1+P714+32cIz1b4v8oLn3iKD3c47+j6z5tMf17vb25vD18Pj2dZD14Or3nLL12OP4iaL3hZ74f5n25/H+k6709fz6vdD19Pv19fv2rb/0pbfzgJj7rcP4jaX30N76u876k630p7n16PH5kKn7iaT3tMb2d5L7jKb7hJ/3eZP15O70bIb3nLH2sML13uj17fX3fJf2ztz3wtP2b4r2f5j10d72scP1obX1kqf1scP2k6r1co31w9H2obX5xdb5hJ72tsf6l7D0hZ3zb4n5oLf5p732l672usr7jaj4t8n7q8H7lK3zjaP15e76nbT5k6v2rcD0cIr5l6/5mbH6nLT16vP7gZ31y9n2qLv4g531z9z14uz12ub21eH4gZv3epZlb19GAAAAFXRSTlMAlvgbtAQT65f4eDfjhwKs0wlXWNLzBlsnAAAFKElEQVRo3u2a+VcTVxTHAyphB1smC1knkMRsJCQthBBCQkAgBjDEViOgVYpiZV/cqlarVaxa9+77Zvd9X+jyl/W+9yYklfbgTZk5/SH3FzLJHD7nvu/dZt6TybKtsqy0qkZewuVsJfKaqtKyStm/2YaKcm5drLxiwz8CigoKuXWzwoKi1YQH5dy6mvyBewCbirl1t+JN2YTNGzkRbOPmLB9EIQAj40cxJ5IVryjNiWaC5kVy8RByFrsFnIhWQHO6UExEIcnzCk5Uq4DKVy4uorxSVsaJbGWyUrERpbIqsRFVsmqxEdUyudgIuaxEbESJjBPd8og8Io9AIY4cP3i0o8Pn6+raurW5ubV1x5akVqtQ2LcZumtbzAlHXV39Qzab1xluXDxzfTkHROrpJ6LxDopghNgOIGgVdjshtLQ7HhYIzka3e7B/6GQKi0h9Go3G45SwSyBQJ7aHthlqaymhCRBebzjc6x4MdFp0H6aQCPAh+tTIiftb7eG52UhEdxKHOAKEtzCaftSnn15GIY6DD7i4uabnv0YhDkajIzjEHM+PoxBH4/ETOMQwP3AFhYB4xWbYgEotNkK1G4eAjEAj1GMoRAceoVZbkQhf1tXE/UivtvpxCF9X5mLy3N09ayPG/M+jEL4sxMizCsWXw2si/FYlDtG1K/3x7EUofvbvptZCHFDmiriTJD3Cbvh2YtVNo++8NJq5Uio1KARUcFbTD2u1lxV2UsHP3bznnqlZi+7NJzMIjRGFgC5E/uz5gPWIEGlDF/7OeHzeEtHpX5vIHUG8mPg+00prze0Xfsi64/YtaEN9+v3jzwhfaLCIZvBi8jNGCBkM0Kyh0Z1J/zvusaUhQujT8wMv3BAQRhwCWik38nGSSL099CMlJKCVzk8KMlwLWCw6nX4/r1KpLr1IvzMaPVjE2Yt0HFDQZm02s2Y9fpX8ujwf6CdC6A/xUF/Vr79BEZ4gDtEaa41RqakQZjP4UFdfb+tZgO55u4kSAAFOQGnyK1+F4PV4TCiEMNPAMtGZxkxnGiB4vb/McHcC/Z0WShgABBCUmpdTXNCERACBCKGwM6nbyTLZenZ6nY1/3Bid7QQn+gSCFQgazStTQZMLhYjFkklBiO4VIWxACPf2Lv52c5EJISwTEIye90xYRHKLkBFEa4ejrgkQPWS4bHQP3pr7lcUrEPzEib0gtcf0CA5BhLhMShMjONjoB8MlGf0sf/7+M8Qrz3wAJ4zG4HNAaEAhaLzS4bLF7EhQIWzenjAhEKmv/LTAs2VaIbhcDWgECEF8AK0JoZ4IAavkDlCpL12fplIfYMvkASEebWhDIYTCQXIukaBTPhWCEmi8Ti/AxAEE4oNAQCKgDdlDrPjRjACEM8yEYBnBA2GMCUEIIERD2/soxLskrbvJMoHUjOAUhIgwAokmJSDACUIgTpxGIT5hTghCsIyAcB0Sci6dEUSIYHqZ2s6jEF+k09qRoGnN4jUQsEQirHCoWVrvBSeCJJr2AWIG9whz2JBVX3uYEEOAEIrfbqFwQLwGYZlcAGg7hX0Qu9vNpGbLRAnp4sfT4mdlBCYEED4/hn6cXDJA0tF43emkTlCpWRsShDBmhNh36lgOD8VXl756e+W5FzKin8brIRqvQuGgBFfDN6fPz+RfUOQRecT/DSHBC20JXsuLvrlQI8UWiQQbPRJsV0mw6SbB1qEUG6ASbONKsRktwZa6FAcDpDjeIMEhDSmOmkhxYEaSYz9SHF5KH8Gq/m9HsKpXHcH6C3UZwOuiHHFJAAAAAElFTkSuQmCC"},d3de:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page divLiveCourse"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showCourseware,expression:"showCourseware"}],staticClass:"divCourseWare"},[null==e.course.courseSource?r("div",{staticClass:"divEmptyData"},[e._v("当前没有上传课件。")]):e._e(),3==e.sourceType||4==e.sourceType?r("van-swipe",{ref:"swipe",attrs:{loop:!0},on:{change:e.onChange}},[e._l(e.sourceURL,(function(t,o){return r("van-swipe-item",{key:o},[r("van-image",{staticClass:"vanImage",attrs:{fit:"contain","lazy-load":"",src:t},scopedSlots:e._u([{key:"loading",fn:function(){return[r("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[r("img",{attrs:{src:n("3d12")}})]},proxy:!0}],null,!0)})],1)})),r("div",{staticClass:"customIndicator",attrs:{slot:"indicator"},slot:"indicator"},[e._v("\n        "+e._s(e.current+1)+"/"+e._s(e.sourceURL.length)+"\n      ")])],2):e._e(),1==e.sourceType||2==e.sourceType?r("div",{staticClass:"divVideo"},[r("video",{staticClass:"video",attrs:{id:"videoEl",preload:"",autoplay:"",playsinline:"isiPhoneShowPlaysinline","x5-video-player-type":"h5-page","t7-video-player-type":"inline","webkit-playsinline":"isiPhoneShowPlaysinline","x-webkit-airplay":"allow"},on:{play:e.playEvent,pause:e.pauseEvent,canplay:e.canplayEvent,loadedmetadata:e.onLoadedMetaData,timeupdate:e.onTimeUpdate,ended:e.onEnded}}),r("div",{staticClass:"divPlayContext",on:{click:e.videoPause}},[e.showPlayStatus?r("img",{staticClass:"imgPlay",attrs:{src:"playing"==e.playStatus?n("233d"):n("af46")}}):e._e(),2==e.sourceType&&0==e.showPlayStatus?r("div",{staticClass:"divAdvisory"},[r("div",{staticClass:"divTip"},[e._v("音频播放")])]):e._e()]),r("div",{staticClass:"divControl"},[r("div",{staticClass:"divScroll"},[r("label",[e._v(e._s(e.currentTimer))]),r("van-slider",{staticClass:"divSlider",style:{marginTop:"WeChat"==this.browserType?"-2px":"3px"},attrs:{max:e.sliderMax,"bar-height":"4px","active-color":"rgb(245,110,137)","inactive-color":"rgb(216,216,216)"},on:{"drag-start":e.sliderDragStart,"drag-end":e.sliderDragEnd,change:e.sliderChange},model:{value:e.sliderValue,callback:function(t){e.sliderValue=t},expression:"sliderValue"}}),null!=e.course.courseSource?r("label",[e._v(e._s(e._f("formatDuration")(e.course.courseSource.duration)))]):e._e(),null==e.course.courseSource?r("label",[e._v("00:00")]):e._e()],1),r("div",{staticClass:"divNumberRate",on:{click:e.setPlaybackRate}},[e._v(e._s(e._f("playbackRate")(e.playbackRate)))]),1==e.sourceType&&"WeChat"!=e.browserType?r("div",{staticClass:"divFullScreen",on:{click:e.requestFullscreen}},[r("img",{staticClass:"imgFullScreen",attrs:{src:n("2211")}})]):e._e()])]):e._e()],1),r("div",{staticClass:"divBase"},[r("div",{staticClass:"divText"},[r("div",{staticClass:"divName"},[e._v(e._s(e.course.name))]),r("div",{staticClass:"divNumber"},[e._v(e._s(e.course.studyNum+e.memberCount)+" 次学习"+e._s(e.course.isEnd?"·直播回看":""))])]),r("div",{staticClass:"divFlag"},[3!=e.sourceType?r("img",{staticClass:"imgType",attrs:{src:1==e.showCourseware?n("315f"):n("7611")},on:{click:e.showCoursewareFn}}):e._e(),3==e.sourceType?r("img",{staticClass:"imgType",attrs:{src:1==e.showCourseware?n("a598"):n("28e8")},on:{click:e.showCoursewareFn}}):e._e(),r("img",{staticClass:"imgBarrage",attrs:{src:1==e.showBarrage?n("a08a"):n("e3eb")},on:{click:e.showBarrageFn}})])]),r("div",{staticClass:"divChat",style:{height:e.scrollHeight1},attrs:{id:"divChat"},on:{scroll:e.scrollChatFn}},[e.liveStart?r("div",{staticClass:"divTip"},[e._v("直播开始")]):e._e(),e._l(e.contentList,(function(t,o){return r("div",{key:"divItem_"+o},["voice"==t.type?r("div",{staticClass:"divItem"},[r("van-image",{staticClass:"imgAvatar",attrs:{src:t.avatar,"lazy-load":""},scopedSlots:e._u([{key:"loading",fn:function(){return[r("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[r("img",{staticClass:"imgAvatar",attrs:{src:n("dc5a")}})]},proxy:!0}],null,!0)}),r("div",{staticClass:"divContent"},[r("div",{staticClass:"divName"},[e._v("\n            "+e._s(t.username)+"\n            "),"expert"==t.role?r("div",{staticClass:"divExpert"},[e._v("专家")]):e._e(),"compere"==t.role?r("div",{staticClass:"divCompere"},[e._v("主持人")]):e._e()]),r("div",{staticClass:"divContext"},[r("img",{staticClass:"imgLeft",attrs:{src:n("fa5d")}}),r("div",{staticClass:"divPlay"},[r("img",{staticClass:"imgPlay",attrs:{src:"stop"==t.playStatus?n("3ca9"):n("9241")},on:{click:function(n){return e.playAudio(t)}}}),r("van-progress",{staticClass:"vueProgress",attrs:{percentage:t.percentage,"show-pivot":!1,"stroke-width":3,color:"#FFF"}}),r("label",{staticClass:"lblTimer"},[e._v(e._s(e._f("formatTime")(t.duration)))])],1),e._e(),e._e()])])],1):e._e(),"video"==t.type?r("div",{staticClass:"divItem"},[r("van-image",{staticClass:"imgAvatar",attrs:{src:t.avatar,"lazy-load":""},scopedSlots:e._u([{key:"loading",fn:function(){return[r("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[r("img",{staticClass:"imgAvatar",attrs:{src:n("dc5a")}})]},proxy:!0}],null,!0)}),r("div",{staticClass:"divContent"},[r("div",{staticClass:"divName"},[e._v("\n            "+e._s(t.username)+"\n            "),"expert"==t.role?r("div",{staticClass:"divExpert"},[e._v("专家")]):e._e(),"compere"==t.role?r("div",{staticClass:"divCompere"},[e._v("主持人")]):e._e()]),r("div",{staticClass:"divContext"},[r("img",{staticClass:"imgLeft",attrs:{src:n("fa5d")}}),r("div",{staticClass:"divText1"},[r("video",{staticClass:"imgMsg videoClass",attrs:{src:t.content,playsinline:"isiPhoneShowPlaysinline","x5-video-player-type":"h5-page","t7-video-player-type":"inline","webkit-playsinline":"isiPhoneShowPlaysinline","x-webkit-airplay":"allow",controls:"controls",preload:""},on:{play:e.itemPlayEvent}})])])])],1):e._e(),"img"==t.type?r("div",{staticClass:"divItem"},[r("van-image",{staticClass:"imgAvatar",attrs:{src:t.avatar,"lazy-load":""},scopedSlots:e._u([{key:"loading",fn:function(){return[r("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[r("img",{staticClass:"imgAvatar",attrs:{src:n("dc5a")}})]},proxy:!0}],null,!0)}),r("div",{staticClass:"divContent"},[r("div",{staticClass:"divName"},[e._v("\n            "+e._s(t.username)+"\n            "),"expert"==t.role?r("div",{staticClass:"divExpert"},[e._v("专家")]):e._e(),"compere"==t.role?r("div",{staticClass:"divCompere"},[e._v("主持人")]):e._e()]),r("div",{staticClass:"divContext"},[r("img",{staticClass:"imgLeft",attrs:{src:n("fa5d")}}),r("div",{staticClass:"divText1"},[r("img",{staticClass:"imgMsg",attrs:{src:t.content}})])])])],1):e._e(),"txt"==t.type?r("div",{staticClass:"divItem"},[r("van-image",{staticClass:"imgAvatar",attrs:{src:t.avatar,"lazy-load":""},scopedSlots:e._u([{key:"loading",fn:function(){return[r("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[r("img",{staticClass:"imgAvatar",attrs:{src:n("dc5a")}})]},proxy:!0}],null,!0)}),r("div",{staticClass:"divContent"},[r("div",{staticClass:"divName"},[e._v("\n            "+e._s(t.username)+"\n            "),"expert"==t.role?r("div",{staticClass:"divExpert"},[e._v("专家")]):e._e(),"compere"==t.role?r("div",{staticClass:"divCompere"},[e._v("主持人")]):e._e()]),r("div",{staticClass:"divContext"},[r("img",{staticClass:"imgLeft",attrs:{src:n("fa5d")}}),r("div",{staticClass:"divText"},[e._v(e._s(t.content))])])])],1):e._e(),"qna"==t.type?r("div",{staticClass:"divItem"},[r("van-image",{staticClass:"imgAvatar",attrs:{src:t.avatar,"lazy-load":""},scopedSlots:e._u([{key:"loading",fn:function(){return[r("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[r("img",{staticClass:"imgAvatar",attrs:{src:n("dc5a")}})]},proxy:!0}],null,!0)}),r("div",{staticClass:"divContent"},[r("div",{staticClass:"divName"},[e._v("\n            "+e._s(t.username)+"\n            "),"expert"==t.role?r("div",{staticClass:"divExpert"},[e._v("专家")]):e._e(),"compere"==t.role?r("div",{staticClass:"divCompere"},[e._v("主持人")]):e._e()]),r("div",{staticClass:"divContext"},[r("img",{staticClass:"imgLeft",attrs:{src:n("fa5d")}}),r("div",{staticClass:"divText"},[e._v("\n              @"+e._s(t.question.username)+"\n              "),r("div",[e._v(e._s("问："+t.question.content))]),r("div",{staticClass:"divSplitline"}),e._v("\n              "+e._s(t.content)+"\n            ")]),e._e()])])],1):e._e()])})),e.liveEnd?r("div",{staticClass:"divTip"},[e._v("直播结束")]):e._e()],2),e.showBarrage?r("div",{staticClass:"divReplys",style:{bottom:e.replysBottom,maxHeight:e.scrollHeight2},attrs:{id:"divReplys"}},e._l(e.groupChatList,(function(t,o){return r("div",{key:"group_"+o,staticClass:"divFlex"},[r("div",{staticClass:"divItem"},[r("div",{staticClass:"divTxt"},[e._v(e._s(t.content))]),r("van-image",{staticClass:"imgAvatar",attrs:{src:t.avatar,"lazy-load":""},scopedSlots:e._u([{key:"loading",fn:function(){return[r("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[r("img",{staticClass:"imgAvatar",attrs:{src:n("dc5a")}})]},proxy:!0}],null,!0)})],1)])})),0):e._e(),e.showScrollTop?r("div",{staticClass:"divPlayPositioning",style:{bottom:e.positioningBottom},on:{click:e.scrollTop}},[e._v("当前播放位置")]):e._e(),0==e.isLecturer&&0==e.liveEnd?r("div",{staticClass:"divBottom"},[r("div",{staticClass:"divComment"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"iptComment",attrs:{placeholder:"输入评论内容或提问"},domProps:{value:e.content},on:{keydown:e.keydown,blur:e.onBlur,input:function(t){t.target.composing||(e.content=t.target.value)}}}),r("van-checkbox",{staticClass:"vanRadio",scopedSlots:e._u([{key:"icon",fn:function(t){return r("img",{staticStyle:{width:"12px"},attrs:{src:t.checked?e.activeIcon:e.inactiveIcon}})}}],null,!1,3595517031),model:{value:e.question,callback:function(t){e.question=t},expression:"question"}},[r("label",{staticClass:"label"},[e._v("提问")])])],1),r("div",{staticClass:"divButton"},[r("img",{staticClass:"imgMsg",attrs:{src:n("fb68")},on:{click:e.showQuestionFn}}),r("div",{staticClass:"divFavorites",on:{click:e.btnFavorites}},[1==e.course.isLike?r("img",{staticClass:"imgFavorites",attrs:{src:n("527d")}}):e._e(),0==e.course.isLike?r("img",{staticClass:"imgFavorites",attrs:{src:n("9d7d")}}):e._e(),r("span",{class:e.course.isLike?"spanRed":"spanGray"},[e._v("收藏")])])])]):e._e(),1==e.isLecturer&&0==e.liveEnd?r("div",{staticClass:"divBottom1"},[r("div",{staticClass:"divFlex"},[r("div",{class:1==e.tabIndex?"divItemSelect":"divItem",on:{click:function(t){return e.itemTabFn(1)}}},[e._v("语音")]),r("div",{class:2==e.tabIndex?"divItemSelect":"divItem",on:{click:function(t){return e.itemTabFn(2)}}},[e._v("文字")]),r("div",{class:3==e.tabIndex?"divItemSelect":"divItem",on:{click:function(t){return e.itemTabFn(3)}}},[e._v("多媒体")]),"expert"==e.course.role?r("div",{class:4==e.tabIndex?"divItemSelect":"divItem",on:{click:function(t){return e.itemTabFn(4)}}},[e._v("讨论")]):e._e()]),1==e.tabIndex?r("div",{staticClass:"divRecord"},["Play"!=e.recordState?r("div",{staticClass:"divSpeak"},["Start"==e.recordState?r("div",{staticClass:"imgSpeakGeneral",on:{click:e.startRecord}}):e._e(),"Stop"==e.recordState?r("div",{staticClass:"imgSpeakPress",on:{click:e.stopRecord}},["Stop"==e.recordState?r("van-circle",{staticClass:"divCircle",attrs:{size:e.pxToRem(85),color:{"0%":"#FF90AC","100%":"#F46782"},"layer-color":"rgba(0,0,0,0)",fill:"rgba(0,0,0,0)",rate:0,"stroke-width":40,speed:100,"stroke-linecap":"butt"},model:{value:e.currentRate,callback:function(t){e.currentRate=t},expression:"currentRate"}}):e._e()],1):e._e(),r("label",{class:"Start"==e.recordState?"lblInfo":"lblInfoRecord"},[e._v(e._s(e.txtVoice))])]):e._e(),"Play"==e.recordState?r("div",{staticClass:"divControl"},[r("img",{staticClass:"imgRevoke",attrs:{src:n("f438")},on:{click:e.revokeFn}}),r("img",{staticClass:"imgPlay",attrs:{src:"Play"==e.recordPlayStatus?n("7b00"):n("e7b3")},on:{click:e.playVoice}}),r("img",{staticClass:"imgSend",attrs:{src:n("21c3")},on:{click:e.sendVoice}})]):e._e()]):e._e(),2==e.tabIndex?r("div",{staticClass:"divText"},[r("div",{staticClass:"divReply"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturerContent,expression:"lecturerContent"}],staticClass:"iptText",attrs:{placeholder:"请输入评论内容..."},domProps:{value:e.lecturerContent},on:{keydown:e.keydownLecturer,blur:e.onBlur,input:function(t){t.target.composing||(e.lecturerContent=t.target.value)}}})])]):e._e(),3==e.tabIndex?r("div",{staticClass:"divMedia"},[r("div",{staticClass:"divFileFlex"},[r("img",{staticClass:"imgImage",attrs:{src:n("d0cc")}}),r("input",{attrs:{type:"file",name:"pic",accept:"image/*"},on:{change:e.fileChange}})]),r("div",{staticClass:"divFileFlex"},[r("img",{staticClass:"imgVideo",attrs:{src:n("4bc5")}}),r("input",{attrs:{type:"file",name:"pic",accept:"video/mp4"},on:{change:e.fileChange}})])]):e._e()]):e._e(),1==e.liveEnd?r("div",{staticClass:"divBottom1"},[r("div",{staticStyle:{"background-color":"#efefef","font-size":"14px",color:"#a7a7a7",display:"flex","align-items":"center","justify-content":"center",height:"48px"}},[e._v("直播已结束")])]):e._e(),r("van-popup",{style:{height:"73%"},attrs:{position:"bottom"},model:{value:e.showQuestion,callback:function(t){e.showQuestion=t},expression:"showQuestion"}},[r("vue-question-list",{ref:"question",attrs:{course:e.course,proQuestion:e.question,isLecturer:e.isLecturer,proContent:e.content},on:{showOnTheWall:e.showOnTheWallFn,setQuestion:e.setQuestion,closeWindows:e.closeQuestion,setGroupMuted:e.setGroupMuted}})],1),r("van-dialog",{attrs:{title:"上墙","confirm-button-color":"#FF6B88","cancel-button-color":"#999999","show-cancel-button":""},on:{confirm:e.sendOnWall},model:{value:e.showOnTheWall,callback:function(t){e.showOnTheWall=t},expression:"showOnTheWall"}},[r("div",{staticClass:"divOnTheWall"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textarea,expression:"textarea"}],staticClass:"textarea",attrs:{placeholder:"点击确定后，回复内容会同步到直播主屏，回复内容不可以为空。"},domProps:{value:e.textarea},on:{input:function(t){t.target.composing||(e.textarea=t.target.value)}}})])]),r("van-overlay",{attrs:{show:e.showOverlay}},[r("div",{staticClass:"wrapper",style:{height:e.height}},[r("van-loading",{attrs:{size:"24px",vertical:"",color:"#FFF"}},[r("font",{attrs:{color:"#FFF"}},[e._v(e._s(e.maskLoading))])],1)],1)]),r("van-overlay",{attrs:{show:e.showContract,"z-index":15}},[r("vue-contract",{on:{closeContract:e.closeContract}})],1),r("audio",{staticStyle:{display:"none"},attrs:{id:"audio"}})],1)},o=[],i=(n("e17f"),n("2241")),a=(n("e7e5"),n("d399")),s=(n("7f7f"),n("4917"),n("6762"),n("2fdb"),n("ed08")),u=n("5724"),c=function(e){return u["a"].get("/api/client/room/",e)},l=function(e){return u["a"].post("/api/im/login/",e)},p=function(e){return u["a"].get("/api/client/getJsSdk/",e)},f=function(e){return u["a"].post("/api/client/likeRoom/",e)},h=function(e){return u["a"].delete("/api/client/likeRoom/",e)},d=function(e){return u["a"].get("/api/client/chatsHistory/",e)},m=function(e){return u["a"].get("/api/client/getFile/",e)},g=function(e){return u["a"].put("/api/client/delChat/",e)},y=function(e){return u["a"].put("/api/client/putWall/",e)},v=function(e){return u["a"].get("/api/client/roomMsg/",e)},_=function(e){return u["a"].get("/api/client/queryStatus/",e)},b=n("e23e"),E=n.n(b),S={SDKAppID:1400304449},A=E.a.create(S);A.setLogLevel(1),A.on(E.a.EVENT.SDK_READY,(function(e){console.log("TIM 登录成功");var t=setTimeout((function(){M(window.that.course.groupId),clearTimeout(t)}),1e3)})),A.on(E.a.EVENT.MESSAGE_RECEIVED,(function(e){var t=JSON.parse(e.data[0].payload.data);if("expert"==t.role||"compere"==t.role){if("ppt-pos"==t.type&&("normal"==window.that.course.role||"inviter"==window.that.course.role))return void window.that.$refs.swipe.swipeTo(t.content);if("ended"==t.type)return window.that.liveEnd=!0,void Object(i["a"])({message:"直播已结束"});window.that.contentList.push(t),"txt"==t.type&&(window.that.lecturerContent="");var n=setTimeout((function(){document.getElementById("divChat").scrollTop=document.getElementById("divChat").scrollHeight,clearTimeout(n)}),200)}else if("normal"==t.role||"inviter"==t.role){window.that.groupChatList.push(t),window.that.content="";n=setTimeout((function(){document.getElementById("divReplys").scrollTop=document.getElementById("divReplys").scrollHeight,clearTimeout(n)}),200)}})),A.on(E.a.EVENT.CONVERSATION_LIST_UPDATED,(function(e){})),A.on(E.a.EVENT.GROUP_LIST_UPDATED,(function(e){})),A.on(E.a.EVENT.GROUP_SYSTEM_NOTICE_RECEIVED,(function(e){})),A.on(E.a.EVENT.PROFILE_UPDATED,(function(e){})),A.on(E.a.EVENT.BLACKLIST_UPDATED,(function(e){})),A.on(E.a.EVENT.ERROR,(function(e){})),A.on(E.a.EVENT.SDK_NOT_READY,(function(e){console.log("TIM 退出聊天系统")})),A.on(E.a.EVENT.KICKED_OUT,(function(e){Object(i["a"])({message:"你已在其它地方登录，确定退出直播间。"}).then((function(){location.href="/login"}))}));var I=function(e,t){A.login(e).then((function(e){window.that=t,t.maskLoading="消息列表，稍等...","normal"==t.course.role&&C(t.course.groupId,t)})).catch((function(e){t.showOverlay=!1,Object(i["a"])({message:"TIM 登录失败。"})}))},w=function(e,t){A.quitGroup(e).then((function(e){console.log("TIM 退群成功"),A.logout()})).catch((function(e){console.warn("TIM 退群失败")}))},T=function(){A.logout()},C=function(e,t){A.joinGroup({groupID:e,type:E.a.TYPES.GRP_AVCHATROOM}).then((function(e){switch(e.data.status){case E.a.TYPES.JOIN_STATUS_WAIT_APPROVAL:console.log("TIM 等待管理员同意");break;case E.a.TYPES.JOIN_STATUS_SUCCESS:console.log("TIM 加入群（"+e.data.group.groupID+"）");break;case E.a.TYPES.JOIN_STATUS_ALREADY_IN_GROUP:console.log("TIM 已经在群中");break;default:break}})).catch((function(e){console.warn("TIM 加入群失败")}))},O=function(e,t,n,r){var o=A.createCustomMessage({to:e,conversationType:E.a.TYPES.CONV_GROUP,payload:{data:n,description:"H5 分销",extension:t}});A.sendMessage(o).then((function(e){var t=JSON.parse(e.data.message.payload.data);if("expert"==t.role||"compere"==t.role){if("txt"==t.type)r.lecturerContent="",void 0!=r.$refs.question&&(r.$refs.question.content="",r.showQuestion=!1);else if("qna"==t.type)r.textarea="",r.objQuestion={},r.showOnTheWall=!1,y({uuid:t.question.from_uid,msgTime:t.question.msg_time}).then((function(e){200==e.code&&(r.$refs.question.initiData(),Object(a["a"])("上墙成功"))}));else if("voice"==t.type)wx.pauseVoice({localId:r.localId}),r.currentRate=0,r.recordPlayStatus="Play",r.txtVoice="轻触点击录音",r.timerTick=60,r.localId="",r.recordState="Start",r.recordPlayStatus="Play",r.showOverlay=!1;else if("ppt-pos"==t.type)return void(r.showOverlay=!1);r.contentList.push(t);var n=setTimeout((function(){document.getElementById("divChat").scrollTop=document.getElementById("divChat").scrollHeight,clearTimeout(n)}),200)}else if("normal"==t.role||"inviter"==t.role){r.groupChatList.push(t),r.content="",void 0!=r.$refs.question&&(r.$refs.question.content="",r.showQuestion=!1);n=setTimeout((function(){document.getElementById("divReplys").scrollTop=document.getElementById("divReplys").scrollHeight,clearTimeout(n)}),200)}r.showOverlay=!1})).catch((function(e){10017==e.code?Object(a["a"])("你已被禁言，联系管理员。"):Object(a["a"])("消息发送失败")}))};function M(e,t){var n={conversationID:"GROUP"+e,count:800};window.that.liveStart=!0,void 0!=t&&(n.nextReqMessageID=t),A.getMessageList(n).then((function(e){for(var t=e.data.messageList,n=0;n<t.length;n++)try{var r=JSON.parse(t[n].payload.data);if("ppt-pos"==r.type)continue;"expert"==r.role||"compere"==r.role?("voice"==r.type&&(r.percentage=0,r.playStatus="stop"),that.contentList.push(r)):"inviter"!=r.role&&"normal"!=r.role||that.groupChatList.push(r)}catch(o){console.warn("错误数据格式："+t[n].payload.data)}window.that.showOverlay=!1,that.getGroupMemberList(),1==window.that.course.isEnd?(window.that.liveEnd=!0,i["a"].confirm({message:"直播已结束",confirmButtonText:"从头播放",cancelButtonText:"直接进入",confirmButtonColor:"#FF6B88",cancelButtonColor:"#999999"}).then((function(){})).catch((function(){var e=setTimeout((function(){document.getElementById("divChat").scrollTop=document.getElementById("divChat").scrollHeight,document.getElementById("divReplys").scrollTop=document.getElementById("divReplys").scrollHeight,clearTimeout(e)}),500)}))):0==window.that.course.isEnd&&i["a"].confirm({message:"正在直播中",confirmButtonText:"从头播放",cancelButtonText:"直接进入",confirmButtonColor:"#FF6B88",cancelButtonColor:"#999999"}).then((function(){})).catch((function(){var e=setTimeout((function(){document.getElementById("divChat").scrollTop=document.getElementById("divChat").scrollHeight,document.getElementById("divReplys").scrollTop=document.getElementById("divReplys").scrollHeight,clearTimeout(e)}),500)}))}))}var D=function(e,t,n,r){A.setGroupMemberMuteTime({groupID:e,userID:t,muteTime:n}).then((function(e){Object(a["a"])("禁言成功（10 分钟）")})).catch((function(e){Object(a["a"])("禁言失败")}))},N=function(e,t){A.getGroupMemberList({groupID:e,count:5e3,offset:0}).then((function(e){e.data.memberList.length-1<=0?t.memberCount=0:t.memberCount=e.data.memberList.length-1})).catch((function(e){console.log("getGroupMemberList:",e)}))},x=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),L=(n("a481"),n("bc3a")),P=n("9b15"),k=n.n(P);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(x["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,r=2097152,o=Math.ceil(t.size/r),i=0,s=new SparkMD5.ArrayBuffer,u=new FileReader;function c(){var e=i*r,o=e+r>=t.size?t.size:e+r;u.readAsArrayBuffer(n.call(t,e,o))}u.onload=function(n){s.append(n.target.result);var r=s.end();i++,i<o?c():L["get"]("".concat(GLOBAL.baseURL.IP2,"/api/manage/upload/status?MD5=").concat(r)).then((function(n){if(200==n.data.code){var o=n.data.data.mediaInfo;if(o.isExist)e.sendFileMsg(o.url,t);else{var i={accessKeyId:o.stsToken.credentials.accessKeyId,accessKeySecret:o.stsToken.credentials.accessKeySecret,stsToken:o.stsToken.credentials.securityToken,bucket:o.stsToken.bucket,region:o.stsToken.endPoint.replace(".aliyuncs.com","")},s=k()(G({},i,{secure:!0,useFetch:!0,timeout:36e5}));s.multipartUpload(F(t.name),t,{parallel:4,partSize:1048576,mime:t.type,progress:function(t,n,r){e.maskLoading="上传中，请稍后..."+parseInt(100*t)+" %"}}).then((function(n){if(1==n.res.requestUrls[0].includes("?uploadId")){var o={MD5:r,url:n.res.requestUrls[0].substr(0,n.res.requestUrls[0].indexOf("?uploadId"))};U(e,o,t)}else{o={MD5:r,url:n.res.requestUrls[0]};U(e,o,t)}})).catch((function(t){e.showOverlay=!1,Object(a["a"])("发送失败（文件上传问题）")}))}}else e.showOverlay=!1,Object(a["a"])("发送失败")})).catch((function(t){e.showOverlay=!1,Object(a["a"])("发送失败（文件效验问题）")}))},u.onerror=function(t){e.showOverlay=!1,Object(a["a"])("发送失败（文件读取失败）")},c()}function U(e,t,n){L["post"]("".concat(GLOBAL.baseURL.IP2,"/api/manage/upload/fileinfo"),t,{headers:{token:sessionStorage.getItem("token")}}).then((function(t){200==t.data.code?e.sendFileMsg(t.data.data.url,n):(e.showOverlay=!1,Object(a["a"])("发送失败"))})).catch((function(t){e.showOverlay=!1,Object(a["a"])("发送失败（文件记录失败）")}))}function F(e){var t=new Date,n=Math.floor(900*Math.random())+100,r="file"+t.getDay()+t.getHours()+t.getMinutes()+t.getSeconds()+t.getMilliseconds()+n,o=e.lastIndexOf("."),i=e.substr(o);return r+i}var q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"divQuestion"},[r("div",{staticClass:"divTitle"},[r("div",{staticClass:"divName"},[r("div",{staticClass:"divSquare"}),e._v("\n      "+e._s(e.isLecturer?"只看问题":"提问")+"\n    ")]),r("img",{staticClass:"imgDown",attrs:{src:n("8069")},on:{click:e.foldFn}})]),e.list.length<=0?r("div",{staticStyle:{"font-size":"14px",color:"#333",margin:"30px","text-align":"center"}},[e._v("暂无提问")]):e._e(),e.list.length>0?r("EasyRefresh",{style:{height:e.height},attrs:{userSelect:!1,loadMore:e.loadMoreFn,onRefresh:e.onRefreshFn},scopedSlots:e._u([{key:"header",fn:function(){return[r("ClassicsHeader",{attrs:{refreshText:"下拉刷新",refreshReadyText:"释放刷新",refreshingText:"正在刷新",refreshedText:"刷新完成",moreInfo:"更新于 %T",showMore:!0}})]},proxy:!0},{key:"scrollbar",fn:function(){return[r("ClassicsScrollBar",{attrs:{color:"rgba(0, 0, 0, 0.3)",bgColor:"transparent",width:"3",radius:"2"}})]},proxy:!0},{key:"footer",fn:function(){return[r("ClassicsFooter",{attrs:{loadText:"上拉加载",loadReadyText:"释放加载",loadingText:"正在加载",noMoreText:"没有更多数据",loadedText:"加载完成",moreInfo:"更新于 %T",showMore:"true"}})]},proxy:!0}],null,!1,625780025)},[r("div",{staticClass:"divItems",style:{height:e.height}},e._l(e.list,(function(t,o){return r("div",{key:"item_"+o,staticClass:"divItem"},[r("van-image",{staticClass:"imgAvatar",attrs:{src:t.content.avatar,"lazy-load":""},scopedSlots:e._u([{key:"loading",fn:function(){return[r("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[r("img",{staticClass:"imgAvatar",attrs:{src:n("dc5a")}})]},proxy:!0}],null,!0)}),r("div",{staticClass:"divContent"},[r("div",{staticClass:"divFlex"},[r("div",{staticClass:"divLeft"},[r("div",{staticClass:"divName"},[r("div",{staticClass:"divText"},[e._v(e._s(t.content.username))]),r("div",{staticClass:"divOperate"},[1==e.isLecturer?r("div",{staticClass:"divDelete",on:{click:function(n){return e.delComment(t.content.from_uid,t.content.msg_time)}}},[e._v("删除")]):e._e(),0==e.isLecturer&&t.content.from_uid==e.profileUUID?r("div",{staticClass:"divDelete",on:{click:function(n){return e.delComment(t.content.from_uid,t.content.msg_time)}}},[e._v("删除")]):e._e(),e.isLecturer?r("div",{staticClass:"divDelete",on:{click:function(n){return e.btnMuted(t.content.from_uid)}}},[e._v("禁言")]):e._e()])]),r("div",{staticClass:"divTimer"},[e._v(e._s(e._f("formatDateByFormat")(t.content.msg_time,"yyyy-MM-dd hh:mm:ss")))])]),e.isLecturer&&0==t.isWall?r("button",{staticClass:"btnRight",on:{click:function(n){return e.onTheWallFn(t.content)}}},[e._v("上墙")]):e._e(),e.isLecturer&&1==t.isWall?r("button",{staticClass:"btnRightDisable"},[e._v("已上墙")]):e._e()]),r("div",{staticClass:"divTxt"},[e._v(e._s(t.content.content))])])],1)})),0)]):e._e(),r("div",{staticClass:"divBottom"},[r("div",{staticClass:"divComment"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"iptComment",attrs:{placeholder:"输入评论内容或提问"},domProps:{value:e.content},on:{keydown:e.keydown,blur:e.onBlur,input:function(t){t.target.composing||(e.content=t.target.value)}}}),0==e.isLecturer?r("van-checkbox",{staticClass:"vanRadio",scopedSlots:e._u([{key:"icon",fn:function(t){return r("img",{staticStyle:{width:"12px"},attrs:{src:t.checked?e.activeIcon:e.inactiveIcon}})}}],null,!1,3595517031),model:{value:e.question,callback:function(t){e.question=t},expression:"question"}},[r("label",{staticClass:"label"},[e._v("提问")])]):e._e()],1),e.isLecturer?r("div",{staticClass:"divButton"},[r("img",{staticClass:"imgMsg",attrs:{src:n("fb68")},on:{click:e.showQuestionFn}}),r("div",{staticClass:"divFavorites",on:{click:e.btnFavorites}},[1==e.course.isLike?r("img",{staticClass:"imgFavorites",attrs:{src:n("527d")}}):e._e(),0==e.course.isLike?r("img",{staticClass:"imgFavorites",attrs:{src:n("9d7d")}}):e._e(),r("span",{class:e.course.isLike?"spanRed":"spanGray"},[e._v("收藏")])])]):e._e()])],1)},B=[];function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach((function(t){Object(x["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={name:"questionList",props:{course:{type:Object,default:{}},proQuestion:{type:Boolean,default:!1},proContent:{type:String,default:""},isLecturer:{type:Boolean,default:!1}},data:function(){return{height:parseInt(.73*window.innerHeight)-90+"px",activeIcon:n("4f1b"),inactiveIcon:n("0b17"),profileUUID:JSON.parse(sessionStorage.getItem("profile")).uuid,question:!1,content:"",list:[],total:0,currentPage:1}},methods:{onBlur:function(){var e=setTimeout((function(){var t=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(t-1,0)),clearTimeout(e)}),100)},foldFn:function(){this.$emit("closeWindows")},onRefreshFn:function(e){this.initiData(e)},loadMoreFn:function(e){if(this.list.length<this.total){var t=this;this.currentPage++,d({uuid:this.course.groupId,displayPos:"barrage",isQuestion:!0,page:this.currentPage}).then((function(n){if(200==n.code){for(var r=0;r<n.data.results.length;r++)n.data.results[r].content=JSON.parse(n.data.results[r].content);t.total=n.data.count,n.data.results.map((function(e,n){t.list.push(e)})),e(!1)}}))}else Object(a["a"])("没有数据"),e(!1)},sendMessage:function(e){var t={},n=JSON.parse(sessionStorage.getItem("profile")),r="",o="";null!=n.wechatInfo?(r=n.wechatInfo.avatar,o=n.wechatInfo.nickName):(r=n.avatar,o=n.nickName),"expert"==this.course.role||"compere"==this.course.role?t={avatar:r,username:o,role:this.course.role,type:"txt",content:e,duration:null,display:"live",from_uid:n.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId}:"inviter"!=this.course.role&&"normal"!=this.course.role||(t={avatar:r,username:o,role:this.course.role,type:"txt",isQuestion:this.question,content:e,display:"barrage",from_uid:n.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId}),"tencent"==this.course.platform&&O(this.course.groupId,"txbamaketang",JSON.stringify(t),window.that)},keydown:function(e){if(e||(e=window.event),13==e.keyCode){if(""==e.target.value.trim())return;this.sendMessage(e.target.value)}},showQuestionFn:function(){this.$emit("closeWindows")},btnFavorites:function(){var e=this;0==this.course.isLike?f({uuid:this.course.uuid}).then((function(t){200==t.code&&(e.course.isLike=!0,Object(a["a"])(t.msg))})):h({uuid:this.course.uuid}).then((function(t){200==t.code&&(e.course.isLike=!1,Object(a["a"])(t.msg))}))},setQuestion:function(e,t){this.question=e,this.content=t},delComment:function(e,t){var n=this;i["a"].confirm({message:"删除该评论？",confirmButtonColor:"#FF6B88"}).then((function(){var r=n;g({uuid:e,msgTime:t}).then((function(e){200==e.code&&(r.initiData(),Object(a["a"])("评论 删除 成功。"))}))}))},btnMuted:function(e){this.$emit("setGroupMuted",e)},onTheWallFn:function(e){this.$emit("showOnTheWall",!0,new Object(V({},e)))},initiData:function(e){var t=this;d({uuid:this.course.groupId,displayPos:"barrage",isQuestion:!0}).then((function(n){if(200==n.code){for(var r=0;r<n.data.results.length;r++)n.data.results[r].content=JSON.parse(n.data.results[r].content);t.list=n.data.results,t.total=n.data.count,t.currentPage=1,void 0!=e&&e()}}))}},mounted:function(){this.question=this.proQuestion,this.content=this.proContent,this.initiData()},watch:{question:function(e,t){this.$emit("setQuestion",e,this.content)},content:function(e,t){this.$emit("setQuestion",this.question,e)}}},z=H,Y=(n("2673"),n("2877")),K=Object(Y["a"])(z,q,B,!1,null,"4f78300a",null),X=K.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page divContract"},[n("div",{staticClass:"divScroll",style:{height:e.height}},[n("div",{staticClass:"divTitle"},[e._v("尊敬的专家：")]),n("div",{staticClass:"divItem"},[e._v("\n      迎您参与北京好呗呗网络科技有限公司（以下简称好呗呗）课程内容的录制，感谢您给予的大力协助！\n    ")]),n("div",{staticClass:"divItem"},[e._v("\n      基于本公司录制的课程内容承担着传播知识、社会教育、文化娱乐、母婴育儿服务等多种功能。为了使您参与的节目实现多种社会价值，我公司将课程内容进行录制、播出及保存的同时，还将进行其他形式的利用。同时，为了使课程宣传效果最大化，增强您个人品牌的打造，为此，请您在充分理解该宗旨的基础上，就您的个人肖像权、个人资料、课程内容的播出、使用予以事先确认并给予您的授权。正是因为有了您的参与及协助，才会使课程更加精彩！\n    ")]),n("div",{staticClass:"divItem"},[e._v("\n      第一条    好呗呗拥有专家参与合作内容的著作权和相关版权。包括在国内、外各地区以各种形式（包含但不限于音频、视频、图片、文字等），在各种渠道上刊登、传播或出版（包含付费平台）。\n    ")]),n("div",{staticClass:"divItem"},[e._v("\n      第二条    专家授权好呗呗使用其肖像权，用于合作内容的相关宣传(包含互联网平台及线下实体平台的宣传)。好呗呗拥有录制合作内容的制作权、发行权、传播权，将制作内容发布在自有平台及合作平台，并不再支付给专家其他费用。\n    ")]),n("div",{staticClass:"divItem"},[e._v("\n      第三条    好呗呗拥有录制合作内容的再创作权利，对合作内容进行整合，产生产品（包含但不限于音像制品、电子出版物）并实施销售。好呗呗可以自己出版，也可以转让第三方出版。\n    ")]),n("div",{staticClass:"divItem"},[e._v("\n      第四条    专家为好呗呗录制的课程内容，不得违反宪法和法律，不得损害公共利益。同时，好呗呗承诺专家相关内容的传播不得违反宪法和法律。\n    ")]),n("div",{staticClass:"divItem"},[e._v("\n      第五条    因上述权利的行使侵犯他人著作权及名誉权、署名权等人身权内容的，专家应承担全部责任并赔偿因此给好呗呗造成的经济损失。\n    ")]),n("div",{staticClass:"divItem"},[e._v("\n      第六条    未经好呗呗书面同意，专家不得将本课程的全部或一部分，或将其内容稍加修改后以原名或更换名称授权第三者出版、传播。若违反本规定，专家应承担全部责任并赔偿因此给好呗呗造成的经济损失。\n    ")]),n("div",{staticClass:"divItem"},[e._v("\n      第七条    合同的变更及其它未尽事宜，由双方另行商定。\n    ")])]),n("div",{staticClass:"divBottom"},[n("div",{staticClass:"divRefuse",on:{click:e.btnRefuse}},[e._v("不同意")]),n("div",{staticClass:"divAgree",on:{click:e.btnAgree}},[e._v("我同意")])])])},J=[],Q={name:"contract",props:{},data:function(){return{height:window.innerHeight-53+"px"}},methods:{btnRefuse:function(){Object(i["a"])({message:"必须同意协议，才能直播。"})},btnAgree:function(){this.$emit("closeContract")}}},ee=Q,te=(n("31d5"),Object(Y["a"])(ee,W,J,!1,null,"79e206cd",null)),ne=te.exports,re={name:"liveCourse",data:function(){return{pxToRem:s["b"],height:window.innerHeight+"px",scrollHeight1:window.innerHeight-(360+(1==navigator.userAgent.includes("iPhone")||1==navigator.userAgent.includes("iPad")?20:0))+"px",scrollHeight2:window.innerHeight-400+"px",replysBottom:"47px",positioningBottom:"55px",showBarrage:!0,showCourseware:!0,showScrollTop:!1,showOverlay:!1,maskLoading:"加载中...",showQuestion:!1,course:{isLike:!1},sourceType:0,sourceURL:"",activeIcon:n("4f1b"),inactiveIcon:n("0b17"),question:!1,content:"",current:0,showPlayStatus:!0,sliderValue:0,sliderMax:1,playbackRate:1,currentTimer:"00:00",playStatus:"playing",browserType:!1,dragStatus:"stop",isLecturer:!1,tabIndex:0,currentRate:0,lecturerContent:"",showOnTheWall:!1,textarea:"",objQuestion:{},contentList:[],groupChatList:[],liveStart:!1,liveEnd:!1,recordState:"Start",recordPlayStatus:"Play",txtVoice:"轻触点击录音",timerTick:60,localId:"",isWeChat:!1,showContract:!1,expert:{},memberCount:0,interval:0}},components:{"vue-question-list":X,"vue-contract":ne},beforeRouteEnter:function(e,t,n){var r=navigator.userAgent,o=!!r.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);o&&e.path!==location.pathname?location.assign(e.fullPath):n()},methods:{onBlur:function(){var e=setTimeout((function(){var t=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(t-1,0)),clearTimeout(e)}),100)},getGroupMemberList:function(){var e=this;this.interval=setInterval((function(){N(e.course.groupId,e)}),1500)},onChange:function(e){if(this.current=e,1!=this.liveEnd&&"expert"==this.course.role){var t={avatar:this.expert.avatar,username:this.expert.name,role:this.course.role,type:"ppt-pos",content:e,from_uid:this.expert.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId};"tencent"==this.course.platform&&O(this.course.groupId,"txbamaketang",JSON.stringify(t),this)}},isWeChatAndQQ:function(){var e=navigator.userAgent.toLowerCase();"micromessenger"!=e.match(/MicroMessenger/i)?this.browserType="Browser":this.browserType="WeChat"},showOnTheWallFn:function(e,t){this.showOnTheWall=e,this.objQuestion=t},setQuestion:function(e,t){this.question=e,this.content=t},showQuestionFn:function(){this.showQuestion=!0,void 0!=this.$refs.question&&this.$refs.question.initiData()},showBarrageFn:function(){1==this.showBarrage?this.showBarrage=!1:this.showBarrage=!0},showCoursewareFn:function(){var e=0;1!=navigator.userAgent.includes("iPhone")&&1!=navigator.userAgent.includes("iPad")||(e=20),1==this.showCourseware?(this.showCourseware=!1,this.scrollHeight1=window.innerHeight-(122+e)+"px",this.scrollHeight2=window.innerHeight-350+"px"):(this.showCourseware=!0,this.scrollHeight1=window.innerHeight-(360+e)+"px",this.scrollHeight2=window.innerHeight-400+"px"),this.adaptive()},scrollTop:function(){this.showScrollTop=!1,document.getElementById("divChat").scrollTop=document.getElementById("divChat").scrollHeight},scrollChatFn:function(e){var t=document.getElementById("divChat").clientHeight,n=e.target.scrollHeight,r=e.target.scrollTop;this.showScrollTop=!(r+t>=n-20)},closeQuestion:function(){this.showQuestion=!1,1==this.isLecturer&&4==this.tabIndex&&(this.tabIndex=0)},btnFavorites:function(){var e=this;0==this.course.isLike?f({uuid:this.course.uuid}).then((function(t){200==t.code&&(e.course.isLike=!0,Object(a["a"])(t.msg))})):h({uuid:this.course.uuid}).then((function(t){200==t.code&&(e.course.isLike=!1,Object(a["a"])(t.msg))}))},sendMessage:function(e){var t={},n=JSON.parse(sessionStorage.getItem("profile")),r="",o="";null!=n.wechatInfo?(r=n.wechatInfo.avatar,o=n.wechatInfo.nickName):(r=n.avatar,o=n.nickName),"expert"==this.course.role?t={avatar:this.expert.avatar,username:this.expert.name,role:this.course.role,type:"txt",content:e,duration:null,display:"live",from_uid:this.expert.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId}:"compere"==this.course.role?t={avatar:r,username:o,role:this.course.role,type:"txt",content:e,duration:null,display:"live",from_uid:n.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId}:"inviter"!=this.course.role&&"normal"!=this.course.role||(t={avatar:r,username:o,role:this.course.role,type:"txt",isQuestion:this.question,content:e,display:"barrage",from_uid:n.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId}),"tencent"==this.course.platform&&O(this.course.groupId,"txbamaketang",JSON.stringify(t),this)},keydown:function(e){if(e||(e=window.event),13==e.keyCode){if(""==e.target.value.trim())return;this.sendMessage(e.target.value)}},keydownLecturer:function(e){if(e||(e=window.event),13==e.keyCode){if(""==e.target.value.trim())return;this.sendMessage(e.target.value)}},requestFullscreen:function(){"WeChat"==this.browserType?document.getElementById("videoEl").webkitRequestFullscreen():document.getElementById("videoEl").requestFullscreen()},setPlaybackRate:function(){switch(this.playbackRate){case 1:this.playbackRate=1.5,document.getElementById("videoEl").playbackRate=this.playbackRate;break;case 1.5:this.playbackRate=2,document.getElementById("videoEl").playbackRate=this.playbackRate;break;case 2:this.playbackRate=.8,document.getElementById("videoEl").playbackRate=this.playbackRate;break;case.8:this.playbackRate=1,document.getElementById("videoEl").playbackRate=this.playbackRate;break;default:break}},videoPause:function(){"pause"==this.playStatus?document.getElementById("videoEl").pause():(this.stopVoice(1),document.getElementById("videoEl").play())},onLoadedMetaData:function(e){this.sliderMax=parseInt(100*e.currentTarget.duration),parseInt(100*e.currentTarget.duration)<=0&&(this.sliderMax=100*this.course.courseSource.duration),this.currentTimer="00:00",this.sliderValue=0},onTimeUpdate:function(e){this.currentTimer=Object(s["a"])(e.currentTarget.currentTime),"stop"==this.dragStatus&&(this.sliderValue=parseInt(100*e.currentTarget.currentTime))},onEnded:function(e){e.currentTarget.pause(),this.currentTimer="00:00",this.sliderValue=0,this.playStatus="playing"},sliderChange:function(e){document.getElementById("videoEl").currentTime=e/100;var t=this;document.getElementById("videoEl").play(),this.playStatus="pause";var n=setTimeout((function(){clearTimeout(n),t.showPlayStatus=!1}),500)},sliderDragStart:function(){this.dragStatus="droping"},sliderDragEnd:function(){this.dragStatus="stop"},playEvent:function(){this.playStatus="pause";var e=this;if("WeChat"==this.browserType)this.showPlayStatus=!1;else var t=setTimeout((function(){clearTimeout(t),e.showPlayStatus=!1}),200)},pauseEvent:function(){this.showPlayStatus=!0,this.playStatus="playing"},canplayEvent:function(e){document.getElementById("videoEl").play()},adaptive:function(){var e=0;switch(1!=navigator.userAgent.includes("iPhone")&&1!=navigator.userAgent.includes("iPad")||(e=20),this.tabIndex){case 0:1==this.showCourseware?(this.scrollHeight1=window.innerHeight-(360+e)+"px",this.scrollHeight2=window.innerHeight-400+"px"):(this.scrollHeight1=window.innerHeight-(122+e)+"px",this.scrollHeight2=window.innerHeight-350+"px"),this.replysBottom="47px",this.positioningBottom="55px";break;case 1:1==this.showCourseware?(this.scrollHeight1=window.innerHeight-(541+e)+"px",this.scrollHeight2=window.innerHeight-581+"px"):(this.scrollHeight1=window.innerHeight-(303+e)+"px",this.scrollHeight2=window.innerHeight-411+"px"),this.replysBottom="228px",this.positioningBottom="236px";break;case 2:1==this.showCourseware?(this.scrollHeight1=window.innerHeight-(421+e)+"px",this.scrollHeight2=window.innerHeight-461+"px"):(this.scrollHeight1=window.innerHeight-(183+e)+"px",this.scrollHeight2=window.innerHeight-280+"px"),this.replysBottom="108px",this.positioningBottom="116px";break;case 3:1==this.showCourseware?(this.scrollHeight1=window.innerHeight-(463+e)+"px",this.scrollHeight2=window.innerHeight-503+"px"):(this.scrollHeight1=window.innerHeight-(225+e)+"px",this.scrollHeight2=window.innerHeight-322+"px"),this.replysBottom="150px",this.positioningBottom="158px";break;case 4:1==this.showCourseware?(this.scrollHeight1=window.innerHeight-(360+e)+"px",this.scrollHeight2=window.innerHeight-400+"px"):(this.scrollHeight1=window.innerHeight-(122+e)+"px",this.scrollHeight2=window.innerHeight-350+"px"),this.replysBottom="47px",this.positioningBottom="55px";break}},itemTabFn:function(e){1!=e||0!=this.isWeChat?(this.tabIndex==e?this.tabIndex=0:(this.tabIndex=e,4==e?(this.showQuestion=!0,void 0!=this.$refs.question&&this.$refs.question.initiData()):this.showQuestion=!1),this.adaptive()):Object(i["a"])({message:"请在 微信 环境下。"})},loginTim:function(e){this.maskLoading="登入 TIM 中，请稍后..";var t={userID:e.data.uuid,userSig:e.data.userSign};I(t,this)},fileChange:function(e){e.currentTarget.files.length>0&&(this.showOverlay=!0,this.maskLoading="上传中，请稍后...",j(this,e.currentTarget.files[0]))},sendFileMsg:function(e,t){this.maskLoading="发送中，请稍后...";var n={};1==t.type.includes("image/")?n={avatar:this.expert.avatar,username:this.expert.name,role:this.course.role,type:"img",content:e,duration:null,display:"live",from_uid:this.expert.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId}:1==t.type.includes("video/")&&(n={avatar:this.expert.avatar,username:this.expert.name,role:this.course.role,type:"video",content:e,duration:null,display:"live",from_uid:this.expert.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId}),"tencent"==this.course.platform&&O(this.course.groupId,"txbamaketang",JSON.stringify(n),this)},getJsSdk:function(){var e=this,t=navigator.userAgent,n=(navigator.appVersion,"ios"),r=t.indexOf("Android")>-1||t.indexOf("Linux")>-1,o=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);r?n="android":o&&(n="ios"),p({platform:n,url:location.href}).then((function(t){200==t.code&&(wx.config({debug:!1,appId:t.data.appId,timestamp:t.data.timestamp,nonceStr:t.data.nonceStr,signature:t.data.signature,jsApiList:["startRecord","stopRecord","onVoiceRecordEnd","uploadVoice","downloadVoice","playVoice","pauseVoice","onVoicePlayEnd"]}),wx.ready((function(){wx.onVoiceRecordEnd({complete:function(t){e.localId=t.localId,e.txtVoice="轻触点击录音",e.recordState="Play",e.playVoice()}}),wx.onVoicePlayEnd({success:function(t){e.recordPlayStatus="Play"}}),e.isWeChat=!0})))}))},startRecord:function(){var e=this;wx.startRecord({success:function(){e.stopVoice(0),e.recordState="Stop",e.timerInterval=setInterval((function(){e.timerTick>0?(e.timerTick--,e.txtVoice=e.timerTick+"s",e.currentRate=(60-e.timerTick)/60*100):(clearInterval(e.timerInterval),e.txtVoice="轻触点击录音",e.timerTick=60)}),1e3)},cancel:function(){e.recordState="Start",Object(a["a"])("用户拒绝授权录音")}})},stopRecord:function(){var e=this;wx.stopRecord({success:function(t){e.recordState="Play",e.localId=t.localId,clearInterval(e.timerInterval),e.txtVoice="轻触点击录音",e.playVoice()},fail:function(e){console.log("stopRecord：",JSON.stringify(e))}})},playVoice:function(){"Play"==this.recordPlayStatus?(wx.playVoice({localId:this.localId}),this.recordPlayStatus="Stop"):"Stop"==this.recordPlayStatus&&(wx.pauseVoice({localId:this.localId}),this.recordPlayStatus="Play")},revokeFn:function(){wx.pauseVoice({localId:this.localId}),this.currentRate=0,this.recordPlayStatus="Play",this.txtVoice="轻触点击录音",this.timerTick=60,this.localId="",this.recordState="Start",this.recordPlayStatus="Play"},sendVoice:function(){this.maskLoading="转码中，请稍后...";var e=this;this.showOverlay=!0,wx.uploadVoice({localId:this.localId,isShowProgressTips:0,success:function(t){m({serverId:t.serverId}).then((function(t){if(200==t.code){e.maskLoading="发送中，请稍后...";var n=document.createElement("AUDIO");n.setAttribute("src",t.data.url),n.load(),n.oncanplay=function(){var t={avatar:e.expert.avatar,username:e.expert.name,role:e.course.role,type:"voice",content:n.src,duration:1e3*n.duration,display:"live",from_uid:e.expert.uuid,msg_time:(new Date).getTime(),room_id:e.course.groupId,playStatus:"stop",percentage:0};"tencent"==e.course.platform&&O(e.course.groupId,"txbamaketang",JSON.stringify(t),e)}}}))}})},playAudio:function(e){var t=document.getElementById("audio"),n=this;if(t.ontimeupdate=function(t){for(var r=0;r<n.contentList.length;r++)if("voice"==n.contentList[r].type&&n.contentList[r].from_uid==e.from_uid&&n.contentList[r].msg_time==e.msg_time){var o=e.duration,i=parseInt(1e3*t.currentTarget.currentTime),a=parseInt(i/o*100);n.contentList[r].percentage=a;break}},t.onended=function(t){for(var r=0;r<n.contentList.length;r++)if("voice"==n.contentList[r].type&&n.contentList[r].from_uid==e.from_uid&&n.contentList[r].msg_time==e.msg_time){n.contentList[r].playStatus="stop",n.contentList[r].percentage=0;break}},t.oncanplay=function(){for(var r=0;r<n.contentList.length;r++)if("voice"==n.contentList[r].type&&n.contentList[r].from_uid==e.from_uid&&n.contentList[r].msg_time==e.msg_time){n.contentList[r].playStatus="play",n.contentList[r].percentage=0;break}n.stopVoice(2),t.play()},"play"==e.playStatus){for(var r=0;r<this.contentList.length;r++)"voice"==this.contentList[r].type&&(this.contentList[r].playStatus="stop",this.contentList[r].percentage=0);t.pause()}else if("stop"==e.playStatus){for(r=0;r<this.contentList.length;r++)"voice"==this.contentList[r].type&&(this.contentList[r].playStatus="stop",this.contentList[r].percentage=0);t.setAttribute("src",e.content),t.load()}},sendOnWall:function(){var e={avatar:this.expert.avatar,username:this.expert.name,role:this.course.role,type:"qna",content:this.textarea,duration:null,display:"live",from_uid:this.expert.uuid,msg_time:(new Date).getTime(),room_id:this.course.groupId,question:this.objQuestion};"tencent"==this.course.platform&&O(this.course.groupId,"txbamaketang",JSON.stringify(e),this)},setGroupMuted:function(e){var t=this;i["a"].confirm({message:"你确定要 禁言 此用户吗？"}).then((function(){D(t.course.groupId,e,600,t)}))},closeContract:function(){this.showContract=!1,localStorage.setItem("showContract",!0)},itemPlayEvent:function(){if(null!=document.getElementById("videoEl")&&(document.getElementById("videoEl").pause(),this.currentTimer="00:00",this.playStatus="playing"),null!=document.getElementById("audio")){document.getElementById("audio").pause();for(var e=0;e<this.contentList.length;e++)"voice"==this.contentList[e].type&&(this.contentList[e].playStatus="stop",this.contentList[e].percentage=0)}},stopVoice:function(e){if(0==e){if(null!=document.getElementById("videoEl")&&(document.getElementById("videoEl").pause(),this.currentTimer="00:00",this.playStatus="playing"),null!=document.getElementById("audio")){document.getElementById("audio").pause();for(var t=0;t<this.contentList.length;t++)"voice"==this.contentList[t].type&&(this.contentList[t].playStatus="stop",this.contentList[t].percentage=0)}if($(".videoClass").length>0)for(var n=0;n<$(".videoClass").length;n++)void 0!=$(".videoClass")[n].pause&&$(".videoClass")[n].pause()}else if(1==e){if(null!=document.getElementById("audio")){document.getElementById("audio").pause();for(t=0;t<this.contentList.length;t++)"voice"==this.contentList[t].type&&(this.contentList[t].playStatus="stop",this.contentList[t].percentage=0)}if($(".videoClass").length>0)for(var r=0;r<$(".videoClass").length;r++)void 0!=$(".videoClass")[r].pause&&$(".videoClass")[r].pause()}else if(2==e&&(null!=document.getElementById("videoEl")&&(document.getElementById("videoEl").pause(),this.currentTimer="00:00",this.playStatus="playing"),$(".videoClass").length>0))for(var o=0;o<$(".videoClass").length;o++)void 0!=$(".videoClass")[o].pause&&$(".videoClass")[o].pause()}},mounted:function(){if(this.isWeChatAndQQ(),this.showOverlay=!0,this.maskLoading="加载中...","WeChat"==this.browserType){var e=this;window.onpagehide=function(){"tencent"==e.course.platform&&("normal"==e.course.role||"inviter"==e.course.role?w(e.course.groupId,this):T()),e.groupChatList=[],e.contentList=[],clearInterval(e.interval)}}e=this;var t={};"uuid"==this.$route.params.type?t={uuid:this.$route.params.uuid}:"RoomUuid"==this.$route.params.type&&(t={roomUuid:this.$route.params.uuid}),c(t).then((function(t){if(200==t.code){if(e.course=t.data,null!=e.course.courseSource&&(e.sourceType=e.course.courseSource.sourceType),"expert"==e.course.role&&"false"==localStorage.getItem("showContract")&&(e.showContract=!0),"expert"!=e.course.role&&"compere"!=e.course.role||(e.isLecturer=!0,e.getJsSdk()),null!=e.course.courseSource)switch(e.course.courseSource.sourceType){case 1:e.sourceURL=e.course.courseSource.url;var n=setInterval((function(){null!=document.getElementById("videoEl")&&(document.getElementById("videoEl").setAttribute("src",e.sourceURL),document.getElementById("videoEl").load(),clearInterval(n))}),100);break;case 2:e.sourceURL=e.course.courseSource.url;n=setInterval((function(){null!=document.getElementById("videoEl")&&(document.getElementById("videoEl").setAttribute("src",e.sourceURL),document.getElementById("videoEl").load(),clearInterval(n))}),100);break;case 3:e.sourceURL=e.course.courseSource.url;break;case 4:e.sourceURL=new Array(e.course.courseSource.url);break}e.maskLoading="课前话术，请稍等...",v({uuid:e.course.uuid}).then((function(t){if(200==t.code){var n={};e.expert=t.data.expert;for(var r=0;r<t.data.courseSources.length;r++){var o=e.expert,a=t.data.courseSources[r];1==a.sourceType?n={avatar:o.avatar,username:o.name,role:"expert",type:"voice",content:a.url,duration:1e3*a.duration,display:"live",from_uid:o.uuid,msg_time:(new Date).getTime(),room_id:e.course.groupId,playStatus:"stop",percentage:0}:2==a.sourceType?n={avatar:o.avatar,username:o.name,role:"expert",type:"video",content:a.url,duration:null,display:"live",from_uid:o.uuid,msg_time:(new Date).getTime(),room_id:e.course.groupId}:3==a.sourceType?n={avatar:o.avatar,username:o.name,role:"expert",type:"img",content:a.url,duration:null,display:"live",from_uid:o.uuid,msg_time:(new Date).getTime(),room_id:e.course.groupId}:4==a.sourceType&&(n={avatar:o.avatar,username:o.name,role:"expert",type:"txt",content:a.url,duration:null,display:"live",from_uid:o.uuid,msg_time:(new Date).getTime(),room_id:e.course.groupId}),e.contentList.push(n)}if("expert"==e.course.role)_({uuid:JSON.parse(sessionStorage.getItem("profile")).uuid}).then((function(t){if(200==t.code)if("Online"==t.data.status)i["a"].confirm({message:"当前直播间已有专家在线，是否继续进入并以专家身份同时使用？"}).then((function(){if("tencent"==e.course.platform){var t=JSON.parse(sessionStorage.getItem("profile")).uuid;l({uuid:t}).then((function(t){e.loginTim(t)}))}})).catch((function(){history.back()}));else if(("Offline"==t.data.status||"PushOnline"==t.data.status)&&"tencent"==e.course.platform){var n=JSON.parse(sessionStorage.getItem("profile")).uuid;l({uuid:n}).then((function(t){e.loginTim(t)}))}}));else if("tencent"==e.course.platform){var s=JSON.parse(sessionStorage.getItem("profile")).uuid;l({uuid:s}).then((function(t){e.loginTim(t)}))}}}))}}))},beforeDestroy:function(){"tencent"==this.course.platform&&("normal"==this.course.role||"inviter"==this.course.role?w(this.course.groupId,this):T()),this.groupChatList=[],this.contentList=[],clearInterval(this.interval)},watch:{question:function(e,t){void 0!=this.$refs.question&&this.$refs.question.setQuestion(e,this.content)},content:function(e,t){void 0!=this.$refs.question&&this.$refs.question.setQuestion(this.question,e)},showQuestion:function(e,t){0==e&&1==this.isLecturer&&4==this.tabIndex&&(this.tabIndex=0)}}},oe=re,ie=(n("57e0"),Object(Y["a"])(oe,r,o,!1,null,"ee1128b6",null));t["default"]=ie.exports},dc5a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABuCAMAAADxhdbJAAABF1BMVEVHcEzf39/d3d3U1NTZ2dnh4eHZ2dnY2NjY2NjY2NjZ2dnY2NjZ2dna2trZ2dnZ2dnW1tbMzMza2tra2trZ2dnY2NjY2NjW1tbX19fZ2dnY2NjZ2dnc3NzZ2dnY2NjY2NjY2NjX19fY2Nja2trZ2dnZ2dnZ2dnZ2dm/v7/Y2Nja2trZ2dnb29vV1dXU1NTY2NjY2NjZ2dnS0tLY2NjY2NjZ2dnZ2dnZ2dnb29vY2NjX19fb29vY2NjY2NjJycnIyMjHx8fKycnJyMjKysrGxsbLysrIx8fV1dXS0tLHxsbU1NTX19fW1tbLy8vOzs7Nzc3R0dHT09PQ0NDPz8/NzMzPzs7MzMzT0tLV1NTW1dXQz8/My8vS0dF1IDRxAAAAPXRSTlMAECUeeRHH/sz8lPX2MP4oMgVEqp/y3hlN6eyMM7T9uMSa+1LIV/eNBL9t6F0kKuDv3xHu+Hr8XSNu6CrAosIB3wAABPhJREFUaN7VmmlX4koQhqMyguI4Om7jCgiI44Lb6LjcTmImEMjC6jYz9///jttsCqFTVYGQc+77uZPnVHdXd1V1SZIPHeaz16lE7OIqPjcXv7qIJVKRbP5QmoQ+pXOZAybQQSaX/hQs6zaS3GeA9pOR26BYl0exRYZqMXZ0GQDsy+oCI2ph9cuYsM8re8yH9lY+jwFb2o0yn4ruLo0Im5qfYyNobn5qFNrPezai7n/6hs18Z2Po+4w/2rctNpa2vvmALW9H2ZiKbi9TaRuzLADNbtBo0+ssEK1PU2g7mywgbe7gtK9rLDCtfUVpP1iA+oHwdtZYoFoD53N6kwWsTWC/bKyzwLXu6Q/Ls2wCmvXy9202EW17nJPRyeCiwvNzZotNSFui++Ef4sfW7zfzzXTJhu+jYdoJBWW/Pv8tFAq/unrsSpZlp2YB350MRQrHOMx4LrRYIhpXFeAdu+OJedyyNkxgWxcnV4CP510x1w1Ge/WC9WiybALx0mB8tovtj0YBsY2rAfxgdyB6RVzOesZhfPUg5+uPd1cQ4/7gM8n1Av1ipS8PQCLzf10wsXGgdWzvI39YRRxgkOb2gHc1wb+svmeKcI5jVQv9/vboRZNrcH7UyznvYOPqLuO8aHId/s9RFxeDhz0BR0m/NBP+T6xDO4Vz0zehacM4TbOR/Pa0jYsQnAC1TdM0GTuYIm1cEptLykxyXgHDJdv7ch8+mTHn7hmnPWG4/dbeTMNjTAJNa6uCXippjsvBQ0rus0T2oCkNFJfjuAw8pEbZk21cCcVlJOnwAB7SQI6SLktTFBPFHRxKD4xiHbZuCpeNhx95KcsIa4dNZAsn4zSWla6RESY0k/L7TCrKCwEXkVJYRIQ4d3cmFaVGwKWkBDbEAQ7lPhpl6VgCuw4Yaz6K/U0bpFUpYXFMOsOGmIR1UyhuwHUmnaNj/kJHSU8OKb84l+LomFd83RTFIOHiEl5EtJ4eMduUJrH4SMAxA6U5FhUXJ4yqCffkB022aTQ+mVeUYRXQONkg0tiVdEHKWCuQbWQau8DdvMNreq7bi02mcTdPEEeWREcJV8Oi0/ghlqIOtasD90336DKYH6WwKHPAISqDtskVf7DWBZT1M9wqVQodmOZU6hbzq6yU9/uJZRimYbORlEdDoyDFQyMs8AtSGTysDVI5PGhnRr1EFLpP01hKYtUcV3z3oSKXOiC5aaEpCZRwGRBMccFUtVwGY4gkkk4avzxpypBpHFbWddXE0knPZNlyxIeycCLVFoxL9XTJxVu4FFDzohWLw7iyqndUQUoB0pFXQAuYNrxuesc6XbWQQseluIxj0LdkZ9268iivLFzCRao63bZ301pqIEUqjxJcyYdtep+aWAlOXGCsi2hFZCa5aliBUVw+/e1BU6GZ5DLR8qm4OOwM+bYiog3CdAUvDktLomC6JDhJimoRpol3iqv0LS7sP6F7sjxEky1CYV/8bGEV/K6bLk5i76dIjzJWFdmSLtN0R3xiCpogxE0OZlX2wpXdONWpk5+cPB/ULNugybb8PKiF/FwY9mNo2E+9IT9kh/1MH3YTQtgtFmE3kITdHhN280/YrU1hN26F3ZYWetNd6749HhV2fDJaw+TNKLCb0Romw24HDb3ZNfRW3vbz5R2tUfkusGbsU7wN+/T/22Tea6F/aLfQn523WujPz2KJ1HX2wVcL/X+NMvTHnpML5wAAAABJRU5ErkJggg=="},e23e:function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r,o,i,a="object",s=function(e){return e&&e.Math==Math&&e},u=s(typeof globalThis==a&&globalThis)||s(typeof window==a&&window)||s(typeof self==a&&self)||s(typeof e==a&&e)||Function("return this")(),c=function(e){try{return!!e()}catch(n){return 1}},l=!c((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),p={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,h={f:f&&!p.call({1:2},1)?function(e){var t=f(this,e);return!!t&&t.enumerable}:p},d=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},m={}.toString,g=function(e){return m.call(e).slice(8,-1)},y="".split,v=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==g(e)?y.call(e,""):Object(e)}:Object,_=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},b=function(e){return v(_(e))},E=function(e){return"object"==typeof e?null!==e:"function"==typeof e},S=function(e,t){if(!E(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!E(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!E(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!E(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},A={}.hasOwnProperty,I=function(e,t){return A.call(e,t)},w=u.document,T=E(w)&&E(w.createElement),C=function(e){return T?w.createElement(e):{}},O=!l&&!c((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),M=Object.getOwnPropertyDescriptor,D={f:l?M:function(e,t){if(e=b(e),t=S(t,1),O)try{return M(e,t)}catch(r){}if(I(e,t))return d(!h.f.call(e,t),e[t])}},N=function(e){if(!E(e))throw TypeError(String(e)+" is not an object");return e},x=Object.defineProperty,L={f:l?x:function(e,t,n){if(N(e),t=S(t,1),N(n),O)try{return x(e,t,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},P=l?function(e,t,n){return L.f(e,t,d(1,n))}:function(e,t,n){return e[t]=n,e},k=function(e,t){try{P(u,e,t)}catch(r){u[e]=t}return t},R=n((function(e){var t=u["__core-js_shared__"]||k("__core-js_shared__",{});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.2.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),G=R("native-function-to-string",Function.toString),j=u.WeakMap,U="function"==typeof j&&/native code/.test(G.call(j)),F=0,q=Math.random(),B=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++F+q).toString(36)},Z=R("keys"),V=function(e){return Z[e]||(Z[e]=B(e))},H={},z=u.WeakMap;if(U){var Y=new z,K=Y.get,X=Y.has,W=Y.set;r=function(e,t){return W.call(Y,e,t),t},o=function(e){return K.call(Y,e)||{}},i=function(e){return X.call(Y,e)}}else{var J=V("state");H[J]=1,r=function(e,t){return P(e,J,t),t},o=function(e){return I(e,J)?e[J]:{}},i=function(e){return I(e,J)}}var Q={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!E(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},$=n((function(e){var t=Q.get,n=Q.enforce,r=String(G).split("toString");R("inspectSource",(function(e){return G.call(e)})),(e.exports=function(e,t,o,i){var a=i?!!i.unsafe:0,s=i?!!i.enumerable:0,c=i?!!i.noTargetGet:0;"function"==typeof o&&("string"!=typeof t||I(o,"name")||P(o,"name",t),n(o).source=r.join("string"==typeof t?t:"")),e!==u?(a?!c&&e[t]&&(s=1):delete e[t],s?e[t]=o:P(e,t,o)):s?e[t]=o:k(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||G.call(this)}))})),ee=u,te=function(e){return"function"==typeof e?e:void 0},ne=function(e,t){return arguments.length<2?te(ee[e])||te(u[e]):ee[e]&&ee[e][t]||u[e]&&u[e][t]},re=Math.ceil,oe=Math.floor,ie=function(e){return isNaN(e=+e)?0:(e>0?oe:re)(e)},ae=Math.min,se=function(e){return e>0?ae(ie(e),9007199254740991):0},ue=Math.max,ce=Math.min,le=function(e,t){var n=ie(e);return n<0?ue(n+t,0):ce(n,t)},pe=function(e){return function(t,n,r){var o,i=b(t),a=se(i.length),s=le(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return 1}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},fe={includes:pe(1),indexOf:pe(0)},he=fe.indexOf,de=function(e,t){var n,r=b(e),o=0,i=[];for(n in r)!I(H,n)&&I(r,n)&&i.push(n);for(;t.length>o;)I(r,n=t[o++])&&(~he(i,n)||i.push(n));return i},me=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=me.concat("length","prototype"),ye={f:Object.getOwnPropertyNames||function(e){return de(e,ge)}},ve={f:Object.getOwnPropertySymbols},_e=ne("Reflect","ownKeys")||function(e){var t=ye.f(N(e)),n=ve.f;return n?t.concat(n(e)):t},be=function(e,t){for(var n=_e(t),r=L.f,o=D.f,i=0;i<n.length;i++){var a=n[i];I(e,a)||r(e,a,o(t,a))}},Ee=/#|\.prototype\./,Se=function(e,t){var n=Ie[Ae(e)];return n==Te?1:n==we?0:"function"==typeof t?c(t):!!t},Ae=Se.normalize=function(e){return String(e).replace(Ee,".").toLowerCase()},Ie=Se.data={},we=Se.NATIVE="N",Te=Se.POLYFILL="P",Ce=Se,Oe=D.f,Me=function(e,t){var n,r,o,i,a,s=e.target,c=e.global,l=e.stat;if(n=c?u:l?u[s]||k(s,{}):(u[s]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=Oe(n,r))&&a.value:n[r],!Ce(c?r:s+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;be(i,o)}(e.sham||o&&o.sham)&&P(i,"sham",1),$(n,r,i,e)}},De=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Ne=function(e,t,n){if(De(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},xe=function(e){return Object(_(e))},Le=Array.isArray||function(e){return"Array"==g(e)},Pe=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),ke=u.Symbol,Re=R("wks"),Ge=function(e){return Re[e]||(Re[e]=Pe&&ke[e]||(Pe?ke:B)("Symbol."+e))},je=Ge("species"),Ue=function(e,t){var n;return Le(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Le(n.prototype)?E(n)&&null===(n=n[je])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Fe=[].push,qe=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=5==e||i;return function(s,u,c,l){for(var p,f,h=xe(s),d=v(h),m=Ne(u,c,3),g=se(d.length),y=0,_=l||Ue,b=t?_(s,g):n?_(s,0):void 0;g>y;y++)if((a||y in d)&&(f=m(p=d[y],y,h),e))if(t)b[y]=f;else if(f)switch(e){case 3:return 1;case 5:return p;case 6:return y;case 2:Fe.call(b,p)}else if(o)return 0;return i?-1:r||o?o:b}},Be={forEach:qe(0),map:qe(1),filter:qe(2),some:qe(3),every:qe(4),find:qe(5),findIndex:qe(6)},Ze=function(e,t){var n=[][e];return!n||!c((function(){n.call(null,t||function(){throw 1},1)}))},Ve=Be.forEach,He=Ze("forEach")?function(e){return Ve(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach;Me({target:"Array",proto:1,forced:[].forEach!=He},{forEach:He});var ze=function(e,t,n,r){try{return r?t(N(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&N(o.call(e)),a}},Ye={},Ke=Ge("iterator"),Xe=Array.prototype,We=function(e){return void 0!==e&&(Ye.Array===e||Xe[Ke]===e)},Je=function(e,t,n){var r=S(t);r in e?L.f(e,r,d(0,n)):e[r]=n},Qe=Ge("toStringTag"),$e="Arguments"==g(function(){return arguments}()),et=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),Qe))?n:$e?g(t):"Object"==(r=g(t))&&"function"==typeof t.callee?"Arguments":r},tt=Ge("iterator"),nt=function(e){if(null!=e)return e[tt]||e["@@iterator"]||Ye[et(e)]},rt=function(e){var t,n,r,o,i=xe(e),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,c=void 0!==u,l=0,p=nt(i);if(c&&(u=Ne(u,s>2?arguments[2]:void 0,2)),null==p||a==Array&&We(p))for(n=new a(t=se(i.length));t>l;l++)Je(n,l,c?u(i[l],l):i[l]);else for(o=p.call(i),n=new a;!(r=o.next()).done;l++)Je(n,l,c?ze(o,u,[r.value,l],1):r.value);return n.length=l,n},ot=Ge("iterator"),it=0;try{var at=0,st={next:function(){return{done:!!at++}},return:function(){it=1}};st[ot]=function(){return this},Array.from(st,(function(){throw 2}))}catch(pm){}var ut=function(e,t){if(!t&&!it)return 0;var n=0;try{var r={};r[ot]=function(){return{next:function(){return{done:n=1}}}},e(r)}catch(pm){}return n},ct=!ut((function(e){Array.from(e)}));Me({target:"Array",stat:1,forced:ct},{from:rt});var lt=Object.keys||function(e){return de(e,me)},pt=l?Object.defineProperties:function(e,t){N(e);for(var n,r=lt(t),o=r.length,i=0;o>i;)L.f(e,n=r[i++],t[n]);return e},ft=ne("document","documentElement"),ht=V("IE_PROTO"),dt=function(){},mt=function(){var e,t=C("iframe"),n=me.length;for(t.style.display="none",ft.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),mt=e.F;n--;)delete mt.prototype[me[n]];return mt()},gt=Object.create||function(e,t){var n;return null!==e?(dt.prototype=N(e),n=new dt,dt.prototype=null,n[ht]=e):n=mt(),void 0===t?n:pt(n,t)};H[ht]=1,Me({target:"Object",stat:1,sham:!l},{create:gt});var yt=c((function(){lt(1)}));Me({target:"Object",stat:1,forced:yt},{keys:function(e){return lt(xe(e))}});var vt,_t,bt,Et=function(e){return function(t,n){var r,o,i=String(_(t)),a=ie(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):r:e?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},St={codeAt:Et(0),charAt:Et(1)},At=!c((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),It=V("IE_PROTO"),wt=Object.prototype,Tt=At?Object.getPrototypeOf:function(e){return e=xe(e),I(e,It)?e[It]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?wt:null},Ct=Ge("iterator"),Ot=0;[].keys&&("next"in(bt=[].keys())?(_t=Tt(Tt(bt)))!==Object.prototype&&(vt=_t):Ot=1),null==vt&&(vt={}),I(vt,Ct)||P(vt,Ct,(function(){return this}));var Mt={IteratorPrototype:vt,BUGGY_SAFARI_ITERATORS:Ot},Dt=L.f,Nt=Ge("toStringTag"),xt=function(e,t,n){e&&!I(e=n?e:e.prototype,Nt)&&Dt(e,Nt,{configurable:1,value:t})},Lt=Mt.IteratorPrototype,Pt=function(){return this},kt=function(e,t,n){var r=t+" Iterator";return e.prototype=gt(Lt,{next:d(1,n)}),xt(e,r,0),Ye[r]=Pt,e},Rt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=0,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(pm){}return function(n,r){return N(n),function(e){if(!E(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Gt=Mt.IteratorPrototype,jt=Mt.BUGGY_SAFARI_ITERATORS,Ut=Ge("iterator"),Ft=function(){return this},qt=function(e,t,n,r,o,i,a){kt(n,t,r);var s,u,c,l=function(e){if(e===o&&m)return m;if(!jt&&e in h)return h[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},p=t+" Iterator",f=0,h=e.prototype,d=h[Ut]||h["@@iterator"]||o&&h[o],m=!jt&&d||l(o),g="Array"==t&&h.entries||d;if(g&&(s=Tt(g.call(new e)),Gt!==Object.prototype&&s.next&&(Tt(s)!==Gt&&(Rt?Rt(s,Gt):"function"!=typeof s[Ut]&&P(s,Ut,Ft)),xt(s,p,1))),"values"==o&&d&&"values"!==d.name&&(f=1,m=function(){return d.call(this)}),h[Ut]!==m&&P(h,Ut,m),Ye[t]=m,o)if(u={values:l("values"),keys:i?m:l("keys"),entries:l("entries")},a)for(c in u)!jt&&!f&&c in h||$(h,c,u[c]);else Me({target:t,proto:1,forced:jt||f},u);return u},Bt=St.charAt,Zt=Q.set,Vt=Q.getterFor("String Iterator");qt(String,"String",(function(e){Zt(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Vt(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:1}:(e=Bt(n,r),t.index+=e.length,{value:e,done:0})}));var Ht={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var zt in Ht){var Yt=u[zt],Kt=Yt&&Yt.prototype;if(Kt&&Kt.forEach!==He)try{P(Kt,"forEach",He)}catch(pm){Kt.forEach=He}}var Xt="2.3.1",Wt={SDK_READY:"sdkStateReady",SDK_NOT_READY:"sdkStateNotReady",SDK_DESTROY:"sdkDestroy",MESSAGE_RECEIVED:"onMessageReceived",CONVERSATION_LIST_UPDATED:"onConversationListUpdated",GROUP_LIST_UPDATED:"onGroupListUpdated",GROUP_SYSTEM_NOTICE_RECEIVED:"receiveGroupSystemNotice",PROFILE_UPDATED:"onProfileUpdated",BLACKLIST_UPDATED:"blacklistUpdated",KICKED_OUT:"kickedOut",ERROR:"error"},Jt={MSG_TEXT:"TIMTextElem",MSG_IMAGE:"TIMImageElem",MSG_SOUND:"TIMSoundElem",MSG_AUDIO:"TIMSoundElem",MSG_FILE:"TIMFileElem",MSG_FACE:"TIMFaceElem",MSG_VIDEO:"TIMVideoFileElem",MSG_GEO:"TIMLocationElem",MSG_GRP_TIP:"TIMGroupTipElem",MSG_GRP_SYS_NOTICE:"TIMGroupSystemNoticeElem",MSG_CUSTOM:"TIMCustomElem",CONV_C2C:"C2C",CONV_GROUP:"GROUP",CONV_SYSTEM:"@TIM#SYSTEM",GRP_PRIVATE:"Private",GRP_PUBLIC:"Public",GRP_CHATROOM:"ChatRoom",GRP_AVCHATROOM:"AVChatRoom",GRP_MBR_ROLE_OWNER:"Owner",GRP_MBR_ROLE_ADMIN:"Admin",GRP_MBR_ROLE_MEMBER:"Member",GRP_TIP_MBR_JOIN:1,GRP_TIP_MBR_QUIT:2,GRP_TIP_MBR_KICKED_OUT:3,GRP_TIP_MBR_SET_ADMIN:4,GRP_TIP_MBR_CANCELED_ADMIN:5,GRP_TIP_GRP_PROFILE_UPDATED:6,GRP_TIP_MBR_PROFILE_UPDATED:7,MSG_REMIND_ACPT_AND_NOTE:"AcceptAndNotify",MSG_REMIND_ACPT_NOT_NOTE:"AcceptNotNotify",MSG_REMIND_DISCARD:"Discard",GENDER_UNKNOWN:"Gender_Type_Unknown",GENDER_FEMALE:"Gender_Type_Female",GENDER_MALE:"Gender_Type_Male",KICKED_OUT_MULT_ACCOUNT:"mutipleAccount",KICKED_OUT_MULT_DEVICE:"mutipleDevice",ALLOW_TYPE_ALLOW_ANY:"AllowType_Type_AllowAny",ALLOW_TYPE_NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_TYPE_DENY_ANY:"AllowType_Type_DenyAny",FORBID_TYPE_NONE:"AdminForbid_Type_None",FORBID_TYPE_SEND_OUT:"AdminForbid_Type_SendOut",JOIN_OPTIONS_FREE_ACCESS:"FreeAccess",JOIN_OPTIONS_NEED_PERMISSION:"NeedPermission",JOIN_OPTIONS_DISABLE_APPLY:"DisableApply",JOIN_STATUS_SUCCESS:"JoinedSuccess",JOIN_STATUS_ALREADY_IN_GROUP:"AlreadyInGroup",JOIN_STATUS_WAIT_APPROVAL:"WaitAdminApproval",GRP_PROFILE_OWNER_ID:"ownerID",GRP_PROFILE_CREATE_TIME:"createTime",GRP_PROFILE_LAST_INFO_TIME:"lastInfoTime",GRP_PROFILE_MEMBER_NUM:"memberNum",GRP_PROFILE_MAX_MEMBER_NUM:"maxMemberNum",GRP_PROFILE_JOIN_OPTION:"joinOption",GRP_PROFILE_INTRODUCTION:"introduction",GRP_PROFILE_NOTIFICATION:"notification"},Qt=Ge("species"),$t=function(e){return!c((function(){var t=[];return(t.constructor={})[Qt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},en=Be.map;Me({target:"Array",proto:1,forced:!$t("map")},{map:function(e){return en(this,e,arguments.length>1?arguments[1]:void 0)}});var tn=[].slice,nn={},rn=function(e,t,n){if(!(t in nn)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";nn[t]=Function("C,a","return new C("+r.join(",")+")")}return nn[t](e,n)},on=Function.bind||function(e){var t=De(this),n=tn.call(arguments,1),r=function(){var o=n.concat(tn.call(arguments));return this instanceof r?rn(t,o.length,o):t.apply(e,o)};return E(t.prototype)&&(r.prototype=t.prototype),r};function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||0,r.configurable=1,"value"in r&&(r.writable=1),Object.defineProperty(e,r.key,r)}}function cn(e,t,n){return t&&un(e.prototype,t),n&&un(e,n),e}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:1,configurable:1,writable:1}):e[t]=n,e}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(n,1).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:1,configurable:1}}),t&&mn(e,t)}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e,t,n){return(gn=function(){if("undefined"==typeof Reflect||!Reflect.construct)return 0;if(Reflect.construct.sham)return 0;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){return 0}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&mn(o,n.prototype),o}).apply(null,arguments)}function yn(e){var t="function"==typeof Map?new Map:void 0;return(yn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return gn(e,arguments,dn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:0,writable:1,configurable:1}}),mn(r,e)})(e)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?vn(e):t}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=1,o=0,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=1);}catch(c){o=1,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function En(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Me({target:"Function",proto:1},{bind:on});var Sn=function(){function e(){sn(this,e),this.cache=[],this.options=null}return cn(e,[{key:"use",value:function(e){if("function"!=typeof e)throw"middleware must be a function";return this.cache.push(e),this}},{key:"next",value:function(e){if(this.middlewares&&this.middlewares.length>0)return this.middlewares.shift().call(this,this.options,this.next.bind(this))}},{key:"run",value:function(e){return this.middlewares=this.cache.map((function(e){return e})),this.options=e,this.next()}}]),e}(),An=Ge("isConcatSpreadable"),In=!c((function(){var e=[];return e[An]=0,e.concat()[0]!==e})),wn=$t("concat"),Tn=function(e){if(!E(e))return 0;var t=e[An];return void 0!==t?!!t:Le(e)};Me({target:"Array",proto:1,forced:!In||!wn},{concat:function(e){var t,n,r,o,i,a=xe(this),s=Ue(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],Tn(i)){if(u+(o=se(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,u++)n in i&&Je(s,u,i[n])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Je(s,u++,i)}return s.length=u,s}});var Cn=L.f,On=Function.prototype,Mn=On.toString,Dn=/^\s*function ([^ (]*)/;!l||"name"in On||Cn(On,"name",{configurable:1,get:function(){try{return Mn.call(this).match(Dn)[1]}catch(pm){return""}}});var Nn=n((function(t,n){var r,o,i,a,s,u,c,l,p,f,h,d,m,g,y,v,_,b,E,S;t.exports=(r="function"==typeof Promise,o="object"==typeof self?self:e,i="undefined"!=typeof Symbol,a="undefined"!=typeof Map,s="undefined"!=typeof Set,u="undefined"!=typeof WeakMap,c="undefined"!=typeof WeakSet,l="undefined"!=typeof DataView,p=i&&void 0!==Symbol.iterator,f=i&&void 0!==Symbol.toStringTag,h=s&&"function"==typeof Set.prototype.entries,d=a&&"function"==typeof Map.prototype.entries,m=h&&Object.getPrototypeOf((new Set).entries()),g=d&&Object.getPrototypeOf((new Map).entries()),y=p&&"function"==typeof Array.prototype[Symbol.iterator],v=y&&Object.getPrototypeOf([][Symbol.iterator]()),_=p&&"function"==typeof String.prototype[Symbol.iterator],b=_&&Object.getPrototypeOf(""[Symbol.iterator]()),E=8,S=-1,function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===o)return"global";if(Array.isArray(e)&&(0==f||!(Symbol.toStringTag in e)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&e===window.location)return"Location";if("object"==typeof window.document&&e===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var n=f&&e[Symbol.toStringTag];if("string"==typeof n)return n;var i=Object.getPrototypeOf(e);return i===RegExp.prototype?"RegExp":i===Date.prototype?"Date":r&&i===Promise.prototype?"Promise":s&&i===Set.prototype?"Set":a&&i===Map.prototype?"Map":c&&i===WeakSet.prototype?"WeakSet":u&&i===WeakMap.prototype?"WeakMap":l&&i===DataView.prototype?"DataView":a&&i===g?"Map Iterator":s&&i===m?"Set Iterator":y&&i===v?"Array Iterator":_&&i===b?"String Iterator":null===i?"Object":Object.prototype.toString.call(e).slice(E,S)})}));Me({target:"Array",stat:1},{isArray:Le});var xn=ye.f,Ln={}.toString,Pn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],kn={f:function(e){return Pn&&"[object Window]"==Ln.call(e)?function(e){try{return xn(e)}catch(pm){return Pn.slice()}}(e):xn(b(e))}},Rn={f:Ge},Gn=L.f,jn=function(e){var t=ee.Symbol||(ee.Symbol={});I(t,e)||Gn(t,e,{value:Rn.f(e)})},Un=Be.forEach,Fn=V("hidden"),qn=Ge("toPrimitive"),Bn=Q.set,Zn=Q.getterFor("Symbol"),Vn=Object.prototype,Hn=u.Symbol,zn=u.JSON,Yn=zn&&zn.stringify,Kn=D.f,Xn=L.f,Wn=kn.f,Jn=h.f,Qn=R("symbols"),$n=R("op-symbols"),er=R("string-to-symbol-registry"),tr=R("symbol-to-string-registry"),nr=R("wks"),rr=u.QObject,or=!rr||!rr.prototype||!rr.prototype.findChild,ir=l&&c((function(){return 7!=gt(Xn({},"a",{get:function(){return Xn(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Kn(Vn,t);r&&delete Vn[t],Xn(e,t,n),r&&e!==Vn&&Xn(Vn,t,r)}:Xn,ar=function(e,t){var n=Qn[e]=gt(Hn.prototype);return Bn(n,{type:"Symbol",tag:e,description:t}),l||(n.description=t),n},sr=Pe&&"symbol"==typeof Hn.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Hn},ur=function(e,t,n){e===Vn&&ur($n,t,n),N(e);var r=S(t,1);return N(n),I(Qn,r)?(n.enumerable?(I(e,Fn)&&e[Fn][r]&&(e[Fn][r]=0),n=gt(n,{enumerable:d(0,0)})):(I(e,Fn)||Xn(e,Fn,d(1,{})),e[Fn][r]=1),ir(e,r,n)):Xn(e,r,n)},cr=function(e,t){N(e);var n=b(t),r=lt(n).concat(hr(n));return Un(r,(function(t){l&&!lr.call(n,t)||ur(e,t,n[t])})),e},lr=function(e){var t=S(e,1),n=Jn.call(this,t);return this===Vn&&I(Qn,t)&&!I($n,t)?0:n||!I(this,t)||!I(Qn,t)||I(this,Fn)&&this[Fn][t]?n:1},pr=function(e,t){var n=b(e),r=S(t,1);if(n!==Vn||!I(Qn,r)||I($n,r)){var o=Kn(n,r);return!o||!I(Qn,r)||I(n,Fn)&&n[Fn][r]||(o.enumerable=1),o}},fr=function(e){var t=Wn(b(e)),n=[];return Un(t,(function(e){I(Qn,e)||I(H,e)||n.push(e)})),n},hr=function(e){var t=e===Vn,n=Wn(t?$n:b(e)),r=[];return Un(n,(function(e){!I(Qn,e)||t&&!I(Vn,e)||r.push(Qn[e])})),r};Pe||($((Hn=function(){if(this instanceof Hn)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=B(e),n=function(e){this===Vn&&n.call($n,e),I(this,Fn)&&I(this[Fn],t)&&(this[Fn][t]=0),ir(this,t,d(1,e))};return l&&or&&ir(Vn,t,{configurable:1,set:n}),ar(t,e)}).prototype,"toString",(function(){return Zn(this).tag})),h.f=lr,L.f=ur,D.f=pr,ye.f=kn.f=fr,ve.f=hr,l&&(Xn(Hn.prototype,"description",{configurable:1,get:function(){return Zn(this).description}}),$(Vn,"propertyIsEnumerable",lr,{unsafe:1})),Rn.f=function(e){return ar(Ge(e),e)}),Me({global:1,wrap:1,forced:!Pe,sham:!Pe},{Symbol:Hn}),Un(lt(nr),(function(e){jn(e)})),Me({target:"Symbol",stat:1,forced:!Pe},{for:function(e){var t=String(e);if(I(er,t))return er[t];var n=Hn(t);return er[t]=n,tr[n]=t,n},keyFor:function(e){if(!sr(e))throw TypeError(e+" is not a symbol");if(I(tr,e))return tr[e]},useSetter:function(){or=1},useSimple:function(){or=0}}),Me({target:"Object",stat:1,forced:!Pe,sham:!l},{create:function(e,t){return void 0===t?gt(e):cr(gt(e),t)},defineProperty:ur,defineProperties:cr,getOwnPropertyDescriptor:pr}),Me({target:"Object",stat:1,forced:!Pe},{getOwnPropertyNames:fr,getOwnPropertySymbols:hr}),Me({target:"Object",stat:1,forced:c((function(){ve.f(1)}))},{getOwnPropertySymbols:function(e){return ve.f(xe(e))}}),zn&&Me({target:"JSON",stat:1,forced:!Pe||c((function(){var e=Hn();return"[null]"!=Yn([e])||"{}"!=Yn({a:e})||"{}"!=Yn(Object(e))}))},{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(E(t)||void 0!==e)&&!sr(e))return Le(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!sr(t))return t}),r[1]=t,Yn.apply(zn,r)}}),Hn.prototype[qn]||P(Hn.prototype,qn,Hn.prototype.valueOf),xt(Hn,"Symbol"),H[Fn]=1;var dr=L.f,mr=u.Symbol;if(l&&"function"==typeof mr&&(!("description"in mr.prototype)||void 0!==mr().description)){var gr={},yr=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof yr?new mr(e):void 0===e?mr():mr(e);return""===e&&(gr[t]=1),t};be(yr,mr);var vr=yr.prototype=mr.prototype;vr.constructor=yr;var _r=vr.toString,br="Symbol(test)"==String(mr("test")),Er=/^Symbol\((.*)\)[^)]+$/;dr(vr,"description",{configurable:1,get:function(){var e=E(this)?this.valueOf():this,t=_r.call(e);if(I(gr,e))return"";var n=br?t.slice(7,-1):t.replace(Er,"$1");return""===n?void 0:n}}),Me({global:1,forced:1},{Symbol:yr})}jn("iterator");var Sr=Ge("unscopables"),Ar=Array.prototype;null==Ar[Sr]&&P(Ar,Sr,gt(null));var Ir=function(e){Ar[Sr][e]=1},wr=fe.includes;Me({target:"Array",proto:1},{includes:function(e){return wr(this,e,arguments.length>1?arguments[1]:void 0)}}),Ir("includes");var Tr=fe.indexOf,Cr=[].indexOf,Or=!!Cr&&1/[1].indexOf(1,-0)<0,Mr=Ze("indexOf");Me({target:"Array",proto:1,forced:Or||Mr},{indexOf:function(e){return Or?Cr.apply(this,arguments)||0:Tr(this,e,arguments.length>1?arguments[1]:void 0)}});var Dr=Q.set,Nr=Q.getterFor("Array Iterator"),xr=qt(Array,"Array",(function(e,t){Dr(this,{type:"Array Iterator",target:b(e),index:0,kind:t})}),(function(){var e=Nr(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:1}):"keys"==n?{value:r,done:0}:"values"==n?{value:t[r],done:0}:{value:[r,t[r]],done:0}}),"values");Ye.Arguments=Ye.Array,Ir("keys"),Ir("values"),Ir("entries");var Lr=[].join,Pr=v!=Object,kr=Ze("join",",");Me({target:"Array",proto:1,forced:Pr||kr},{join:function(e){return Lr.call(b(this),void 0===e?",":e)}});var Rr=Ge("species"),Gr=[].slice,jr=Math.max;Me({target:"Array",proto:1,forced:!$t("slice")},{slice:function(e,t){var n,r,o,i=b(this),a=se(i.length),s=le(e,a),u=le(void 0===t?a:t,a);if(Le(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!Le(n.prototype)?E(n)&&null===(n=n[Rr])&&(n=void 0):n=void 0,n===Array||void 0===n))return Gr.call(i,s,u);for(r=new(void 0===n?Array:n)(jr(u-s,0)),o=0;s<u;s++,o++)s in i&&Je(r,o,i[s]);return r.length=o,r}}),Me({target:"Date",stat:1},{now:function(){return(new Date).getTime()}});var Ur="".repeat||function(e){var t=String(_(this)),n="",r=ie(e);if(r<0||1/0==r)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},Fr=Math.ceil,qr=function(e){return function(t,n,r){var o,i,a=String(_(t)),s=a.length,u=void 0===r?" ":String(r),c=se(n);return c<=s||""==u?a:(o=c-s,(i=Ur.call(u,Fr(o/u.length))).length>o&&(i=i.slice(0,o)),e?a+i:i+a)}},Br={start:qr(0),end:qr(1)}.start,Zr=Math.abs,Vr=Date.prototype,Hr=Vr.getTime,zr=Vr.toISOString,Yr=c((function(){return"0385-07-25T07:06:39.999Z"!=zr.call(new Date(-5e13-1))}))||!c((function(){zr.call(new Date(NaN))}))?function(){if(!isFinite(Hr.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+Br(Zr(e),n?6:4,0)+"-"+Br(this.getUTCMonth()+1,2,0)+"-"+Br(this.getUTCDate(),2,0)+"T"+Br(this.getUTCHours(),2,0)+":"+Br(this.getUTCMinutes(),2,0)+":"+Br(this.getUTCSeconds(),2,0)+"."+Br(t,3,0)+"Z"}:zr;Me({target:"Date",proto:1,forced:Date.prototype.toISOString!==Yr},{toISOString:Yr});var Kr=Date.prototype,Xr=Kr.toString,Wr=Kr.getTime;new Date(NaN)+""!="Invalid Date"&&$(Kr,"toString",(function(){var e=Wr.call(this);return e==e?Xr.call(this):"Invalid Date"}));var Jr=function(e,t,n){var r,o;return Rt&&"function"==typeof(r=t.constructor)&&r!==n&&E(o=r.prototype)&&o!==n.prototype&&Rt(e,o),e},Qr="\t\n\v\f\r                　\u2028\u2029\ufeff",$r="["+Qr+"]",eo=RegExp("^"+$r+$r+"*"),to=RegExp($r+$r+"*$"),no=function(e){return function(t){var n=String(_(t));return 1&e&&(n=n.replace(eo,"")),2&e&&(n=n.replace(to,"")),n}},ro={start:no(1),end:no(2),trim:no(3)},oo=ye.f,io=D.f,ao=L.f,so=ro.trim,uo=u.Number,co=uo.prototype,lo="Number"==g(gt(co)),po=function(e){var t,n,r,o,i,a,s,u,c=S(e,0);if("string"==typeof c&&c.length>2)if(43===(t=(c=so(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((u=i.charCodeAt(s))<48||u>o)return NaN;return parseInt(i,r)}return+c};if(Ce("Number",!uo(" 0o1")||!uo("0b1")||uo("+0x1"))){for(var fo,ho=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof ho&&(lo?c((function(){co.valueOf.call(n)})):"Number"!=g(n))?Jr(new uo(po(t)),n,ho):po(t)},mo=l?oo(uo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),go=0;mo.length>go;go++)I(uo,fo=mo[go])&&!I(ho,fo)&&ao(ho,fo,io(uo,fo));ho.prototype=co,co.constructor=ho,$(u,"Number",ho)}var yo=kn.f,vo=c((function(){return!Object.getOwnPropertyNames(1)}));Me({target:"Object",stat:1,forced:vo},{getOwnPropertyNames:yo});var _o=c((function(){Tt(1)}));Me({target:"Object",stat:1,forced:_o,sham:!At},{getPrototypeOf:function(e){return Tt(xe(e))}});var bo={};bo[Ge("toStringTag")]="z";var Eo="[object z]"!==String(bo)?function(){return"[object "+et(this)+"]"}:bo.toString,So=Object.prototype;Eo!==So.toString&&$(So,"toString",Eo,{unsafe:1});var Ao=ro.trim,Io=u.parseInt,wo=/^[+-]?0[Xx]/,To=8!==Io(Qr+"08")||22!==Io(Qr+"0x16")?function(e,t){var n=Ao(String(e));return Io(n,t>>>0||(wo.test(n)?16:10))}:Io;Me({global:1,forced:parseInt!=To},{parseInt:To});var Co,Oo,Mo,Do=u.Promise,No=function(e,t,n){for(var r in t)$(e,r,t[r],n);return e},xo=Ge("species"),Lo=function(e){var t=ne(e),n=L.f;l&&t&&!t[xo]&&n(t,xo,{configurable:1,get:function(){return this}})},Po=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},ko=n((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,o,i){var a,s,u,c,l,p,f=Ne(n,r,o?2:1);if(i)a=e;else{if("function"!=typeof(s=nt(e)))throw TypeError("Target is not iterable");if(We(s)){for(u=0,c=se(e.length);c>u;u++)if((l=o?f(N(p=e[u])[0],p[1]):f(e[u]))&&l instanceof t)return l;return new t(0)}a=s.call(e)}for(;!(p=a.next()).done;)if((l=ze(a,f,p.value,o))&&l instanceof t)return l;return new t(0)}).stop=function(e){return new t(1,e)}})),Ro=Ge("species"),Go=function(e,t){var n,r=N(e).constructor;return void 0===r||null==(n=N(r)[Ro])?t:De(n)},jo=u.location,Uo=u.setImmediate,Fo=u.clearImmediate,qo=u.process,Bo=u.MessageChannel,Zo=u.Dispatch,Vo=0,Ho={},zo=function(e){if(Ho.hasOwnProperty(e)){var t=Ho[e];delete Ho[e],t()}},Yo=function(e){return function(){zo(e)}},Ko=function(e){zo(e.data)},Xo=function(e){u.postMessage(e+"",jo.protocol+"//"+jo.host)};Uo&&Fo||(Uo=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Ho[++Vo]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Co(Vo),Vo},Fo=function(e){delete Ho[e]},"process"==g(qo)?Co=function(e){qo.nextTick(Yo(e))}:Zo&&Zo.now?Co=function(e){Zo.now(Yo(e))}:Bo?(Mo=(Oo=new Bo).port2,Oo.port1.onmessage=Ko,Co=Ne(Mo.postMessage,Mo,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||c(Xo)?Co="onreadystatechange"in C("script")?function(e){ft.appendChild(C("script")).onreadystatechange=function(){ft.removeChild(this),zo(e)}}:function(e){setTimeout(Yo(e),0)}:(Co=Xo,u.addEventListener("message",Ko,0)));var Wo,Jo,Qo,$o,ei,ti,ni,ri,oi={set:Uo,clear:Fo},ii=ne("navigator","userAgent")||"",ai=D.f,si=oi.set,ui=u.MutationObserver||u.WebKitMutationObserver,ci=u.process,li=u.Promise,pi="process"==g(ci),fi=ai(u,"queueMicrotask"),hi=fi&&fi.value;hi||(Wo=function(){var e,t;for(pi&&(e=ci.domain)&&e.exit();Jo;){t=Jo.fn,Jo=Jo.next;try{t()}catch(pm){throw Jo?$o():Qo=void 0,pm}}Qo=void 0,e&&e.enter()},pi?$o=function(){ci.nextTick(Wo)}:ui&&!/(iphone|ipod|ipad).*applewebkit/i.test(ii)?(ei=1,ti=document.createTextNode(""),new ui(Wo).observe(ti,{characterData:1}),$o=function(){ti.data=ei=!ei}):li&&li.resolve?(ni=li.resolve(void 0),ri=ni.then,$o=function(){ri.call(ni,Wo)}):$o=function(){si.call(u,Wo)});var di,mi,gi,yi,vi=hi||function(e){var t={fn:e,next:void 0};Qo&&(Qo.next=t),Jo||(Jo=t,$o()),Qo=t},_i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=De(t),this.reject=De(n)},bi={f:function(e){return new _i(e)}},Ei=function(e,t){if(N(e),E(t)&&t.constructor===e)return t;var n=bi.f(e);return(0,n.resolve)(t),n.promise},Si=function(e){try{return{error:0,value:e()}}catch(pm){return{error:1,value:pm}}},Ai=oi.set,Ii=Ge("species"),wi="Promise",Ti=Q.get,Ci=Q.set,Oi=Q.getterFor(wi),Mi=Do,Di=u.TypeError,Ni=u.document,xi=u.process,Li=u.fetch,Pi=xi&&xi.versions,ki=Pi&&Pi.v8||"",Ri=bi.f,Gi=Ri,ji="process"==g(xi),Ui=!!(Ni&&Ni.createEvent&&u.dispatchEvent),Fi=Ce(wi,(function(){var e=Mi.resolve(1),t=function(){},n=(e.constructor={})[Ii]=function(e){e(t,t)};return!((ji||"function"==typeof PromiseRejectionEvent)&&e.then(t)instanceof n&&0!==ki.indexOf("6.6")&&-1===ii.indexOf("Chrome/66"))})),qi=Fi||!ut((function(e){Mi.all(e).catch((function(){}))})),Bi=function(e){var t;return E(e)&&"function"==typeof(t=e.then)?t:0},Zi=function(e,t,n){if(!t.notified){t.notified=1;var r=t.reactions;vi((function(){for(var o=t.value,i=1==t.state,a=0;r.length>a;){var s,u,c,l=r[a++],p=i?l.ok:l.fail,f=l.resolve,h=l.reject,d=l.domain;try{p?(i||(2===t.rejection&&Yi(e,t),t.rejection=1),1==p?s=o:(d&&d.enter(),s=p(o),d&&(d.exit(),c=1)),s===l.promise?h(Di("Promise-chain cycle")):(u=Bi(s))?u.call(s,f,h):f(s)):h(o)}catch(pm){d&&!c&&d.exit(),h(pm)}}t.reactions=[],t.notified=0,n&&!t.rejection&&Hi(e,t)}))}},Vi=function(e,t,n){var r,o;Ui?((r=Ni.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,0,1),u.dispatchEvent(r)):r={promise:t,reason:n},(o=u["on"+e])?o(r):"unhandledrejection"===e&&function(e,t){var n=u.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Hi=function(e,t){Ai.call(u,(function(){var n,r=t.value;if(zi(t)&&(n=Si((function(){ji?xi.emit("unhandledRejection",r,e):Vi("unhandledrejection",e,r)})),t.rejection=ji||zi(t)?2:1,n.error))throw n.value}))},zi=function(e){return 1!==e.rejection&&!e.parent},Yi=function(e,t){Ai.call(u,(function(){ji?xi.emit("rejectionHandled",e):Vi("rejectionhandled",e,t.value)}))},Ki=function(e,t,n,r){return function(o){e(t,n,o,r)}},Xi=function(e,t,n,r){t.done||(t.done=1,r&&(t=r),t.value=n,t.state=2,Zi(e,t,1))},Wi=function(e,t,n,r){if(!t.done){t.done=1,r&&(t=r);try{if(e===n)throw Di("Promise can't be resolved itself");var o=Bi(n);o?vi((function(){var r={done:0};try{o.call(n,Ki(Wi,e,r,t),Ki(Xi,e,r,t))}catch(pm){Xi(e,r,pm,t)}})):(t.value=n,t.state=1,Zi(e,t,0))}catch(pm){Xi(e,{done:0},pm,t)}}};Fi&&(Mi=function(e){Po(this,Mi,wi),De(e),di.call(this);var t=Ti(this);try{e(Ki(Wi,this,t),Ki(Xi,this,t))}catch(pm){Xi(this,t,pm)}},(di=function(e){Ci(this,{type:wi,done:0,notified:0,parent:0,reactions:[],rejection:0,state:0,value:void 0})}).prototype=No(Mi.prototype,{then:function(e,t){var n=Oi(this),r=Ri(Go(this,Mi));return r.ok="function"==typeof e?e:1,r.fail="function"==typeof t&&t,r.domain=ji?xi.domain:void 0,n.parent=1,n.reactions.push(r),0!=n.state&&Zi(this,n,0),r.promise},catch:function(e){return this.then(void 0,e)}}),mi=function(){var e=new di,t=Ti(e);this.promise=e,this.resolve=Ki(Wi,e,t),this.reject=Ki(Xi,e,t)},bi.f=Ri=function(e){return e===Mi||e===gi?new mi(e):Gi(e)},"function"==typeof Do&&(yi=Do.prototype.then,$(Do.prototype,"then",(function(e,t){var n=this;return new Mi((function(e,t){yi.call(n,e,t)})).then(e,t)})),"function"==typeof Li&&Me({global:1,enumerable:1,forced:1},{fetch:function(e){return Ei(Mi,Li.apply(u,arguments))}}))),Me({global:1,wrap:1,forced:Fi},{Promise:Mi}),xt(Mi,wi,0),Lo(wi),gi=ee.Promise,Me({target:wi,stat:1,forced:Fi},{reject:function(e){var t=Ri(this);return t.reject.call(void 0,e),t.promise}}),Me({target:wi,stat:1,forced:Fi},{resolve:function(e){return Ei(this,e)}}),Me({target:wi,stat:1,forced:qi},{all:function(e){var t=this,n=Ri(t),r=n.resolve,o=n.reject,i=Si((function(){var n=De(t.resolve),i=[],a=0,s=1;ko(e,(function(e){var u=a++,c=0;i.push(void 0),s++,n.call(t,e).then((function(e){c||(c=1,i[u]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=Ri(t),r=n.reject,o=Si((function(){var o=De(t.resolve);ko(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var Ji,Qi,$i=function(){var e=N(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},ea=RegExp.prototype.exec,ta=String.prototype.replace,na=ea,ra=(Ji=/a/,Qi=/b*/g,ea.call(Ji,"a"),ea.call(Qi,"a"),0!==Ji.lastIndex||0!==Qi.lastIndex),oa=void 0!==/()??/.exec("")[1];(ra||oa)&&(na=function(e){var t,n,r,o,i=this;return oa&&(n=new RegExp("^"+i.source+"$(?!\\s)",$i.call(i))),ra&&(t=i.lastIndex),r=ea.call(i,e),ra&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),oa&&r&&r.length>1&&ta.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var ia=na;Me({target:"RegExp",proto:1,forced:/./.exec!==ia},{exec:ia});var aa=RegExp.prototype,sa=aa.toString,ua=c((function(){return"/a/b"!=sa.call({source:"a",flags:"b"})})),ca="toString"!=sa.name;(ua||ca)&&$(RegExp.prototype,"toString",(function(){var e=N(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in aa)?$i.call(e):n)}),{unsafe:1});var la=Ge("match"),pa=function(e){var t;return E(e)&&(void 0!==(t=e[la])?!!t:"RegExp"==g(e))},fa=function(e){if(pa(e))throw TypeError("The method doesn't accept regular expressions");return e},ha=Ge("match");Me({target:"String",proto:1,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[ha]=0,"/./"[e](t)}catch(o){}}return 0}("includes")},{includes:function(e){return!!~String(_(this)).indexOf(fa(e),arguments.length>1?arguments[1]:void 0)}});var da=Ge("species"),ma=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),ga=!c((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),ya=function(e,t,n,r){var o=Ge(e),i=!c((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!c((function(){var t=0,n=/a/;return n.exec=function(){return t=1,null},"split"===e&&(n.constructor={},n.constructor[da]=function(){return n}),n[o](""),!t}));if(!i||!a||"replace"===e&&!ma||"split"===e&&!ga){var s=/./[o],u=n(o,""[e],(function(e,t,n,r,o){return t.exec===ia?i&&!o?{done:1,value:s.call(t,n,r)}:{done:1,value:e.call(n,t,r)}:{done:0}})),l=u[0],p=u[1];$(String.prototype,e,l),$(RegExp.prototype,o,2==t?function(e,t){return p.call(e,this,t)}:function(e){return p.call(e,this)}),r&&P(RegExp.prototype[o],"sham",1)}},va=St.charAt,_a=function(e,t,n){return t+(n?va(e,t).length:1)},ba=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==g(e))throw TypeError("RegExp#exec called on incompatible receiver");return ia.call(e,t)};ya("match",1,(function(e,t,n){return[function(t){var n=_(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=N(e),i=String(this);if(!o.global)return ba(o,i);var a=o.unicode;o.lastIndex=0;for(var s,u=[],c=0;null!==(s=ba(o,i));){var l=String(s[0]);u[c]=l,""===l&&(o.lastIndex=_a(i,se(o.lastIndex),a)),c++}return 0===c?null:u}]}));var Ea=Math.max,Sa=Math.min,Aa=Math.floor,Ia=/\$([$&'`]|\d\d?|<[^>]*>)/g,wa=/\$([$&'`]|\d\d?)/g;ya("replace",2,(function(e,t,n){return[function(n,r){var o=_(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,o){var i=n(t,e,this,o);if(i.done)return i.value;var a=N(e),s=String(this),u="function"==typeof o;u||(o=String(o));var c=a.global;if(c){var l=a.unicode;a.lastIndex=0}for(var p=[];;){var f=ba(a,s);if(null===f)break;if(p.push(f),!c)break;""===String(f[0])&&(a.lastIndex=_a(s,se(a.lastIndex),l))}for(var h,d="",m=0,g=0;g<p.length;g++){f=p[g];for(var y=String(f[0]),v=Ea(Sa(ie(f.index),s.length),0),_=[],b=1;b<f.length;b++)_.push(void 0===(h=f[b])?h:String(h));var E=f.groups;if(u){var S=[y].concat(_,v,s);void 0!==E&&S.push(E);var A=String(o.apply(void 0,S))}else A=r(y,s,v,_,E,o);v>=m&&(d+=s.slice(m,v)+A,m=v+y.length)}return d+s.slice(m)}];function r(e,n,r,o,i,a){var s=r+e.length,u=o.length,c=wa;return void 0!==i&&(i=xe(i),c=Ia),t.call(a,c,(function(t,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=i[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>u){var p=Aa(l/10);return 0===p?t:p<=u?void 0===o[p-1]?a.charAt(1):o[p-1]+a.charAt(1):t}c=o[l-1]}return void 0===c?"":c}))}}));var Ta=Ge("iterator"),Ca=Ge("toStringTag"),Oa=xr.values;for(var Ma in Ht){var Da=u[Ma],Na=Da&&Da.prototype;if(Na){if(Na[Ta]!==Oa)try{P(Na,Ta,Oa)}catch(pm){Na[Ta]=Oa}if(Na[Ca]||P(Na,Ca,Ma),Ht[Ma])for(var xa in xr)if(Na[xa]!==xr[xa])try{P(Na,xa,xr[xa])}catch(pm){Na[xa]=xr[xa]}}}var La=ro.trim,Pa=u.parseFloat,ka=1/Pa(Qr+"-0")!=-1/0?function(e){var t=La(String(e)),n=Pa(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Pa;Me({global:1,forced:parseFloat!=ka},{parseFloat:ka});var Ra,Ga="undefined"!=typeof window,ja="undefined"!=typeof wx&&"function"==typeof wx.getSystemInfoSync&&"function"==typeof wx.canIUse,Ua=Ga&&window.navigator&&window.navigator.userAgent||"",Fa=/AppleWebKit\/([\d.]+)/i.exec(Ua),qa=(Fa&&parseFloat(Fa.pop()),/iPad/i.test(Ua),/iPhone/i.test(Ua),/iPod/i.test(Ua),(Ra=Ua.match(/OS (\d+)_/i))&&Ra[1]&&Ra[1],/Android/i.test(Ua)),Ba=(function(){var e=Ua.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);t&&n&&parseFloat(e[1]+"."+e[2])}(),qa&&/webkit/i.test(Ua),/Firefox/i.test(Ua),/Edge/i.test(Ua)),Za=(!Ba&&/Chrome/i.test(Ua),function(){var e=Ua.match(/Chrome\/(\d+)/);e&&e[1]&&parseFloat(e[1])}(),/MSIE/.test(Ua)),Va=(/MSIE\s8\.0/.test(Ua),function(){var e=/MSIE\s(\d+)\.\d/.exec(Ua),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Ua)&&/rv:11.0/.test(Ua)&&(t=11),t}()),Ha=(/Safari/i.test(Ua),/TBS\/\d+/i.test(Ua)),za=(function(){var e=Ua.match(/TBS\/(\d+)/i);e&&e[1]&&e[1]}(),!Ha&&/MQQBrowser\/\d+/i.test(Ua),!Ha&&/ QQBrowser\/\d+/i.test(Ua),/(micromessenger|webbrowser)/i.test(Ua)),Ya=(/Windows/i.test(Ua),/MAC OS X/i.test(Ua),/MicroMessenger/i.test(Ua),Math.max),Ka=Math.min;Me({target:"Array",proto:1,forced:!$t("splice")},{splice:function(e,t){var n,r,o,i,a,s,u=xe(this),c=se(u.length),l=le(e,c),p=arguments.length;if(0===p?n=r=0:1===p?(n=0,r=c-l):(n=p-2,r=Ka(Ya(ie(t),0),c-l)),c+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(o=Ue(u,r),i=0;i<r;i++)(a=l+i)in u&&Je(o,i,u[a]);if(o.length=r,n<r){for(i=l;i<c-r;i++)s=i+n,(a=i+r)in u?u[s]=u[a]:delete u[s];for(i=c;i>c-r+n;i--)delete u[i-1]}else if(n>r)for(i=c-r;i>l;i--)s=i+n-1,(a=i+r-1)in u?u[s]=u[a]:delete u[s];for(i=0;i<n;i++)u[i+l]=arguments[i+2];return u.length=c-r+n,o}});var Xa=!c((function(){return Object.isExtensible(Object.preventExtensions({}))})),Wa=n((function(e){var t=L.f,n=B("meta"),r=0,o=Object.isExtensible||function(){return 1},i=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:0,fastKey:function(e,t){if(!E(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!I(e,n)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!I(e,n)){if(!o(e))return 1;if(!t)return 0;i(e)}return e[n].weakData},onFreeze:function(e){return Xa&&a.REQUIRED&&o(e)&&!I(e,n)&&i(e),e}};H[n]=1})),Ja=(Wa.REQUIRED,Wa.fastKey,Wa.getWeakData,Wa.onFreeze,L.f),Qa=Wa.fastKey,$a=Q.set,es=Q.getterFor,ts=(function(e,t,n,r,o){var i=u[e],a=i&&i.prototype,s=i,l=r?"set":"add",p={},f=function(e){var t=a[e];$(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return o&&!E(e)?0:t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!E(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return o&&!E(e)?0:t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Ce(e,"function"!=typeof i||!(o||a.forEach&&!c((function(){(new i).entries().next()})))))s=n.getConstructor(t,e,r,l),Wa.REQUIRED=1;else if(Ce(e,1)){var h=new s,d=h[l](o?{}:-0,1)!=h,m=c((function(){h.has(1)})),g=ut((function(e){new i(e)})),y=!o&&c((function(){for(var e=new i,t=5;t--;)e[l](t,t);return!e.has(-0)}));g||((s=t((function(t,n){Po(t,s,e);var o=Jr(new i,t,s);return null!=n&&ko(n,o[l],o,r),o}))).prototype=a,a.constructor=s),(m||y)&&(f("delete"),f("has"),r&&f("get")),(y||d)&&f(l),o&&a.clear&&delete a.clear}p[e]=s,Me({global:1,forced:s!=i},p),xt(s,e),o||n.setStrong(s,e,r)}("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var o=e((function(e,i){Po(e,o,t),$a(e,{type:t,index:gt(null),first:void 0,last:void 0,size:0}),l||(e.size=0),null!=i&&ko(i,e[r],e,n)})),i=es(t),a=function(e,t,n){var r,o,a=i(e),u=s(e,t);return u?u.value=n:(a.last=u={index:o=Qa(t,1),key:t,value:n,previous:r=a.last,next:void 0,removed:0},a.first||(a.first=u),r&&(r.next=u),l?a.size++:e.size++,"F"!==o&&(a.index[o]=u)),e},s=function(e,t){var n,r=i(e),o=Qa(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return No(o.prototype,{clear:function(){for(var e=i(this),t=e.index,n=e.first;n;)n.removed=1,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,l?e.size=0:this.size=0},delete:function(e){var t=i(this),n=s(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=1,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),l?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=i(this),r=Ne(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),No(o.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),l&&Ja(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=es(t),i=es(r);qt(e,t,(function(e,t){$a(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:0}:"values"==t?{value:n.value,done:0}:{value:[n.key,n.value],done:0}:(e.target=void 0,{value:void 0,done:1})}),n?"entries":"values",!n,1),Lo(t)}},1),[].push),ns=Math.min,rs=!c((function(){return!RegExp(4294967295,"y")}));ya("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(_(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!pa(e))return t.call(r,e,o);for(var i,a,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,p=new RegExp(e.source,c+"g");(i=ia.call(p,r))&&!((a=p.lastIndex)>l&&(u.push(r.slice(l,i.index)),i.length>1&&i.index<r.length&&ts.apply(u,i.slice(1)),s=i[0].length,l=a,u.length>=o));)p.lastIndex===i.index&&p.lastIndex++;return l===r.length?!s&&p.test("")||u.push(""):u.push(r.slice(l)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=_(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var a=N(e),s=String(this),u=Go(a,RegExp),c=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(rs?"y":"g"),p=new u(rs?a:"^(?:"+a.source+")",l),f=void 0===o?4294967295:o>>>0;if(0===f)return[];if(0===s.length)return null===ba(p,s)?[s]:[];for(var h=0,d=0,m=[];d<s.length;){p.lastIndex=rs?d:0;var g,y=ba(p,rs?s:s.slice(d));if(null===y||(g=ns(se(p.lastIndex+(rs?0:d)),s.length))===h)d=_a(s,d,c);else{if(m.push(s.slice(h,d)),m.length===f)return m;for(var v=1;v<=y.length-1;v++)if(m.push(y[v]),m.length===f)return m;d=h=g}}return m.push(s.slice(h)),m}]}),!rs);var os,is,as="undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};os="undefined"!=typeof console?console:void 0!==as&&as.console?as.console:"undefined"!=typeof window&&window.console?window.console:{};for(var ss=function(){},us=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],cs=us.length;cs--;)is=us[cs],console[is]||(os[is]=ss);os.methods=us;var ls=os,ps=0,fs=function(){if(ja){var e=wx.getSystemInfoSync().SDKVersion;if(void 0===e||void 0===wx.getLogManager)return 0;if(function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var o=parseInt(e[r]),i=parseInt(t[r]);if(o>i)return 1;if(o<i)return-1}return 0}(e,"2.1.0")>=0)return wx.getLogManager().log("I can use wx log. SDKVersion="+e),1}return 0}(),hs=new Map;function ds(){var e=new Date;return"TIM "+e.toLocaleTimeString("en-US",{hour12:0})+"."+function(e){var t;switch(e.toString().length){case 1:t="00"+e;break;case 2:t="0"+e;break;default:t=e}return t}(e.getMilliseconds())+":"}var ms={_data:[],_length:0,_visible:0,arguments2String:function(e){var t;if(1===e.length)t=ds()+e[0];else{t=ds();for(var n=0,r=e.length;n<r;n++)ws(e[n])?Cs(e[n])?t+=Ls(e[n]):t+=JSON.stringify(e[n]):t+=e[n],t+=" "}return t},debug:function(){if(ps<=-1){var e=this.arguments2String(arguments);ms.record(e,"debug"),ls.debug(e),fs&&wx.getLogManager().debug(e)}},log:function(){if(ps<=0){var e=this.arguments2String(arguments);ms.record(e,"log"),ls.log(e),fs&&wx.getLogManager().log(e)}},info:function(){if(ps<=1){var e=this.arguments2String(arguments);ms.record(e,"info"),ls.info(e),fs&&wx.getLogManager().info(e)}},warn:function(){if(ps<=2){var e=this.arguments2String(arguments);ms.record(e,"warn"),ls.warn(e),fs&&wx.getLogManager().warn(e)}},error:function(){if(ps<=3){var e=this.arguments2String(arguments);ms.record(e,"error"),ls.error(e),fs&&wx.getLogManager().warn(e)}},time:function(e){hs.set(e,Ns.now())},timeEnd:function(e){if(hs.has(e)){var t=Ns.now()-hs.get(e);return hs.delete(e),t}return ls.warn("未找到对应label: ".concat(e,", 请在调用 logger.timeEnd 前，调用 logger.time")),0},setLevel:function(e){e<4&&ls.log(ds()+"set level from "+ps+" to "+e),ps=e},record:function(e,t){fs||(1100===ms._length&&(ms._data.splice(0,100),ms._length=1e3),ms._length++,ms._data.push("".concat(e," [").concat(t,"] \n")))},getLog:function(){return ms._data}},gs=function(e){return"map"===Os(e)},ys=function(e){return"set"===Os(e)},vs=function(e){return"file"===Os(e)},_s=function(e){return null!==e&&("number"==typeof e&&!isNaN(e-0)||"object"===an(e)&&e.constructor===Number)},bs=function(e){return"string"==typeof e},Es=function(e){return null!==e&&"object"===an(e)},Ss=function(e){if("object"!==an(e)||null===e)return 0;var t=Object.getPrototypeOf(e);if(null===t)return 1;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n},As=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"array"===Os(e)},Is=function(e){return void 0===e},ws=function(e){return As(e)||Es(e)},Ts=function(e){return"function"==typeof e},Cs=function(e){return e instanceof Error},Os=function(e){return Object.prototype.toString.call(e).match(/^\[object (.*)\]$/)[1].toLowerCase()},Ms=function(e){if("string"!=typeof e)return 0;var t=e[0];return/[^a-zA-Z0-9]/.test(t)?0:1},Ds=0;Date.now||(Date.now=function(){return(new Date).getTime()});var Ns={now:function(){0===Ds&&(Ds=Date.now()-1);var e=Date.now()-Ds;return e>4294967295?(Ds+=4294967295,Date.now()-Ds):e},utc:function(){return Math.round(Date.now()/1e3)}},xs=function e(t,n,r,o){if(!ws(t)||!ws(n))return 0;for(var i,a=0,s=Object.keys(n),u=0,c=s.length;u<c;u++)if(i=s[u],!(Is(n[i])||r&&r.includes(i)))if(ws(t[i])&&ws(n[i]))a+=e(t[i],n[i],r,o);else{if(o&&o.includes(n[i]))continue;t[i]!==n[i]&&(t[i]=n[i],a+=1)}return a},Ls=function(e){return JSON.stringify(e,["message","code"])},Ps=function(){var e=new Date,t=e.toISOString(),n=e.getTimezoneOffset()/60,r="";return r=n<0?n>-10?"+0"+Math.abs(100*n):"+"+Math.abs(100*n):n>=10?"-"+100*n:"-0"+100*n,t.replace("Z",r)},ks=function(e){if(0===e.length)return 0;for(var t=0,n=0,r="undefined"!=typeof document&&void 0!==document.characterSet?document.characterSet:"UTF-8";void 0!==e[t];)n+=e[t++].charCodeAt[t]<=255?1:0==r?3:2;return n},Rs=function(e){var t=e||99999999;return Math.round(Math.random()*t)},Gs="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",js=Gs.length,Us=function(e,t){for(var n in e)if(e[n]===t)return 1;return 0},Fs={},qs=function(){if(ja)return"https:";var e=window.location.protocol;return["http:","https:"].indexOf(e)<0&&(e="http:"),e},Bs=function(e){return-1===e.indexOf("http://")||-1===e.indexOf("https://")?"https://"+e:e.replace(/https|http/,"https")},Zs=function(e){return e===Jt.GRP_PUBLIC},Vs=function(e){return e===Jt.GRP_AVCHATROOM};function Hs(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}function zs(e,t){return"function"!=typeof e?(ms.warn("callbackSafetyDefense: The callback must be a function"),e):function(){try{e.apply(t,arguments)}catch(pm){console.error(pm)}}}var Ys=Object.prototype.hasOwnProperty;function Ks(e){if(null==e)return 1;if("boolean"==typeof e)return 0;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e))return 0===e.length;if(e instanceof Error)return""===e.message;if(Ss(e)){for(var t in e)if(Ys.call(e,t))return 0;return 1}return gs(e)||ys(e)||vs(e)?0===e.size:0}function Xs(e,t,n){if(void 0===t)return 1;var r=1;if("object"===Nn(t).toLowerCase())Object.keys(t).forEach((function(o){var i=1===e.length?e[0][o]:void 0;r=Ws(i,t[o],n,o)?r:0}));else if("array"===Nn(t).toLowerCase())for(var o=0;o<t.length;o++)r=Ws(e[o],t[o],n,t[o].name)?r:0;if(r)return r;throw new Error("Params validate failed.")}function Ws(e,t,n,r){if(void 0===t)return 1;var o=1;return t.required&&Ks(e)&&(ls.error("TIM [".concat(n,'] Missing required params: "').concat(r,'".')),o=0),Ks(e)||Nn(e).toLowerCase()===t.type.toLowerCase()||(ls.error("TIM [".concat(n,'] Invalid params: type check failed for "').concat(r,'".Expected ').concat(t.type,".")),o=0),t.validator&&!t.validator(e)&&(ls.error("TIM [".concat(n,"] Invalid params: custom validator check failed for params.")),o=0),o}var Js={login:{userID:{type:"String",required:1},userSig:{type:"String",required:1}},addToBlacklist:{userIDList:{type:"Array",required:1}},mutilParam:[{name:"paramName",type:"Number",required:1},{name:"paramName",type:"String",required:1}],on:[{name:"eventName",type:"String",context:"Object",required:1},{name:"listener",type:"Function",required:0}],sendMessage:[{name:"message",type:"Object",required:1}],getMessageList:{conversationID:{type:"String",required:1},nextReqMessageID:{type:"String"},count:{type:"Number",validator:function(e){return Is(e)||/^[1-9][0-9]*$/.test(e)?1:(console.warn("getMessageList 接口的 count 参数必须为正整数"),0)}}},getConversationProfile:[{name:"conversationID",type:"String",required:1,validator:function(e){return e?bs(t=e)&&t.slice(0,3)===Jt.CONV_C2C||function(e){return bs(e)&&e.slice(0,5)===Jt.CONV_GROUP}(e)||function(e){return bs(e)&&e===Jt.CONV_SYSTEM}(e)?1:(console.warn("非法的会话 ID:".concat(e,"。会话 ID 组成方式：\n      C2C + userID（单聊）\n      GROUP + groupID（群聊）\n      @TIM#SYSTEM（系统通知会话）")),0):0;var t}}],deleteConversation:[{name:"conversationID",type:"String",required:1}],getGroupList:{groupProfileFilter:{type:"Array"}},getGroupProfile:{groupID:{type:"String",required:1},groupCustomFieldFilter:{type:"Array"},memberCustomFieldFilter:{type:"Array"}},getGroupProfileAdvance:{groupIDList:{type:"Array",required:1}},createGroup:{name:{type:"String",required:1}},joinGroup:{groupID:{type:"String",required:1},type:{type:"String"},applyMessage:{type:"String"}},quitGroup:[{name:"groupID",type:"String",required:1}],handleApplication:{message:{type:"Object",required:1},handleAction:{type:"String",required:1},handleMessage:{type:"String"}},changeGroupOwner:{groupID:{type:"String",required:1},newOwnerID:{type:"String",required:1}},updateGroupProfile:{groupID:{type:"String",required:1}},dismissGroup:[{name:"groupID",type:"String",required:1}],searchGroupByID:[{name:"groupID",type:"String",required:1}],getGroupMemberList:{groupID:{type:"String",required:1},offset:{type:"Number"},count:{type:"Number"}},getGroupMemberProfile:{groupID:{type:"String",required:1},userIDList:{type:"Array",required:1},memberCustomFieldFilter:{type:"Array"}},addGroupMemeber:{groupID:{type:"String",required:1},userIDList:{type:"Array",required:1}},setGroupMemberRole:{groupID:{type:"String",required:1},userID:{type:"String",required:1},role:{type:"String",required:1}},setGroupMemberMuteTime:{groupID:{type:"String",required:1},userID:{type:"String"},muteTime:{type:"Number",validator:function(e){return e>=0}}},setGroupMemberNameCard:{groupID:{type:"String",required:1},userID:{type:"String"},nameCard:{type:"String",required:1,validator:function(e){return 1==/^\s+$/.test(e)?0:1}}},setMessageRemindType:{groupID:{type:"String",required:1},messageRemindType:{type:"String",required:1}},setGroupMemberCustomField:{groupID:{type:"String",required:1},userID:{type:"String"},memberCustomField:{type:"Array",required:1}},deleteGroupMember:{groupID:{type:"String",required:1}},createTextMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createCustomMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createImageMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createAudioMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createVideoMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createFaceMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1,validator:function(e){return Ss(e)?_s(e.index)?bs(e.data)?1:(console.warn("createFaceMessage payload.data 类型必须为 String！"),0):(console.warn("createFaceMessage payload.index 类型必须为 Number！"),0):0}}},createFileMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}}},Qs={login:"login",logout:"logout",on:"on",once:"once",off:"off",setLogLevel:"setLogLevel",downloadLog:"downloadLog",registerPlugin:"registerPlugin",destroy:"destroy",createTextMessage:"createTextMessage",createImageMessage:"createImageMessage",createAudioMessage:"createAudioMessage",createVideoMessage:"createVideoMessage",createCustomMessage:"createCustomMessage",createFaceMessage:"createFaceMessage",createFileMessage:"createFileMessage",sendMessage:"sendMessage",resendMessage:"resendMessage",getMessageList:"getMessageList",setMessageRead:"setMessageRead",getConversationList:"getConversationList",getConversationProfile:"getConversationProfile",deleteConversation:"deleteConversation",getGroupList:"getGroupList",getGroupProfile:"getGroupProfile",createGroup:"createGroup",joinGroup:"joinGroup",updateGroupProfile:"updateGroupProfile",quitGroup:"quitGroup",dismissGroup:"dismissGroup",changeGroupOwner:"changeGroupOwner",searchGroupByID:"searchGroupByID",setMessageRemindType:"setMessageRemindType",handleGroupApplication:"handleGroupApplication",getGroupMemberProfile:"getGroupMemberProfile",getGroupMemberList:"getGroupMemberList",addGroupMember:"addGroupMember",deleteGroupMember:"deleteGroupMember",setGroupMemberNameCard:"setGroupMemberNameCard",setGroupMemberMuteTime:"setGroupMemberMuteTime",setGroupMemberRole:"setGroupMemberRole",setGroupMemberCustomField:"setGroupMemberCustomField",getMyProfile:"getMyProfile",getUserProfile:"getUserProfile",updateMyProfile:"updateMyProfile",getBlacklist:"getBlacklist",addToBlacklist:"addToBlacklist",removeFromBlacklist:"removeFromBlacklist",getFriendList:"getFriendList"},$s=Ge("iterator"),eu=!c((function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[$s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash})),tu=Object.assign,nu=!tu||c((function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=tu({},e)[n]||"abcdefghijklmnopqrst"!=lt(tu({},t)).join("")}))?function(e,t){for(var n=xe(e),r=arguments.length,o=1,i=ve.f,a=h.f;r>o;)for(var s,u=v(arguments[o++]),c=i?lt(u).concat(i(u)):lt(u),p=c.length,f=0;p>f;)s=c[f++],l&&!a.call(u,s)||(n[s]=u[s]);return n}:tu,ru=/[^\0-\u007E]/,ou=/[.\u3002\uFF0E\uFF61]/g,iu="Overflow: input needs wider integers to process",au=Math.floor,su=String.fromCharCode,uu=function(e){return e+22+75*(e<26)},cu=function(e,t,n){var r=0;for(e=n?au(e/700):e>>1,e+=au(e/t);e>455;r+=36)e=au(e/35);return au(r+36*e/(e+38))},lu=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,i=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(su(n));var u=r.length,c=u;for(u&&r.push("-");c<o;){var l=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=i&&n<l&&(l=n);var p=c+1;if(l-i>au((2147483647-a)/p))throw RangeError(iu);for(a+=(l-i)*p,i=l,t=0;t<e.length;t++){if((n=e[t])<i&&++a>2147483647)throw RangeError(iu);if(n==i){for(var f=a,h=36;;h+=36){var d=h<=s?1:h>=s+26?26:h-s;if(f<d)break;var m=f-d,g=36-d;r.push(su(uu(d+m%g))),f=au(m/g)}r.push(su(uu(f))),s=cu(a,p,c==u),a=0,++c}}++a,++i}return r.join("")},pu=function(e){var t=nt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return N(t.call(e))},fu=Ge("iterator"),hu=Q.set,du=Q.getterFor("URLSearchParams"),mu=Q.getterFor("URLSearchParamsIterator"),gu=/\+/g,yu=Array(4),vu=function(e){return yu[e-1]||(yu[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},_u=function(e){try{return decodeURIComponent(e)}catch(pm){return e}},bu=function(e){var t=e.replace(gu," "),n=4;try{return decodeURIComponent(t)}catch(pm){for(;n;)t=t.replace(vu(n--),_u);return t}},Eu=/[!'()~]|%20/g,Su={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Au=function(e){return Su[e]},Iu=function(e){return encodeURIComponent(e).replace(Eu,Au)},wu=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:bu(r.shift()),value:bu(r.join("="))}))},Tu=function(e){this.entries.length=0,wu(this.entries,e)},Cu=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Ou=kt((function(e,t){hu(this,{type:"URLSearchParamsIterator",iterator:pu(du(e).entries),kind:t})}),"Iterator",(function(){var e=mu(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),Mu=function(){Po(this,Mu,"URLSearchParams");var e,t,n,r,o,i,a,s=arguments.length>0?arguments[0]:void 0,u=this,c=[];if(hu(u,{type:"URLSearchParams",entries:c,updateURL:function(){},updateSearchParams:Tu}),void 0!==s)if(E(s))if("function"==typeof(e=nt(s)))for(t=e.call(s);!(n=t.next()).done;){if((o=(r=pu(N(n.value))).next()).done||(i=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");c.push({key:o.value+"",value:i.value+""})}else for(a in s)I(s,a)&&c.push({key:a,value:s[a]+""});else wu(c,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},Du=Mu.prototype;No(Du,{append:function(e,t){Cu(arguments.length,2);var n=du(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Cu(arguments.length,1);for(var t=du(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){Cu(arguments.length,1);for(var t=du(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Cu(arguments.length,1);for(var t=du(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){Cu(arguments.length,1);for(var t=du(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return 1;return 0},set:function(e,t){Cu(arguments.length,1);for(var n,r=du(this),o=r.entries,i=0,a=e+"",s=t+"",u=0;u<o.length;u++)(n=o[u]).key===a&&(i?o.splice(u--,1):(i=1,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=du(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=du(this).entries,r=Ne(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new Ou(this,"keys")},values:function(){return new Ou(this,"values")},entries:function(){return new Ou(this,"entries")}},{enumerable:1}),$(Du,fu,Du.entries),$(Du,"toString",(function(){for(var e,t=du(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(Iu(e.key)+"="+Iu(e.value));return n.join("&")}),{enumerable:1}),xt(Mu,"URLSearchParams"),Me({global:1,forced:!eu},{URLSearchParams:Mu});var Nu,xu={URLSearchParams:Mu,getState:du},Lu=St.codeAt,Pu=u.URL,ku=xu.URLSearchParams,Ru=xu.getState,Gu=Q.set,ju=Q.getterFor("URL"),Uu=Math.floor,Fu=Math.pow,qu=/[A-Za-z]/,Bu=/[\d+\-.A-Za-z]/,Zu=/\d/,Vu=/^(0x|0X)/,Hu=/^[0-7]+$/,zu=/^\d+$/,Yu=/^[\dA-Fa-f]+$/,Ku=/[\u0000\u0009\u000A\u000D #%\/:?@[\\]]/,Xu=/[\u0000\u0009\u000A\u000D #\/:?@[\\]]/,Wu=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Ju=/[\u0009\u000A\u000D]/g,Qu=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=ec(t.slice(1,-1))))return"Invalid host";e.host=n}else if(uc(e)){if(t=function(e){var t,n,r=[],o=e.toLowerCase().replace(ou,".").split(".");for(t=0;t<o.length;t++)n=o[t],r.push(ru.test(n)?"xn--"+lu(n):n);return r.join(".")}(t),Ku.test(t))return"Invalid host";if(null===(n=$u(t)))return"Invalid host";e.host=n}else{if(Xu.test(t))return"Invalid host";for(n="",r=rt(t),o=0;o<r.length;o++)n+=ac(r[o],nc);e.host=n}},$u=function(e){var t,n,r,o,i,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=u[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=Vu.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?zu:8==i?Hu:Yu).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Fu(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*Fu(256,3-r);return s},ec=function(e){var t,n,r,o,i,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,p=0,f=function(){return e.charAt(p)};if(":"==f()){if(":"!=e.charAt(1))return;p+=2,l=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&Yu.test(f());)t=16*t+parseInt(f(),16),p++,n++;if("."==f()){if(0==n)return;if(p-=n,c>6)return;for(r=0;f();){if(o=null,r>0){if(!("."==f()&&r<4))return;p++}if(!Zu.test(f()))return;for(;Zu.test(f());){if(i=parseInt(f(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;p++}u[c]=256*u[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(p++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;p++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},tc=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Uu(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=0),r===n?(t+=n?":":"::",o=1):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},nc={},rc=nu({},nc,{" ":1,'"':1,"<":1,">":1,"`":1}),oc=nu({},rc,{"#":1,"?":1,"{":1,"}":1}),ic=nu({},oc,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ac=function(e,t){var n=Lu(e,0);return n>32&&n<127&&!I(t,e)?e:encodeURIComponent(e)},sc={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},uc=function(e){return I(sc,e.scheme)},cc=function(e){return""!=e.username||""!=e.password},lc=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},pc=function(e,t){var n;return 2==e.length&&qu.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},fc=function(e){var t;return e.length>1&&pc(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},hc=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&pc(t[0],1)||t.pop()},dc=function(e){return"."===e||"%2e"===e.toLowerCase()},mc={},gc={},yc={},vc={},_c={},bc={},Ec={},Sc={},Ac={},Ic={},wc={},Tc={},Cc={},Oc={},Mc={},Dc={},Nc={},xc={},Lc={},Pc={},kc={},Rc=function(e,t,n,r){var o,i,a,s,u,c=n||mc,l=0,p="",f=0,h=0,d=0;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=0,t=t.replace(Wu,"")),t=t.replace(Ju,""),o=rt(t);l<=o.length;){switch(i=o[l],c){case mc:if(!i||!qu.test(i)){if(n)return"Invalid scheme";c=yc;continue}p+=i.toLowerCase(),c=gc;break;case gc:if(i&&(Bu.test(i)||"+"==i||"-"==i||"."==i))p+=i.toLowerCase();else{if(":"!=i){if(n)return"Invalid scheme";p="",c=yc,l=0;continue}if(n&&(uc(e)!=I(sc,p)||"file"==p&&(cc(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(uc(e)&&sc[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=Oc:uc(e)&&r&&r.scheme==e.scheme?c=vc:uc(e)?c=Sc:"/"==o[l+1]?(c=_c,l++):(e.cannotBeABaseURL=1,e.path.push(""),c=Lc)}break;case yc:if(!r||r.cannotBeABaseURL&&"#"!=i)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==i){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=1,c=kc;break}c="file"==r.scheme?Oc:bc;continue;case vc:if("/"!=i||"/"!=o[l+1]){c=bc;continue}c=Ac,l++;break;case _c:if("/"==i){c=Ic;break}c=xc;continue;case bc:if(e.scheme=r.scheme,i==Nu)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==i||"\\"==i&&uc(e))c=Ec;else if("?"==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=Pc;else{if("#"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=xc;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=kc}break;case Ec:if(!uc(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=xc;continue}c=Ic}else c=Ac;break;case Sc:if(c=Ac,"/"!=i||"/"!=p.charAt(l+1))continue;l++;break;case Ac:if("/"!=i&&"\\"!=i){c=Ic;continue}break;case Ic:if("@"==i){f&&(p="%40"+p),f=1,a=rt(p);for(var m=0;m<a.length;m++){var g=a[m];if(":"!=g||d){var y=ac(g,ic);d?e.password+=y:e.username+=y}else d=1}p=""}else if(i==Nu||"/"==i||"?"==i||"#"==i||"\\"==i&&uc(e)){if(f&&""==p)return"Invalid authority";l-=rt(p).length+1,p="",c=wc}else p+=i;break;case wc:case Tc:if(n&&"file"==e.scheme){c=Dc;continue}if(":"!=i||h){if(i==Nu||"/"==i||"?"==i||"#"==i||"\\"==i&&uc(e)){if(uc(e)&&""==p)return"Invalid host";if(n&&""==p&&(cc(e)||null!==e.port))return;if(s=Qu(e,p))return s;if(p="",c=Nc,n)return;continue}"["==i?h=1:"]"==i&&(h=0),p+=i}else{if(""==p)return"Invalid host";if(s=Qu(e,p))return s;if(p="",c=Cc,n==Tc)return}break;case Cc:if(!Zu.test(i)){if(i==Nu||"/"==i||"?"==i||"#"==i||"\\"==i&&uc(e)||n){if(""!=p){var v=parseInt(p,10);if(v>65535)return"Invalid port";e.port=uc(e)&&v===sc[e.scheme]?null:v,p=""}if(n)return;c=Nc;continue}return"Invalid port"}p+=i;break;case Oc:if(e.scheme="file","/"==i||"\\"==i)c=Mc;else{if(!r||"file"!=r.scheme){c=xc;continue}if(i==Nu)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==i)e.host=r.host,e.path=r.path.slice(),e.query="",c=Pc;else{if("#"!=i){fc(o.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),hc(e)),c=xc;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=kc}}break;case Mc:if("/"==i||"\\"==i){c=Dc;break}r&&"file"==r.scheme&&!fc(o.slice(l).join(""))&&(pc(r.path[0],1)?e.path.push(r.path[0]):e.host=r.host),c=xc;continue;case Dc:if(i==Nu||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&pc(p))c=xc;else if(""==p){if(e.host="",n)return;c=Nc}else{if(s=Qu(e,p))return s;if("localhost"==e.host&&(e.host=""),n)return;p="",c=Nc}continue}p+=i;break;case Nc:if(uc(e)){if(c=xc,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=Nu&&(c=xc,"/"!=i))continue}else e.fragment="",c=kc;else e.query="",c=Pc;break;case xc:if(i==Nu||"/"==i||"\\"==i&&uc(e)||!n&&("?"==i||"#"==i)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(hc(e),"/"==i||"\\"==i&&uc(e)||e.path.push("")):dc(p)?"/"==i||"\\"==i&&uc(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&pc(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(i==Nu||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",c=Pc):"#"==i&&(e.fragment="",c=kc)}else p+=ac(i,oc);break;case Lc:"?"==i?(e.query="",c=Pc):"#"==i?(e.fragment="",c=kc):i!=Nu&&(e.path[0]+=ac(i,nc));break;case Pc:n||"#"!=i?i!=Nu&&("'"==i&&uc(e)?e.query+="%27":e.query+="#"==i?"%23":ac(i,nc)):(e.fragment="",c=kc);break;case kc:i!=Nu&&(e.fragment+=ac(i,rc))}l++}},Gc=function(e){var t,n,r=Po(this,Gc,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),a=Gu(r,{type:"URL"});if(void 0!==o)if(o instanceof Gc)t=ju(o);else if(n=Rc(t={},String(o)))throw TypeError(n);if(n=Rc(a,i,null,t))throw TypeError(n);var s=a.searchParams=new ku,u=Ru(s);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(s)||null},l||(r.href=Uc.call(r),r.origin=Fc.call(r),r.protocol=qc.call(r),r.username=Bc.call(r),r.password=Zc.call(r),r.host=Vc.call(r),r.hostname=Hc.call(r),r.port=zc.call(r),r.pathname=Yc.call(r),r.search=Kc.call(r),r.searchParams=Xc.call(r),r.hash=Wc.call(r))},jc=Gc.prototype,Uc=function(){var e=ju(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",cc(e)&&(c+=n+(r?":"+r:"")+"@"),c+=tc(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Fc=function(){var e=ju(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(pm){return"null"}return"file"!=t&&uc(e)?t+"://"+tc(e.host)+(null!==n?":"+n:""):"null"},qc=function(){return ju(this).scheme+":"},Bc=function(){return ju(this).username},Zc=function(){return ju(this).password},Vc=function(){var e=ju(this),t=e.host,n=e.port;return null===t?"":null===n?tc(t):tc(t)+":"+n},Hc=function(){var e=ju(this).host;return null===e?"":tc(e)},zc=function(){var e=ju(this).port;return null===e?"":String(e)},Yc=function(){var e=ju(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Kc=function(){var e=ju(this).query;return e?"?"+e:""},Xc=function(){return ju(this).searchParams},Wc=function(){var e=ju(this).fragment;return e?"#"+e:""},Jc=function(e,t){return{get:e,set:t,configurable:1,enumerable:1}};if(l&&pt(jc,{href:Jc(Uc,(function(e){var t=ju(this),n=String(e),r=Rc(t,n);if(r)throw TypeError(r);Ru(t.searchParams).updateSearchParams(t.query)})),origin:Jc(Fc),protocol:Jc(qc,(function(e){var t=ju(this);Rc(t,String(e)+":",mc)})),username:Jc(Bc,(function(e){var t=ju(this),n=rt(String(e));if(!lc(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=ac(n[r],ic)}})),password:Jc(Zc,(function(e){var t=ju(this),n=rt(String(e));if(!lc(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=ac(n[r],ic)}})),host:Jc(Vc,(function(e){var t=ju(this);t.cannotBeABaseURL||Rc(t,String(e),wc)})),hostname:Jc(Hc,(function(e){var t=ju(this);t.cannotBeABaseURL||Rc(t,String(e),Tc)})),port:Jc(zc,(function(e){var t=ju(this);lc(t)||(""==(e=String(e))?t.port=null:Rc(t,e,Cc))})),pathname:Jc(Yc,(function(e){var t=ju(this);t.cannotBeABaseURL||(t.path=[],Rc(t,e+"",Nc))})),search:Jc(Kc,(function(e){var t=ju(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Rc(t,e,Pc)),Ru(t.searchParams).updateSearchParams(t.query)})),searchParams:Jc(Xc),hash:Jc(Wc,(function(e){var t=ju(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Rc(t,e,kc)):t.fragment=null}))}),$(jc,"toJSON",(function(){return Uc.call(this)}),{enumerable:1}),$(jc,"toString",(function(){return Uc.call(this)}),{enumerable:1}),Pu){var Qc=Pu.createObjectURL,$c=Pu.revokeObjectURL;Qc&&$(Gc,"createObjectURL",(function(e){return Qc.apply(Pu,arguments)})),$c&&$(Gc,"revokeObjectURL",(function(e){return $c.apply(Pu,arguments)}))}xt(Gc,"URL"),Me({global:1,forced:!eu,sham:!l},{URL:Gc});var el={NO_SDKAPPID:2e3,NO_ACCOUNT_TYPE:2001,NO_IDENTIFIER:2002,NO_USERSIG:2003,NO_SDK_INSTANCE:2004,REQ_GET_ACCESS_LAYER_FAILED:2020,REQ_LOGIN_FAILED:2021,NO_TINYID:2022,NO_A2KEY:2023,NOT_LOGGED_IN:2024,COS_UNDETECTED:2040,MESSAGE_SEND_FAIL:2100,MESSAGE_UNKNOW_ROMA_LIST_END_FLAG_FIELD:2101,MESSAGE_ELEMENT_METHOD_UNDEFINED:2102,MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS:2103,MESSAGE_PARAMETER_MISSING_TO_ACCOUNT:2104,MESSAGE_SEND_NEED_MESSAGE_INSTANCE:2105,MESSAGE_SEND_INVALID_CONVERSATION_TYPE:2106,MESSAGE_RESEND_FILE_UNSUPPORTED:2107,MESSAGE_FILE_IS_EMPTY:2108,MESSAGE_ONPROGRESS_FUNCTION_ERROR:2109,MESSAGE_IMAGE_UPLOAD_FAIL:2250,MESSAGE_IMAGE_SELECT_FILE_FIRST:2251,MESSAGE_IMAGE_TYPES_LIMIT:2252,MESSAGE_IMAGE_SIZE_LIMIT:2253,MESSAGE_AUDIO_UPLOAD_FAIL:2300,MESSAGE_AUDIO_SIZE_LIMIT:2301,MESSAGE_VIDEO_UPLOAD_FAIL:2350,MESSAGE_VIDEO_SIZE_LIMIT:2351,MESSAGE_VIDEO_TYPES_LIMIT:2352,MESSAGE_FILE_UPLOAD_FAIL:2400,MESSAGE_FILE_SELECT_FILE_FIRST:2401,MESSAGE_FILE_SIZE_LIMIT:2402,MESSAGE_FILE_URL_IS_EMPTY:2403,CONVERSATION_NOT_FOUND:2500,USER_OR_GROUP_NOT_FOUND:2501,CONVERSATION_UN_RECORDED_TYPE:2502,ILLEGAL_GROUP_TYPE:2600,CANNOT_JOIN_PRIVATE:2601,CANNOT_CHANGE_OWNER_IN_AVCHATROOM:2620,CANNOT_CHANGE_OWNER_TO_SELF:2621,CANNOT_DISMISS_PRIVATE:2622,JOIN_GROUP_FAIL:2660,CANNOT_ADD_MEMBER_IN_AVCHATROOM:2661,CANNOT_KICK_MEMBER_IN_AVCHATROOM:2680,NOT_OWNER:2681,CANNOT_SET_MEMBER_ROLE_IN_PRIVATE_AND_AVCHATROOM:2682,INVALID_MEMBER_ROLE:2683,CANNOT_SET_SELF_MEMBER_ROLE:2684,DEL_FRIEND_INVALID_PARAM:2700,GET_PROFILE_INVALID_PARAM:2720,UPDATE_PROFILE_INVALID_PARAM:2721,ADD_BLACKLIST_INVALID_PARAM:2740,DEL_BLACKLIST_INVALID_PARAM:2741,CANNOT_ADD_SELF_TO_BLACKLIST:2742,NETWORK_ERROR:2800,NETWORK_TIMEOUT:2801,NETWORK_BASE_OPTIONS_NO_URL:2802,NETWORK_UNDEFINED_SERVER_NAME:2803,NETWORK_PACKAGE_UNDEFINED:2804,NO_NETWORK:2805,SOCKET_NOT_SUPPORTED:2850,CONVERTOR_IRREGULAR_PARAMS:2900,NOTICE_RUNLOOP_UNEXPECTED_CONDITION:2901,NOTICE_RUNLOOP_OFFSET_LOST:2902,GET_LONGPOLL_ID_FAILED:2903,UNCAUGHT_ERROR:2903,SDK_IS_NOT_READY:2999,SSO_LOG_MODEL_INIT_ERROR:3e3,LONG_POLL_KICK_OUT:91101},tl={NO_SDKAPPID:"无 SDKAppID",NO_ACCOUNT_TYPE:"无 accountType",NO_IDENTIFIER:"无 userID",NO_USERSIG:"无 usersig",NO_SDK_INSTANCE:"无 SDK 实例",REQ_GET_ACCESS_LAYER_FAILED:"获取沙箱请求失败",REQ_LOGIN_FAILED:"登录请求失败",NO_TINYID:"无tinyid",NO_A2KEY:"无a2key",NOT_LOGGED_IN:"未登录",COS_UNDETECTED:"未检测到 COS 上传插件",MESSAGE_SEND_FAIL:"消息发送失败",MESSAGE_UNKNOW_ROMA_LIST_END_FLAG_FIELD:"未知的漫游消息结束字段",MESSAGE_ELEMENT_METHOD_UNDEFINED:"消息元素未创建，因为方法未定义",MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS:"MessageController.constructor() 需要参数 options",MESSAGE_PARAMETER_MISSING_TO_ACCOUNT:"需要 toAccount 参数",MESSAGE_SEND_NEED_MESSAGE_INSTANCE:"需要 Message 的实例",MESSAGE_SEND_INVALID_CONVERSATION_TYPE:'Message.conversationType 只能为 "C2C"或"GROUP" ',MESSAGE_RESEND_FILE_UNSUPPORTED:"文件类消息不能使用 SDK.resendMessage() 函数重发",MESSAGE_FILE_IS_EMPTY:"无法发送空文件",MESSAGE_ONPROGRESS_FUNCTION_ERROR:"回调函数运行时遇到错误，请检查接入侧代码",MESSAGE_IMAGE_UPLOAD_FAIL:"图片上传失败",MESSAGE_IMAGE_SELECT_FILE_FIRST:"请先选择一个图片",MESSAGE_IMAGE_TYPES_LIMIT:"只允许上传 jpg png jpeg gif 格式的图片",MESSAGE_IMAGE_SIZE_LIMIT:"图片大小超过20M，无法发送",MESSAGE_AUDIO_UPLOAD_FAIL:"语音上传失败",MESSAGE_AUDIO_SIZE_LIMIT:"语音大小大于20M，无法发送",MESSAGE_VIDEO_UPLOAD_FAIL:"视频上传失败",MESSAGE_VIDEO_SIZE_LIMIT:"视频大小超过20M，无法发送",MESSAGE_VIDEO_TYPES_LIMIT:"只允许上传 mp4 格式的视频",MESSAGE_FILE_UPLOAD_FAIL:"文件上传失败",MESSAGE_FILE_SELECT_FILE_FIRST:"请先选择一个文件",MESSAGE_FILE_SIZE_LIMIT:"文件大小超过20M，无法发送 ",MESSAGE_FILE_URL_IS_EMPTY:"缺少必要的参数文件 URL",CONVERSATION_NOT_FOUND:"没有找到相应的会话，请检查传入参数",USER_OR_GROUP_NOT_FOUND:"没有找到相应的用户或群组，请检查传入参数",CONVERSATION_UN_RECORDED_TYPE:"未记录的会话类型",ILLEGAL_GROUP_TYPE:"非法的群类型，请检查传入参数",CANNOT_JOIN_PRIVATE:"不能加入 Private 类型的群组",CANNOT_CHANGE_OWNER_IN_AVCHATROOM:"AVChatRoom 类型的群组不能转让群主",CANNOT_CHANGE_OWNER_TO_SELF:"不能把群主转让给自己",CANNOT_DISMISS_PRIVATE:"不能解散 Private 类型的群组",JOIN_GROUP_FAIL:"加群失败，请检查传入参数或重试",CANNOT_ADD_MEMBER_IN_AVCHATROOM:"AVChatRoom 类型的群不支持邀请群成员",CANNOT_KICK_MEMBER_IN_AVCHATROOM:"不能在 AVChatRoom 类型的群组踢人",NOT_OWNER:"你不是群主，只有群主才有权限操作",CANNOT_SET_MEMBER_ROLE_IN_PRIVATE_AND_AVCHATROOM:"不能在 Private / AVChatRoom 类型的群中设置群成员身份",INVALID_MEMBER_ROLE:"不合法的群成员身份，请检查传入参数",CANNOT_SET_SELF_MEMBER_ROLE:"不能设置自己的群成员身份，请检查传入参数",DEL_FRIEND_INVALID_PARAM:"传入 deleteFriend 接口的参数无效",GET_PROFILE_INVALID_PARAM:"传入 getUserProfile 接口的参数无效",UPDATE_PROFILE_INVALID_PARAM:"传入 updateMyProfile 接口的参数无效",ADD_BLACKLIST_INVALID_PARAM:"传入 addToBlacklist 接口的参数无效",DEL_BLACKLIST_INVALID_PARAM:"传入 removeFromBlacklist 接口的参数无效",CANNOT_ADD_SELF_TO_BLACKLIST:"不能拉黑自己",NETWORK_ERROR:"网络错误",NETWORK_TIMEOUT:"请求超时",NETWORK_BASE_OPTIONS_NO_URL:"网络层初始化错误，缺少 URL 参数",NETWORK_UNDEFINED_SERVER_NAME:"打包错误，未定义的 serverName",NETWORK_PACKAGE_UNDEFINED:"未定义的 packageConfig",NO_NETWORK:"未连接到网络",SOCKET_NOT_SUPPORTED:"当前浏览器不支持 WebSocket",CONVERTOR_IRREGULAR_PARAMS:"不规范的参数名称",NOTICE_RUNLOOP_UNEXPECTED_CONDITION:"意料外的通知条件",NOTICE_RUNLOOP_OFFSET_LOST:"_syncOffset 丢失",GET_LONGPOLL_ID_FAILED:"获取 longpolling id 失败",UNCAUGHT_ERROR:"未经明确定义的错误",SDK_IS_NOT_READY:"接口调用时机不合理，等待 SDK 处于 ready 状态后再调用（监听 TIM.EVENT.SDK_READY 事件）",LONG_POLL_KICK_OUT:"检测到多个 web 实例登录，消息通道下线",SSO_LOG_MODEL_INIT_ERROR:"SSOLogData 数据模型初始化错误"},nl={70001:"UserSig 已过期，请重新生成。建议 UserSig 有效期设置不小于24小时。",70002:"UserSig 长度为0，请检查传入的 UserSig 是否正确。",70003:"UserSig 非法，请使用官网提供的 API 重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70005:"UserSig 非法，请使用官网提供的 API 重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70009:"UserSig 验证失败，可能因为生成 UserSig 时混用了其他 SDKAppID 的私钥或密钥导致，请使用对应 SDKAppID 下的私钥或密钥重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70013:"请求中的 UserID 与生成 UserSig 时使用的 UserID 不匹配，您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70014:"请求中的 SDKAppID 与生成 UserSig 时使用的 SDKAppID 不匹配，您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70016:"公钥不存在，UserSig 验证失败，请在即时通信 IM 控制台获取密钥(https://cloud.tencent.com/document/product/269/32578#.E8.8E.B7.E5.8F.96.E5.AF.86.E9.92.A5)。",70020:"SDKAppID 未找到，请在即时通信 IM 控制台确认应用信息。",70050:"UserSig 验证次数过于频繁。请检查 UserSig 是否正确，并于1分钟后重新验证。您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70051:"帐号被拉入黑名单。",70052:"UserSig 已经失效，请重新生成，再次尝试。",70107:"因安全原因被限制登录，请不要频繁登录。",70169:"请求的用户帐号不存在。",70114:"服务端内部超时，请稍后重试。",70202:"服务端内部超时，请稍后重试。",70206:"请求中批量数量不合法。",70402:"参数非法，请检查必填字段是否填充，或者字段的填充是否满足协议要求。",70403:"请求失败，需要 App 管理员权限。",70398:"帐号数超限。如需创建多于100个帐号，请将应用升级为专业版，具体操作指引请参见购买指引(https://cloud.tencent.com/document/product/269/32458)。",70500:"服务端内部错误，请稍后重试。",71e3:"删除帐号失败。仅支持删除体验版帐号，您当前应用为专业版，暂不支持帐号删除。",20001:"请求包非法。",20002:"UserSig 或 A2 失效。",20003:"消息发送方或接收方 UserID 无效或不存在，请检查 UserID 是否已导入即时通信 IM。",20004:"网络异常，请重试。",20005:"服务端内部错误，请重试。",20006:"触发发送单聊消息之前回调，App 后台返回禁止下发该消息。",20007:"发送单聊消息，被对方拉黑，禁止发送。消息发送状态默认展示为失败，您可以登录控制台修改该场景下的消息发送状态展示结果，具体操作请参见消息保留设置(https://cloud.tencent.com/document/product/269/38656)。",20009:"消息发送双方互相不是好友，禁止发送（配置单聊消息校验好友关系才会出现）。",20010:"发送单聊消息，自己不是对方的好友（单向关系），禁止发送。",20011:"发送单聊消息，对方不是自己的好友（单向关系），禁止发送。",20012:"发送方被禁言，该条消息被禁止发送。",20016:"消息撤回超过了时间限制（默认2分钟）。",20018:"删除漫游内部错误。",90001:"JSON 格式解析失败，请检查请求包是否符合 JSON 规范。",90002:"JSON 格式请求包中 MsgBody 不符合消息格式描述，或者 MsgBody 不是 Array 类型，请参考 TIMMsgElement 对象的定义(https://cloud.tencent.com/document/product/269/2720#.E6.B6.88.E6.81.AF.E5.85.83.E7.B4.A0-timmsgelement)。",90003:"JSON 格式请求包体中缺少 To_Account 字段或者 To_Account 帐号不存在。",90005:"JSON 格式请求包体中缺少 MsgRandom 字段或者 MsgRandom 字段不是 Integer 类型。",90006:"JSON 格式请求包体中缺少 MsgTimeStamp 字段或者 MsgTimeStamp 字段不是 Integer 类型。",90007:"JSON 格式请求包体中 MsgBody 类型不是 Array 类型，请将其修改为 Array 类型。",90008:"JSON 格式请求包体中缺少 From_Account 字段或者 From_Account 帐号不存在。",90009:"请求需要 App 管理员权限。",90010:"JSON 格式请求包不符合消息格式描述，请参考 TIMMsgElement 对象的定义(https://cloud.tencent.com/document/product/269/2720#.E6.B6.88.E6.81.AF.E5.85.83.E7.B4.A0-timmsgelement)。",90011:"批量发消息目标帐号超过500，请减少 To_Account 中目标帐号数量。",90012:"To_Account 没有注册或不存在，请确认 To_Account 是否导入即时通信 IM 或者是否拼写错误。",90026:"消息离线存储时间错误（最多不能超过7天）。",90031:"JSON 格式请求包体中 SyncOtherMachine 字段不是 Integer 类型。",90044:"JSON 格式请求包体中 MsgLifeTime 字段不是 Integer 类型。",90048:"请求的用户帐号不存在。",90054:"撤回请求中的 MsgKey 不合法。",90994:"服务内部错误，请重试。",90995:"服务内部错误，请重试。",91e3:"服务内部错误，请重试。",90992:"服务内部错误，请重试；如果所有请求都返回该错误码，且 App 配置了第三方回调，请检查 App 服务端是否正常向即时通信 IM 后台服务端返回回调结果。",93e3:"JSON 数据包超长，消息包体请不要超过8k。",91101:"Web 端长轮询被踢（Web 端同时在线实例个数超出限制）。",10002:"服务端内部错误，请重试。",10003:"请求中的接口名称错误，请核对接口名称并重试。",10004:"参数非法，请根据错误描述检查请求是否正确。",10005:"请求包体中携带的帐号数量过多。",10006:"操作频率限制，请尝试降低调用的频率。",10007:"操作权限不足，例如 Public 群组中普通成员尝试执行踢人操作，但只有 App 管理员才有权限。",10008:"请求非法，可能是请求中携带的签名信息验证不正确，请再次尝试。",10009:"该群不允许群主主动退出。",10010:"群组不存在，或者曾经存在过，但是目前已经被解散。",10011:"解析 JSON 包体失败，请检查包体的格式是否符合 JSON 格式。",10012:"发起操作的 UserID 非法，请检查发起操作的用户 UserID 是否填写正确。",10013:"被邀请加入的用户已经是群成员。",10014:"群已满员，无法将请求中的用户加入群组，如果是批量加人，可以尝试减少加入用户的数量。",10015:"群组 ID 非法，请检查群组 ID 是否填写正确。",10016:"App 后台通过第三方回调拒绝本次操作。",10017:"因被禁言而不能发送消息，请检查发送者是否被设置禁言。",10018:"应答包长度超过最大包长（1MB），请求的内容过多，请尝试减少单次请求的数据量。",10019:"请求的用户帐号不存在。",10021:"群组 ID 已被使用，请选择其他的群组 ID。",10023:"发消息的频率超限，请延长两次发消息时间的间隔。",10024:"此邀请或者申请请求已经被处理。",10025:"群组 ID 已被使用，并且操作者为群主，可以直接使用。",10026:"该 SDKAppID 请求的命令字已被禁用。",10030:"请求撤回的消息不存在。",10031:"消息撤回超过了时间限制（默认2分钟）。",10032:"请求撤回的消息不支持撤回操作。",10033:"群组类型不支持消息撤回操作。",10034:"该消息类型不支持删除操作。",10035:"音视频聊天室和在线成员广播大群不支持删除消息。",10036:"音视频聊天室创建数量超过了限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买预付费套餐“IM音视频聊天室”。",10037:"单个用户可创建和加入的群组数量超过了限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买或升级预付费套餐“单人可创建与加入群组数”。",10038:"群成员数量超过限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买或升级预付费套餐“扩展群人数上限”。",10041:"该应用（SDKAppID）已配置不支持群消息撤回。"},rl=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this))).code=e.code,n.message=nl[e.code]||e.message,n.data=e.data||{},n}return hn(t,yn(Error)),t}(),ol="1.7.3",il="537048168",al="10",sl="protobuf",ul="json",cl={HOST:{TYPE:3,ACCESS_LAYER_TYPES:{SANDBOX:1,TEST:2,PRODUCTION:3},CURRENT:{COMMON:"https://webim.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},PRODUCTION:{COMMON:"https://webim.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},SANDBOX:{COMMON:"https://events.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},TEST:{COMMON:"https://test.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},setCurrent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;switch(e){case this.ACCESS_LAYER_TYPES.SANDBOX:this.CURRENT=this.SANDBOX,this.TYPE=this.ACCESS_LAYER_TYPES.SANDBOX;break;case this.ACCESS_LAYER_TYPES.TEST:this.CURRENT=this.TEST,this.TYPE=this.ACCESS_LAYER_TYPES.TEST;break;default:this.CURRENT=this.PRODUCTION,this.TYPE=this.ACCESS_LAYER_TYPES.PRODUCTION}}},NAME:{OPEN_IM:"openim",GROUP:"group_open_http_svc",FRIEND:"sns",PROFILE:"profile",RECENT_CONTACT:"recentcontact",PIC:"openpic",BIG_GROUP_NO_AUTH:"group_open_http_noauth_svc",BIG_GROUP_LONG_POLLING_NO_AUTH:"group_open_long_polling_http_noauth_svc",IM_OPEN_STAT:"imopenstat",WEB_IM:"webim",IM_COS_SIGN:"im_cos_sign_svr"},CMD:{ACCESS_LAYER:"accesslayer",LOGIN:"login",LOGOUT_LONG_POLL:"longpollinglogout",LOGOUT_ALL:"logout",PORTRAIT_GET:"portrait_get",PORTRAIT_SET:"portrait_set",GET_LONG_POLL_ID:"getlongpollingid",LONG_POLL:"longpolling",AVCHATROOM_LONG_POLL:"get_msg",FRIEND_ADD:"friend_add",FRIEND_GET_ALL:"friend_get_all",FRIEND_DELETE:"friend_delete",RESPONSE_PENDENCY:"friend_response",GET_PENDENCY:"pendency_get",DELETE_PENDENCY:"pendency_delete",GET_GROUP_PENDENCY:"get_pendency",GET_BLACKLIST:"black_list_get",ADD_BLACKLIST:"black_list_add",DELETE_BLACKLIST:"black_list_delete",CREATE_GROUP:"create_group",GET_JOINED_GROUPS:"get_joined_group_list",SEND_MESSAGE:"sendmsg",SEND_GROUP_MESSAGE:"send_group_msg",GET_GROUP_INFO:"get_group_info",GET_GROUP_MEMBER_INFO:"get_specified_group_member_info",GET_GROUP_MEMBER_LIST:"get_group_member_info",QUIT_GROUP:"quit_group",CHANGE_GROUP_OWNER:"change_group_owner",DESTROY_GROUP:"destroy_group",ADD_GROUP_MEMBER:"add_group_member",DELETE_GROUP_MEMBER:"delete_group_member",SEARCH_GROUP_BY_ID:"get_group_public_info",APPLY_JOIN_GROUP:"apply_join_group",HANDLE_APPLY_JOIN_GROUP:"handle_apply_join_group",MODIFY_GROUP_INFO:"modify_group_base_info",MODIFY_GROUP_MEMBER_INFO:"modify_group_member_info",DELETE_GROUP_SYSTEM_MESSAGE:"deletemsg",GET_CONVERSATION_LIST:"get",PAGING_GET_CONVERSATION_LIST:"page_get",DELETE_CONVERSATION:"delete",GET_MESSAGES:"getmsg",GET_C2C_ROAM_MESSAGES:"getroammsg",GET_GROUP_ROAM_MESSAGES:"group_msg_get",SET_C2C_MESSAGE_READ:"msgreaded",SET_GROUP_MESSAGE_READ:"msg_read_report",FILE_READ_AND_WRITE_AUTHKEY:"authkey",FILE_UPLOAD:"pic_up",COS_SIGN:"cos",TIM_WEB_REPORT:"tim_web_report",BIG_DATA_HALLWAY_AUTH_KEY:"authkey"},CHANNEL:{SOCKET:1,XHR:2,AUTO:0},NAME_VERSION:{openim:"v4",group_open_http_svc:"v4",sns:"v4",profile:"v4",recentcontact:"v4",openpic:"v4",group_open_http_noauth_svc:"v1",group_open_long_polling_http_noauth_svc:"v1",imopenstat:"v4",im_cos_sign_svr:"v4",webim:"v4"}};cl.HOST.setCurrent(cl.HOST.ACCESS_LAYER_TYPES.PRODUCTION);var ll={request:{toAccount:"To_Account",fromAccount:"From_Account",to:"To_Account",from:"From_Account",groupID:"GroupId",avatar:"FaceUrl"},response:{GroupId:"groupID",Member_Account:"userID",MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",MsgSeq:"sequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",MsgBody:"elements",MsgType:"type",MsgShow:"messageShow",NextMsgSeq:"nextMessageSeq",FaceUrl:"avatar",ProfileDataMod:"profileModify",Profile_Account:"userID",ValueBytes:"value",ValueNum:"value",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgFrom_AccountExtraInfo:"messageFromAccountExtraInformation",Operator_Account:"operatorID",OpType:"operationType",ReportType:"operationType",UserId:"userID",User_Account:"userID",List_Account:"userIDList",MsgOperatorMemberExtraInfo:"operatorInfo",MsgMemberExtraInfo:"memberInfoList",ImageUrl:"avatar",NickName:"nick",MsgGroupNewInfo:"newGroupProfile",Owner_Account:"ownerID",GroupName:"name",GroupFaceUrl:"avatar",GroupIntroduction:"introduction",GroupNotification:"notification",GroupApplyJoinOption:"joinOption",MsgKey:"messageKey",GroupInfo:"groupProfile",Desc:"description",Ext:"extension"},ignoreKeyWord:["C2C","ID","USP"]},pl={CONTEXT_UPDATED:"_contextWasUpdated",CONTEXT_RESET:"_contextWasReset",CONTEXT_A2KEY_AND_TINYID_UPDATED:"_a2KeyAndTinyIDUpdated",RUNNING_STATE_CHANGE:"_runningStateChange",SYNC_MESSAGE_C2C_START:"_noticeSynchronizationStart",SYNC_MESSAGE_C2C_PROCESSING:"_noticeIsSynchronizing",SYNC_MESSAGE_C2C_FINISHED:"_noticeIsSynchronized",SYNC_MESSAGE_GROUP_SYSTEM_NOTICE_FINISHED:"_groupSystemNoticeSyncFinished",MESSAGE_SENDING:"_sendingMessage",MESSAGE_C2C_SEND_SUCCESS:"_sendC2CMessageSuccess",MESSAGE_C2C_SEND_FAIL:"_sendC2CMessageFail",MESSAGE_SYNC_PROCESSING:"_syncMessageProcessing",MESSAGE_SYNC_FINISHED:"_syncMessageFinished",MESSAGE_C2C_INSTANT_RECEIVED:"_receiveInstantMessage",MESSAGE_C2C_RECEIVE_ROAMING_SUCCESS:"_receiveC2CRoamingMessageSuccess",MESSAGE_C2C_RECEIVE_ROAMING_FAIL:"_receiveC2CRoamingMessageFail",MESSAGE_GROUP_SEND_SUCCESS:"_sendGroupMessageSuccess",MESSAGE_GROUP_SEND_FAIL:"_sendGroupMessageFail",MESSAGE_GROUP_RECEIVE_ROAMING_SUCCESS:"_receiveGroupRoamingMessageSuccess",MESSAGE_GROUP_RECEIVE_ROAMING_FAIL:"_receiveGroupRoamingMessageFail",MESSAGE_GROUP_INSTANT_RECEIVED:"_receiveGroupInstantMessage",MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED:"_receveGroupSystemNotice",NOTICE_LONGPOLL_GETID_SUCCESS:"_getLongPollIDSuccess",NOTICE_LONGPOLL_GETID_FAIL:"_getLongPollIDFail",NOTICE_LONGPOLL_START:"_longPollStart",NOTICE_LONGPOLL_IN_POLLING:"_longPollInPolling",NOTICE_LONGPOLL_REQUEST_ARRIVED:"_longPollInArrived",NOTICE_LONGPOLL_REQUEST_NOT_ARRIVED:"_longPollInNotArrived",NOTICE_LONGPOLL_JITTER:"_longPollJitter",NOTICE_LONGPOLL_SOON_RECONNECT:"_longPollSoonReconnect",NOTICE_LONGPOLL_LONG_RECONNECT:"_longPollLongReconnect",NOTICE_LONGPOLL_DISCONNECT:"_longpollChannelDisconnect",NOTICE_LONGPOLL_STOPPED:"_longPollStopped",NOTICE_LONGPOLL_KICKED_OUT:"_longPollKickedOut",NOTICE_LONGPOLL_MUTIPLE_DEVICE_KICKED_OUT:"_longPollMitipuleDeviceKickedOut",NOTICE_LONGPOLL_NEW_C2C_NOTICE:"_longPollGetNewC2CNotice",NOTICE_LONGPOLL_NEW_C2C_MESSAGES:"_longPollGetNewC2CMessages",NOTICE_LONGPOLL_NEW_GROUP_MESSAGES:"_longPollGetNewGroupMessages",NOTICE_LONGPOLL_NEW_GROUP_TIPS:"_longPollGetNewGroupTips",NOTICE_LONGPOLL_NEW_GROUP_NOTICE:"_longPollGetNewGroupNotice",NOTICE_LONGPOLL_NEW_FRIEND_MESSAGES:"_longPollGetNewFriendMessages",NOTICE_LONGPOLL_SEQUENCE_UPDATE:"_longPollNoticeSequenceUpdate",NOTICE_LONGPOLL_PROFILE_MODIFIED:"_longPollProfileModified",NOTICE_LONGPOLL_RECEIVE_SYSTEM_ORDERS:"_longPollNoticeReceiveSystemOrders",NOTICE_LONGPOLL_RESTART:"_longpollRestart",APPLY_ADD_FRIEND_SUCCESS:"_addFriendApplySendSucess",APPLY_ADD_FRIEND_FAIL:"_addFriendApplySendFail",APPLY_GET_PENDENCY_SUCCESS:"_applyGetPendenciesSucess",APPLY_GET_PENDENCY_FAIL:"_applyGetPendenciesFail",APPLY_DELETE_SUCCESS:"_applyDeletedSucess",APPLY_DELETE_FAIL:"_applyDeletedFail",GROUP_CREATE_SUCCESS:"_createGroupSuccess",GROUP_CREATE_FAIL:"_createGroupFail",GROUP_LIST_UPDATED:"_onGroupListUpdated",SIGN_LOGIN_CHANGE:"_loginStatusChange",SIGN_LOGIN:"_login",SIGN_LOGIN_SUCCESS:"_loginSuccess",SIGN_LOGIN_FAIL:"_loginFail",SIGN_LOGININFO_UPDATED:"_signLoginInfoUpdated",SIGN_LOGOUT_EXECUTING:"_signLogoutExcuting",SIGN_LOGOUT_SUCCESS:"_logoutSuccess",SIGN_GET_ACCESS_LAYER_CHANGE:"_getAccessLayerStatusChange",SIGN_GET_ACCESS_LAYER_SUCCESS:"_getAccessLayerSuccess",SIGN_GET_ACCESS_LAYER_FAIL:"_getAccessLayerFail",ERROR_DETECTED:"_errorHasBeenDetected",CONVERSATION_LIST_UPDATED:"_onConversationListUpdated",CONVERSATION_LIST_PROFILE_UPDATED:"_onConversationListProfileUpdated",CONVERSATION_DELETED:"_conversationDeleted",PROFILE_UPDATED:"onProfileUpdated",FRIEND_GET_SUCCESS:"_getFriendsSuccess",FRIEND_GET_FAIL:"_getFriendsFail",FRIEND_DELETE_SUCCESS:"_deleteFriendSuccess",FRIEND_DELETE_FAIL:"_deleteFriendFail",BLACKLIST_ADD_SUCCESS:"_addBlacklistSuccess",BLACKLIST_ADD_FAIL:"_addBlacklistFail",BLACKLIST_GET_SUCCESS:"_getBlacklistSuccess",BLACKLIST_GET_FAIL:"_getBlacklistFail",AVCHATROOM_OPTIONS_UPDATED:"_AVChatRoomOptionsUpdated",AVCHATROOM_JOIN_SUCCESS:"joinAVChatRoomSuccess",SDK_MEMORY_STATUS_UPDATE:"_sdkMemoryStatusUpdate",SDK_READY:"_sdkStateReady"},fl=Be.filter;Me({target:"Array",proto:1,forced:!$t("filter")},{filter:function(e){return fl(this,e,arguments.length>1?arguments[1]:void 0)}}),Me({target:"Object",stat:1,forced:Object.assign!==nu},{assign:nu});var hl=ro.trim;function dl(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");var n;return t=Object.assign({pascalCase:0},t),0===(e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=ml(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})).replace(/\d+(\w|$)/g,(function(e){return e.toUpperCase()})),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)}Me({target:"String",proto:1,forced:function(e){return c((function(){return!!Qr[e]()||"​᠎"!="​᠎"[e]()||Qr[e].name!==e}))}("trim")},{trim:function(){return hl(this)}});var ml=function(e){for(var t=0,n=0,r=0,o=0;o<e.length;o++){var i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=0,r=n,n=1,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,n=0,t=1):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,r=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e};function gl(e,t,n){var r=[],o=0,i=function e(t,n){if(++o>10)return o--,t;if(As(t)){var i=t.map((function(t){return Es(t)?e(t,n):t}));return o--,i}if(Es(t)){var a=(s=t,u=function(e,t){if(!Ms(t))return 0;if((a=t)!==dl(a)){for(var o=1,i=0;i<ll.ignoreKeyWord.length;i++)if(t.includes(ll.ignoreKeyWord[i])){o=0;break}o&&r.push(t)}var a;return Is(n[t])?function(e){return e[0].toUpperCase()+dl(e).slice(1)}(t):n[t]},c=Object.create(null),Object.keys(s).forEach((function(e){var t=u(s[e],e);t&&(c[t]=s[e])})),c);return a=Hs(a,(function(t,r){return As(t)||Es(t)?e(t,n):t})),o--,a}var s,u,c}(e,t=fn({},ll.request,{},t));return r.length>0&&n.innerEmitter.emit(pl.ERROR_DETECTED,{code:el.CONVERTOR_IRREGULAR_PARAMS,message:el.CONVERTOR_IRREGULAR_PARAMS}),i}function yl(e,t){if(t=fn({},ll.response,{},t),As(e))return e.map((function(e){return Es(e)?yl(e,t):e}));if(Es(e)){var n=(r=e,o=function(e,n){return Is(t[n])?dl(n):t[n]},i={},Object.keys(r).forEach((function(e){i[o(r[e],e)]=r[e]})),i);return Hs(n,(function(e){return As(e)||Es(e)?yl(e,t):e}))}var r,o,i}var vl=function(){function e(t,n){var r=this;if(sn(this,e),void 0===n)throw new rl({code:el.NO_SDK_INSTANCE,message:tl.NO_SDK_INSTANCE});this.tim=n,this.method=t.method||"POST",this._initializeServerMap(),this._initializeURL(t),this._initializeRequestData(t),this.callback=function(e){return yl(e=t.decode(e),r._getResponseMap(t))}}return cn(e,[{key:"_initializeServerMap",value:function(){this._serverMap=Object.create(null);var e="";for(var t in cl.NAME)if(Object.prototype.hasOwnProperty.call(cl.NAME,t))switch(e=cl.NAME[t]){case cl.NAME.PIC:this._serverMap[e]=cl.HOST.CURRENT.PIC;break;case cl.NAME.IM_COS_SIGN:this._serverMap[e]=cl.HOST.CURRENT.COS;break;default:this._serverMap[e]=cl.HOST.CURRENT.COMMON}}},{key:"_getHost",value:function(e){if(void 0!==this._serverMap[e])return this._serverMap[e];throw new rl({code:el.NETWORK_UNDEFINED_SERVER_NAME,message:tl.NETWORK_UNDEFINED_SERVER_NAME})}},{key:"_initializeURL",value:function(e){var t=e.serverName,n=e.cmd,r=this._getHost(t),o="".concat(r,"/").concat(cl.NAME_VERSION[t],"/").concat(t,"/").concat(n);o+="?".concat(this._getQueryString(e.queryString)),this.url=o}},{key:"getUrl",value:function(){return this.url.replace(/&reqtime=(\d+)/,"&reqtime=".concat(Math.ceil(+new Date/1e3)))}},{key:"_initializeRequestData",value:function(e){var t,n=e.requestData;t=this._requestDataCleaner(n),this.requestData=e.encode(t)}},{key:"_requestDataCleaner",value:function(e){var t=Array.isArray(e)?[]:Object.create(null);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&Ms(n)&&null!==e[n]&&("object"!==an(e[n])?t[n]=e[n]:t[n]=this._requestDataCleaner.bind(this)(e[n]));return t}},{key:"_getQueryString",value:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&("function"!=typeof e[n]?t.push("".concat(n,"=").concat(e[n])):t.push("".concat(n,"=").concat(e[n]())));return t.join("&")}},{key:"_getResponseMap",value:function(e){if(e.keyMaps&&e.keyMaps.response&&Object.keys(e.keyMaps.response).length>0)return e.keyMaps.response}}]),e}(),_l=[].slice,bl=/MSIE .\./.test(ii),El=function(e){return function(t,n){var r=arguments.length>2,o=r?_l.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};function Sl(e){this.mixin(e)}Me({global:1,bind:1,forced:bl},{setTimeout:El(u.setTimeout),setInterval:El(u.setInterval)}),Sl.mixin=function(e){var t=e.prototype||e;t._isReady=0,t.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e)return this._isReady?void(t?e.call(this):setTimeout(e,1)):(this._readyQueue=this._readyQueue||[],void this._readyQueue.push(e))},t.triggerReady=function(){var e=this;this._isReady=1,setTimeout((function(){var t=e._readyQueue;e._readyQueue=[],t&&t.length>0&&t.forEach((function(e){e.call(this)}),e)}),1)},t.resetReady=function(){this._isReady=0,this._readyQueue=[]},t.isReady=function(){return this._isReady}};var Al={SUCCESS:"JoinedSuccess",WAIT_APPROVAL:"WaitAdminApproval"},Il={COMMON:{SUCCESS:"OK",FAIL:"FAIL"},REQUEST:{SUCCESS:0},ACCESS_LAYER:{PRODUCTION:0,TEST:1},LOGIN:{IS_LOGIN:1,IS_NOT_LOGIN:0},SYNC_MESSAGE:{SYNCHRONIZATION_START:0,SYNCHRONIZING:1,SYNCHRONIZED:2},MESSAGE_STATUS:{UNSEND:"unSend",SUCCESS:"success",FAIL:"fail"},GET_HISTORY_MESSAGE_STATUS:{C2C_IS_FINISHED:1,C2C_IS_NOT_FINISHED:0,GROUP_IS_FINISHED:1,GROUP_IS_NOT_FINISHED:0},ACCOUNT_STATUS:{SIGN_IN:1,SIGN_OUT:0},CHANNEL_STATUS:{ONLINE:1,OFFLINE:0},JOIN_GROUP_STATUS:Al,UPLOAD:{FINISHED:1,UPLOADING:0},PAGING_CONVERSATION:{NOT_START:"notStart",PENDING:"pengding",RESOLVED:"resolved",REJECTED:"rejected"}},wl=function(){function e(t){if(sn(this,e),0==!!t)throw new rl({code:el.NO_SDK_INSTANCE,message:tl.NO_SDK_INSTANCE});Sl.mixin(this),this.tim=t,this.innerEmitter=t.innerEmitter,this.connectionController=t.connectionController,this.packageConfig=t.packageConfig,this.packageConfig.update(t)}return cn(e,[{key:"isLoggedIn",value:function(){return this.tim.context.login===Il.LOGIN.IS_LOGIN}},{key:"createPackage",value:function(e){var t=this.packageConfig.get(e);return t?new vl(t,this.tim):0}},{key:"reset",value:function(){ms.warn(["method: IMController.reset() method must be implemented"].join())}},{key:"probeNetwork",value:function(){return this.tim.netMonitor.probe()}},{key:"getNetworkType",value:function(){return this.tim.netMonitor.getNetworkType()}},{key:"destroy",value:function(){ms.warn("destory")}},{key:"getPlatform",value:function(){var e="web";return za?e="wechat":ja&&(e="wxmp"),e}}]),e}();Me({target:"Object",stat:1,forced:!l,sham:!l},{defineProperty:L.f});var Tl=function(){function e(t,n){sn(this,e),this.data=t,this.tim=n,this.defaultData={},Object.assign(this.defaultData,t),this.initGetterAndSetter()}return cn(e,[{key:"initGetterAndSetter",value:function(){var e=this,t=this.tim,n=function(n,r){Object.defineProperty(e,n,{enumerable:1,configurable:1,get:function(){return e.data[n]},set:function(r){e.data[n]=r,e.onChange.bind(e)(t.context,n,r)}})};for(var r in e.data)Object.prototype.hasOwnProperty.call(e.data,r)&&n(r,e.data[r])}},{key:"onChange",value:function(e,t,n){this.tim.innerEmitter.emit(pl.CONTEXT_UPDATED,{data:{context:e,key:t,value:n}})}},{key:"reset",value:function(){for(var e in this.data)Object.prototype.hasOwnProperty.call(this.data,e)&&(this.data[e]=this.defaultData.hasOwnProperty(e)?this.defaultData[e]:null);this.tim.innerEmitter.emit(pl.CONTEXT_RESET,{data:this.tim.context})}}]),e}(),Cl=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e)))._initContext(),n._initListener(),n}return hn(t,wl),cn(t,[{key:"reset",value:function(){this.tim.context.reset()}},{key:"_initListener",value:function(){this.tim.innerEmitter.on(pl.SIGN_LOGIN_SUCCESS,this._updateA2KeyAndTinyID,this)}},{key:"_updateA2KeyAndTinyID",value:function(e){var t=e.data,n=t.a2Key,r=t.tinyID;this.set("a2Key",n),this.set("tinyID",r),this.tim.innerEmitter.emit(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,{data:{context:this.tim.context}}),this.triggerReady()}},{key:"get",value:function(e){return this.tim.context[e]}},{key:"set",value:function(e,t){this.tim.context[e]=t}},{key:"_initContext",value:function(){var e=this.tim.loginInfo;this.tim.context=new Tl({login:Il.LOGIN.IS_NOT_LOGIN,SDKAppID:e.SDKAppID,appIDAt3rd:null,accountType:e.accountType,identifier:e.identifier,tinyID:null,identifierNick:e.identifierNick,userSig:e.userSig,a2Key:null,contentType:"json",apn:1},this.tim),this.tim.innerEmitter.on(pl.CONTEXT_UPDATED,this._onContextMemberChange.bind(this))}},{key:"_onContextMemberChange",value:function(e){var t=e.data,n=t.key,r=t.value;switch(n){case"tinyID":r.length<=0?this.tim.context.login=Il.LOGIN.IS_NOT_LOGIN:this.tim.context.login=null!==this.tim.context.a2Key?Il.LOGIN.IS_LOGIN:Il.LOGIN.IS_NOT_LOGIN;break;case"a2Key":r.length<=0?this.tim.context.login=Il.LOGIN.IS_NOT_LOGIN:this.tim.context.login=null!==this.tim.context.tinyID?Il.LOGIN.IS_LOGIN:Il.LOGIN.IS_NOT_LOGIN}}}]),t}(),Ol={JSON:{TYPE:{C2C:{NOTICE:1,COMMON:9,EVENT:10},GROUP:{COMMON:3,TIP:4,SYSTEM:5,TIP2:6},FRIEND:{NOTICE:7},PROFILE:{NOTICE:8}},SUBTYPE:{C2C:{COMMON:0,READED:92,KICKEDOUT:96},GROUP:{COMMON:0,LOVEMESSAGE:1,TIP:2,REDPACKET:3}},OPTIONS:{GROUP:{JOIN:1,QUIT:2,KICK:3,SET_ADMIN:4,CANCEL_ADMIN:5,MODIFY_GROUP_INFO:6,MODIFY_MEMBER_INFO:7}}},PROTOBUF:{},IMAGE_TYPES:{ORIGIN:1,LARGE:2,SMALL:3},IMAGE_FORMAT:{JPG:1,JPEG:1,GIF:2,PNG:3,BMP:4,UNKNOWN:255}},Ml=1,Dl=2,Nl=3,xl=4,Ll=5,Pl=7,kl=8,Rl=9,Gl=10,jl=15,Ul=255,Fl=2,ql=0,Bl=1,Zl={NICK:"Tag_Profile_IM_Nick",GENDER:"Tag_Profile_IM_Gender",BIRTHDAY:"Tag_Profile_IM_BirthDay",LOCATION:"Tag_Profile_IM_Location",SELFSIGNATURE:"Tag_Profile_IM_SelfSignature",ALLOWTYPE:"Tag_Profile_IM_AllowType",LANGUAGE:"Tag_Profile_IM_Language",AVATAR:"Tag_Profile_IM_Image",MESSAGESETTINGS:"Tag_Profile_IM_MsgSettings",ADMINFORBIDTYPE:"Tag_Profile_IM_AdminForbidType",LEVEL:"Tag_Profile_IM_Level",ROLE:"Tag_Profile_IM_Role"},Vl={UNKNOWN:"Gender_Type_Unknown",FEMALE:"Gender_Type_Female",MALE:"Gender_Type_Male"},Hl={NONE:"AdminForbid_Type_None",SEND_OUT:"AdminForbid_Type_SendOut"},zl={NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_ANY:"AllowType_Type_AllowAny",DENY_ANY:"AllowType_Type_DenyAny"},Yl=function e(t){sn(this,e),this.code=0,this.data=t||{}},Kl=null,Xl=function(e){Kl=e},Wl=function(e){return e instanceof Yl?(ms.warn("IMPromise.resolve 此函数会自动用options创建IMResponse实例，调用侧不需创建，建议修改！"),Promise.resolve(e)):Promise.resolve(new Yl(e))},Jl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e instanceof rl)return t&&null!==Kl&&Kl.emit(Wt.ERROR,e),Promise.reject(e);if(e instanceof Error){ms.warn("IMPromise.reject options not instanceof IMError! details:",e);var n=new rl({code:el.UNCAUGHT_ERROR,message:e.message});return t&&null!==Kl&&Kl.emit(Wt.ERROR,n),Promise.reject(n)}if(Is(e)||Is(e.code)||Is(e.message))ms.error("IMPromise.reject 必须指定code(错误码)和message(错误信息)!!!");else{if(_s(e.code)&&bs(e.message)){var r=new rl(e);return t&&null!==Kl&&Kl.emit(Wt.ERROR,r),Promise.reject(r)}ms.error("IMPromise.reject code(错误码)必须为数字，message(错误信息)必须为字符串!!!")}},Ql={SDK_READY:"sdkReady",LOGIN:"login",LONG_POLLING:"longpolling",LONG_POLLING_AV:"longpollingAV",SEND_MESSAGE:"sendMessage",INIT_CONVERSATION_LIST:"initConversationList",INIT_GROUP_LIST:"initGroupList",UPLOAD:"upload"},$l=function(){function e(){sn(this,e),this.SDKAppID="",this.version="",this.tinyID="",this.userID="",this.platform="",this.method="",this.time="",this.startts=0,this.endts=0,this.timespan=0,this.codeint="0",this.message="",this.text="",this.msgType="",this.networkType="",this.platform="",this._sentFlag=0}return cn(e,[{key:"setCommonInfo",value:function(e,t,n,r,o){this.SDKAppID="".concat(e),this.version="".concat(t),this.tinyID=n,this.userID=r,this.platform=o,this.time=Ps(),this.startts&&this.endts&&!this.timespan&&(this.timespan=Math.abs(this.endts-this.startts))}},{key:"setMethod",value:function(e){return this.method=e,this}},{key:"setStart",value:function(){this.startts=Date.now()}},{key:"setEnd",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._sentFlag||(this.endts=Date.now(),t?(this._sentFlag=1,this._eventStatController.pushIn(this)):setTimeout((function(){e._sentFlag=1,e._eventStatController.pushIn(e)}),0))}},{key:"setError",value:function(e,t,n){return e instanceof Error?this._sentFlag?this:(this.setNetworkType(n),t?(e.code&&this.setCode(e.code),e.message&&this.setMessage(e.message)):(this.setCode(el.NO_NETWORK),this.setMessage(tl.NO_NETWORK)),this):(ms.warn("SSOLogData.setError value not instanceof Error, please check!"),this)}},{key:"setCode",value:function(e){return Is(e)||this._sentFlag?this:(_s(e)?this.codeint=e.toString():ms.warn("SSOLogData.setCode value not a number, please check!"),this)}},{key:"setMessage",value:function(e){return Is(e)||this._sentFlag?this:bs(e)?(this.message=e,this):this}},{key:"setText",value:function(e){return _s(e)?this.text=e.toString():bs(e)&&(this.text=e),this}},{key:"setMessageType",value:function(e){return this.msgType=e,this}},{key:"setNetworkType",value:function(e){return this.networkType=e,this}}],[{key:"bindController",value:function(t){e.prototype._eventStatController=t}}]),e}(),ep={SDK_CONSTRUCT:"sdkConstruct",SDK_READY:"sdkReady",ACCESS_LAYER:"accessLayer",LOGIN:"login",CREATE_TEXT_MESSAGE:"createTextMessage",CREATE_IMAGE_MESSAGE:"createImageMessage",CREATE_AUDIO_MESSAGE:"createAudioMessage",CREATE_VIDEO_MESSAGE:"createVideoMessage",CREATE_FILE_MESSAGE:"createFileMessage",CREATE_CUSTOM_MESSAGE:"createCustomMessage",UPLOAD:"upload",SEND_MESSAGE:"sendMessage",GET_MESSAGE_LIST:"getMessageList",GET_CONVERSATION_LIST:"getConversationList",GET_CONVERSATION_LIST_IN_STORAGE:"getConversationListInStorage",SYNC_CONVERSATION_LIST:"syncConversationList",CREATE_GROUP:"createGroup",GET_GROUP_LIST:"getGroupList",GET_GROUP_LIST_IN_STORAGE:"getGroupListInStorage",SYNC_MESSAGE:"syncMessage",GET_LONGPOLL_ID:"getLongPollID",LONG_POLLING_ERROR:"longPollingError",LONG_POLLING_AV_ERROR:"longPollingAVError",GET_USER_PROFILE:"getUserProfile",GET_BLACKLIST:"getBlacklist",MP_HIDE_TO_SHOW:"mpHideToShow"},tp=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e)))._initializeListener(),n}return hn(t,wl),cn(t,[{key:"login",value:function(e){if(this._isLogin()){var t="您已经登录账号".concat(e.identifier,"！如需切换账号登录，请先调用 logout 接口登出，再调用 login 接口登录。");return ms.warn(t),Wl(new Yl({actionStatus:"OK",errorCode:0,errorInfo:t}))}ms.log("SignController.login userID=",e.identifier),ms.time(Ql.LOGIN);var n=this._checkLoginInfo(e);return Ks(n)?(this.tim.context.identifier=e.identifier,this.tim.context.userSig=e.userSig,this.tim.context.SDKAppID=e.SDKAppID,this.tim.context.accountType=e.accountType,this.tim.context.identifier&&this.tim.context.userSig?(this.tim.innerEmitter.emit(pl.SIGN_LOGIN),this._accessLayer()):void 0):Jl(n)}},{key:"_isLogin",value:function(){return!!this.tim.context.a2Key}},{key:"_isLoginCurrentUser",value:function(e){return this.tim.context.identifier===e}},{key:"_initializeListener",value:function(){this.innerEmitter.on(pl.NOTICE_LONGPOLL_KICKED_OUT,this._onKickedOut,this),this.innerEmitter.on(pl.NOTICE_LONGPOLL_MUTIPLE_DEVICE_KICKED_OUT,this._onMultipleDeviceKickedOut,this)}},{key:"_accessLayer",value:function(){var e=this,t=new $l;t.setMethod(ep.ACCESS_LAYER).setStart(),ms.log("SignController._accessLayer.");var n=this.createPackage({name:"accessLayer",action:"query"});return this.tim.connectionController.request(n).then((function(n){return t.setCode(0).setNetworkType(e.getNetworkType()).setText(n.data.webImAccessLayer).setEnd(),ms.log("SignController._accessLayer ok. webImAccessLayer=",n.data.webImAccessLayer),1===n.data.webImAccessLayer&&cl.HOST.setCurrent(n.data.webImAccessLayer),e._login()})).catch((function(n){return e.probeNetwork().then((function(r,o){t.setError(n,r,o).setEnd(1),e.tim.eventStatController.reportAtOnce()})),ms.error("SignController._accessLayer error:",n),Jl(n)}))}},{key:"_login",value:function(){var e=this,t=new $l;t.setMethod(ep.LOGIN).setStart();var n=this.createPackage({name:"login",action:"query"});return this.connectionController.request(n).then((function(n){var r=null;if(!n.data.tinyID)throw r=new rl({code:el.NO_TINYID,message:tl.NO_TINYID}),t.setError(r,1,e.getNetworkType()).setEnd(),r;if(!n.data.a2Key)throw r=new rl({code:el.NO_A2KEY,message:tl.NO_A2KEY}),t.setError(r,1,e.getNetworkType()).setEnd(),r;return t.setCode(0).setNetworkType(e.getNetworkType()).setText("".concat(e.tim.loginInfo.identifier)).setEnd(),ms.log("SignController.login ok. userID=".concat(e.tim.loginInfo.identifier," loginCost=").concat(ms.timeEnd(Ql.LOGIN),"ms")),e.tim.innerEmitter.emit(pl.SIGN_LOGIN_SUCCESS,{data:{a2Key:n.data.a2Key,tinyID:n.data.tinyID}}),Wl(n.data)})).catch((function(n){return e.probeNetwork().then((function(e,r){t.setError(n,e,r).setEnd(1)})),ms.error("SignController.login error:",n),Jl(n)}))}},{key:"logout",value:function(){return ms.info("SignController.logout"),this.tim.innerEmitter.emit(pl.SIGN_LOGOUT_EXECUTING),this._logout(Bl).then(this._emitLogoutSuccess.bind(this)).catch(this._emitLogoutSuccess.bind(this))}},{key:"_logout",value:function(e){var t=this.tim.notificationController,n=e===ql?"logout":"longPollLogout",r=e===ql?{name:n,action:"query"}:{name:n,action:"query",param:{longPollID:t.getLongPollID()}},o=this.createPackage(r);return this.connectionController.request(o).catch((function(e){return ms.error("SignController._logout error:",e),Jl(e)}))}},{key:"_checkLoginInfo",value:function(e){var t=0,n="";return null===e.SDKAppID?(t=el.NO_SDKAPPID,n=tl.NO_SDKAPPID):null===e.accountType?(t=el.NO_ACCOUNT_TYPE,n=tl.NO_ACCOUNT_TYPE):null===e.identifier?(t=el.NO_IDENTIFIER,n=tl.NO_IDENTIFIER):null===e.userSig&&(t=el.NO_USERSIG,n=tl.NO_USERSIG),Ks(t)||Ks(n)?{}:{code:t,message:n}}},{key:"_emitLogoutSuccess",value:function(){return this.tim.innerEmitter.emit(pl.SIGN_LOGOUT_SUCCESS),Wl({})}},{key:"_onKickedOut",value:function(){var e=this;this.tim.logout().then((function(){ms.warn("SignController._onKickedOut kicked out.       userID=".concat(e.tim.loginInfo.identifier)),e.tim.outerEmitter.emit(Wt.KICKED_OUT,{type:Jt.KICKED_OUT_MULT_ACCOUNT})}))}},{key:"_onMultipleDeviceKickedOut",value:function(){var e=this;this.tim.logout().then((function(){ms.warn("SignController._onKickedOut kicked out.       userID=".concat(e.tim.loginInfo.identifier)),e.tim.outerEmitter.emit(Wt.KICKED_OUT,{type:Jt.KICKED_OUT_MULT_DEVICE})}))}},{key:"reset",value:function(){}}]),t}(),np=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},rp=Object.prototype.toString;function op(e){return"[object Array]"===rp.call(e)}function ip(e){return null!==e&&"object"==typeof e}function ap(e){return"[object Function]"===rp.call(e)}function sp(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),op(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var up={isArray:op,isArrayBuffer:function(e){return"[object ArrayBuffer]"===rp.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:ip,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===rp.call(e)},isFile:function(e){return"[object File]"===rp.call(e)},isBlob:function(e){return"[object Blob]"===rp.call(e)},isFunction:ap,isStream:function(e){return ip(e)&&ap(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return"undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product?"undefined"!=typeof window&&"undefined"!=typeof document:0},forEach:sp,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)sp(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)sp(arguments[r],n);return t},extend:function(e,t,n){return sp(t,(function(t,r){e[r]=n&&"function"==typeof t?np(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function cp(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var lp=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(up.isURLSearchParams(t))r=t.toString();else{var o=[];up.forEach(t,(function(e,t){null!=e&&(up.isArray(e)?t+="[]":e=[e],up.forEach(e,(function(e){up.isDate(e)?e=e.toISOString():up.isObject(e)&&(e=JSON.stringify(e)),o.push(cp(t)+"="+cp(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function pp(){this.handlers=[]}pp.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},pp.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},pp.prototype.forEach=function(e){up.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var fp=pp,hp=function(e,t,n){return up.forEach(n,(function(n){e=n(e,t)})),e},dp=function(e){return!(!e||!e.__CANCEL__)};function mp(){throw new Error("setTimeout has not been defined")}function gp(){throw new Error("clearTimeout has not been defined")}var yp=mp,vp=gp;function _p(e){if(yp===setTimeout)return setTimeout(e,0);if((yp===mp||!yp)&&setTimeout)return yp=setTimeout,setTimeout(e,0);try{return yp(e,0)}catch(n){try{return yp.call(null,e,0)}catch(n){return yp.call(this,e,0)}}}"function"==typeof as.setTimeout&&(yp=setTimeout),"function"==typeof as.clearTimeout&&(vp=clearTimeout);var bp,Ep=[],Sp=0,Ap=-1;function Ip(){Sp&&bp&&(Sp=0,bp.length?Ep=bp.concat(Ep):Ap=-1,Ep.length&&wp())}function wp(){if(!Sp){var e=_p(Ip);Sp=1;for(var t=Ep.length;t;){for(bp=Ep,Ep=[];++Ap<t;)bp&&bp[Ap].run();Ap=-1,t=Ep.length}bp=null,Sp=0,function(e){if(vp===clearTimeout)return clearTimeout(e);if((vp===gp||!vp)&&clearTimeout)return vp=clearTimeout,clearTimeout(e);try{vp(e)}catch(t){try{return vp.call(null,e)}catch(t){return vp.call(this,e)}}}(e)}}function Tp(e,t){this.fun=e,this.array=t}function Cp(){}Tp.prototype.run=function(){this.fun.apply(null,this.array)};var Op=Cp,Mp=Cp,Dp=Cp,Np=Cp,xp=Cp,Lp=Cp,Pp=Cp,kp=as.performance||{},Rp=kp.now||kp.mozNow||kp.msNow||kp.oNow||kp.webkitNow||function(){return(new Date).getTime()},Gp=new Date,jp={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ep.push(new Tp(e,t)),1!==Ep.length||Sp||_p(wp)},title:"browser",browser:1,env:{},argv:[],version:"",versions:{},on:Op,addListener:Mp,once:Dp,off:Np,removeListener:xp,removeAllListeners:Lp,emit:Pp,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Rp.call(kp),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Gp)/1e3}},Up=function(e,t){up.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Fp=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=1,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},qp=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Bp=up.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=up.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return 1},Zp=up.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),up.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),up.isString(r)&&a.push("path="+r),up.isString(o)&&a.push("domain="+o),1==i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Vp=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;up.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+s)}if(i.open(e.method.toUpperCase(),lp(e.url,e.params,e.paramsSerializer),1),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in i?function(e){var t,n,r,o={};return e?(up.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=up.trim(e.substr(0,r)).toLowerCase(),n=up.trim(e.substr(r+1)),t){if(o[t]&&qp.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:r,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(Fp("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,o),i=null}},i.onabort=function(){i&&(n(Fp("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(Fp("Network Error",e,null,i)),i=null},i.ontimeout=function(){n(Fp("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",i)),i=null},up.isStandardBrowserEnv()){var u=Zp,c=(e.withCredentials||Bp(e.url))&&e.xsrfCookieName?u.read(e.xsrfCookieName):void 0;c&&(o[e.xsrfHeaderName]=c)}if("setRequestHeader"in i&&up.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),e.withCredentials&&(i.withCredentials=1),e.responseType)try{i.responseType=e.responseType}catch(p){if("json"!==e.responseType)throw p}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),void 0===r&&(r=null),i.send(r)}))},Hp={"Content-Type":"application/x-www-form-urlencoded"};function zp(e,t){!up.isUndefined(e)&&up.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Yp,Kp={adapter:(void 0!==jp&&"[object process]"===Object.prototype.toString.call(jp)?Yp=Vp:"undefined"!=typeof XMLHttpRequest&&(Yp=Vp),Yp),transformRequest:[function(e,t){return Up(t,"Accept"),Up(t,"Content-Type"),up.isFormData(e)||up.isArrayBuffer(e)||up.isBuffer(e)||up.isStream(e)||up.isFile(e)||up.isBlob(e)?e:up.isArrayBufferView(e)?e.buffer:up.isURLSearchParams(e)?(zp(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):up.isObject(e)?(zp(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(n){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};up.forEach(["delete","get","head"],(function(e){Kp.headers[e]={}})),up.forEach(["post","put","patch"],(function(e){Kp.headers[e]=up.merge(Hp)}));var Xp=Kp;function Wp(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Jp=function(e){var t,n,r;return Wp(e),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=hp(e.data,e.headers,e.transformRequest),e.headers=up.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),up.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Xp.adapter)(e).then((function(t){return Wp(e),t.data=hp(t.data,t.headers,e.transformResponse),t}),(function(t){return dp(t)||(Wp(e),t&&t.response&&(t.response.data=hp(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Qp=function(e,t){t=t||{};var n={};return up.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),up.forEach(["headers","auth","proxy"],(function(r){up.isObject(t[r])?n[r]=up.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:up.isObject(e[r])?n[r]=up.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),up.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function $p(e){this.defaults=e,this.interceptors={request:new fp,response:new fp}}$p.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Qp(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[Jp,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},$p.prototype.getUri=function(e){return e=Qp(this.defaults,e),lp(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},up.forEach(["delete","get","head","options"],(function(e){$p.prototype[e]=function(t,n){return this.request(up.merge(n||{},{method:e,url:t}))}})),up.forEach(["post","put","patch"],(function(e){$p.prototype[e]=function(t,n,r){return this.request(up.merge(r||{},{method:e,url:t,data:n}))}}));var ef=$p;function tf(e){this.message=e}tf.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},tf.prototype.__CANCEL__=1;var nf=tf;function rf(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new nf(e),t(n.reason))}))}rf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},rf.source=function(){var e;return{token:new rf((function(t){e=t})),cancel:e}};var of=rf;function af(e){var t=new ef(e),n=np(ef.prototype.request,t);return up.extend(n,ef.prototype,t),up.extend(n,t),n}var sf=af(Xp);sf.Axios=ef,sf.create=function(e){return af(Qp(sf.defaults,e))},sf.Cancel=nf,sf.CancelToken=of,sf.isCancel=dp,sf.all=function(e){return Promise.all(e)},sf.spread=function(e){return function(t){return e.apply(null,t)}};var uf=sf,cf=sf;uf.default=cf;var lf=uf,pf=lf.create({timeout:6e3,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});pf.interceptors.response.use((function(e){var t=e.data,n=t.error_code,r=t.ErrorCode;return _s(n)&&(r=n),r!==Il.REQUEST.SUCCESS&&(e.data.ErrorCode=Number(r)),e}),(function(e){return"Network Error"===e.message&&(1==pf.defaults.withCredentials&&ms.warn("Network Error, try to close `IMAxios.defaults.withCredentials` to false. (IMAxios.js)"),pf.defaults.withCredentials=0),Promise.reject(e)}));var ff=function(){function e(){sn(this,e)}return cn(e,[{key:"request",value:function(e){console.warn("请注意： ConnectionBase.request() 方法必须被派生类重写:"),console.log("参数如下：\n    * @param {String} options.url string 是 开发者服务器接口地址\n    * @param {*} options.data - string/object/ArrayBuffer 否 请求的参数\n    * @param {Object} options.header - Object 否 设置请求的 header，\n    * @param {String} options.method - string GET 否 HTTP 请求方法\n    * @param {String} options.dataType - string json 否 返回的数据格式\n    * @param {String} options.responseType - string text 否 响应的数据类型\n    * @param {Boolean} isRetry - string text false 是否为重试的请求\n   ")}},{key:"_checkOptions",value:function(e){if(0==!!e.url)throw new rl({code:el.NETWORK_BASE_OPTIONS_NO_URL,message:tl.NETWORK_BASE_OPTIONS_NO_URL})}},{key:"_initOptions",value:function(e){e.method=["POST","GET","PUT","DELETE","OPTION"].indexOf(e.method)>=0?e.method:"POST",e.dataType=e.dataType||"json",e.responseType=e.responseType||"json"}}]),e}(),hf=function(e){function t(){var e;return sn(this,t),(e=_n(this,dn(t).call(this))).retry=2,e}return hn(t,ff),cn(t,[{key:"request",value:function(e){return this._checkOptions(e),this._initOptions(e),this._requestWithRetry({url:e.url,data:e.data,method:e.method})}},{key:"_requestWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return pf(e).catch((function(r){return t.retry&&n<t.retry?t._requestWithRetry(e,++n):Jl(new rl({code:r.code||"",message:r.message||""}))}))}}]),t}(),df=[],mf=[],gf="undefined"!=typeof Uint8Array?Uint8Array:Array,yf=0;function vf(){yf=1;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)df[t]=e[t],mf[e.charCodeAt(t)]=t;mf["-".charCodeAt(0)]=62,mf["_".charCodeAt(0)]=63}function _f(e,t,n){for(var r,o,i=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(df[(o=r)>>18&63]+df[o>>12&63]+df[o>>6&63]+df[63&o]);return i.join("")}function bf(e){var t;yf||vf();for(var n=e.length,r=n%3,o="",i=[],a=0,s=n-r;a<s;a+=16383)i.push(_f(e,a,a+16383>s?s:a+16383));return 1===r?(t=e[n-1],o+=df[t>>2],o+=df[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=df[t>>10],o+=df[t>>4&63],o+=df[t<<2&63],o+="="),i.push(o),i.join("")}function Ef(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,p=n?o-1:0,f=n?-1:1,h=e[t+p];for(p+=f,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+p],p+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=f,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)}function Sf(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,p=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*u-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=d,a/=256,c-=8);e[n+h-d]|=128*m}var Af={}.toString,If=Array.isArray||function(e){return"[object Array]"==Af.call(e)};function wf(){return Cf.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Tf(e,t){if(wf()<t)throw new RangeError("Invalid typed array length");return Cf.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Cf.prototype:(null===e&&(e=new Cf(t)),e.length=t),e}function Cf(e,t,n){if(!(Cf.TYPED_ARRAY_SUPPORT||this instanceof Cf))return new Cf(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return Df(this,e)}return Of(this,e,t,n)}function Of(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Cf.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Cf.prototype:e=Nf(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!Cf.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Pf(t,n),o=(e=Tf(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(Lf(t)){var n=0|xf(t.length);return 0===(e=Tf(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?Tf(e,0):Nf(e,t);if("Buffer"===t.type&&If(t.data))return Nf(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Mf(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Df(e,t){if(Mf(t),e=Tf(e,t<0?0:0|xf(t)),!Cf.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function Nf(e,t){var n=t.length<0?0:0|xf(t.length);e=Tf(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function xf(e){if(e>=wf())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wf().toString(16)+" bytes");return 0|e}function Lf(e){return!(null==e||!e._isBuffer)}function Pf(e,t){if(Lf(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=0;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return sh(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return uh(e).length;default:if(r)return sh(e).length;t=(""+t).toLowerCase(),r=1}}function kf(e,t,n){var r=0;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Wf(this,t,n);case"utf8":case"utf-8":return zf(this,t,n);case"ascii":return Kf(this,t,n);case"latin1":case"binary":return Xf(this,t,n);case"base64":return Hf(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jf(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=1}}function Rf(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Gf(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=Cf.from(t,r)),Lf(t))return 0===t.length?-1:jf(e,t,n,r,o);if("number"==typeof t)return t&=255,Cf.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):jf(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function jf(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var p=1,f=0;f<u;f++)if(c(e,i+f)!==c(t,f)){p=0;break}if(p)return i}return-1}function Uf(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function Ff(e,t,n,r){return ch(sh(t,e.length-n),e,n,r)}function qf(e,t,n,r){return ch(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function Bf(e,t,n,r){return qf(e,t,n,r)}function Zf(e,t,n,r){return ch(uh(t),e,n,r)}function Vf(e,t,n,r){return ch(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function Hf(e,t,n){return 0===t&&n===e.length?bf(e):bf(e.slice(t,n))}function zf(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,p=c>239?4:c>223?3:c>191?2:1;if(o+p<=n)switch(p){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,p=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=p}return function(e){var t=e.length;if(t<=Yf)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Yf));return n}(r)}Cf.TYPED_ARRAY_SUPPORT=void 0!==as.TYPED_ARRAY_SUPPORT?as.TYPED_ARRAY_SUPPORT:1,Cf.poolSize=8192,Cf._augment=function(e){return e.__proto__=Cf.prototype,e},Cf.from=function(e,t,n){return Of(null,e,t,n)},Cf.TYPED_ARRAY_SUPPORT&&(Cf.prototype.__proto__=Uint8Array.prototype,Cf.__proto__=Uint8Array),Cf.alloc=function(e,t,n){return function(e,t,n,r){return Mf(t),t<=0?Tf(e,t):void 0!==n?"string"==typeof r?Tf(e,t).fill(n,r):Tf(e,t).fill(n):Tf(e,t)}(null,e,t,n)},Cf.allocUnsafe=function(e){return Df(null,e)},Cf.allocUnsafeSlow=function(e){return Df(null,e)},Cf.isBuffer=function(e){return null!=e&&(!!e._isBuffer||lh(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&lh(e.slice(0,0))}(e))},Cf.compare=function(e,t){if(!Lf(e)||!Lf(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},Cf.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 1;default:return 0}},Cf.concat=function(e,t){if(!If(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Cf.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Cf.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!Lf(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},Cf.byteLength=Pf,Cf.prototype._isBuffer=1,Cf.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Rf(this,t,t+1);return this},Cf.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Rf(this,t,t+3),Rf(this,t+1,t+2);return this},Cf.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Rf(this,t,t+7),Rf(this,t+1,t+6),Rf(this,t+2,t+5),Rf(this,t+3,t+4);return this},Cf.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?zf(this,0,e):kf.apply(this,arguments)},Cf.prototype.equals=function(e){if(!Lf(e))throw new TypeError("Argument must be a Buffer");return this===e?1:0===Cf.compare(this,e)},Cf.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Cf.prototype.compare=function(e,t,n,r,o){if(!Lf(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){i=u[l],a=c[l];break}return i<a?-1:a<i?1:0},Cf.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Cf.prototype.indexOf=function(e,t,n){return Gf(this,e,t,n,1)},Cf.prototype.lastIndexOf=function(e,t,n){return Gf(this,e,t,n,0)},Cf.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=0;;)switch(r){case"hex":return Uf(this,e,t,n);case"utf8":case"utf-8":return Ff(this,e,t,n);case"ascii":return qf(this,e,t,n);case"latin1":case"binary":return Bf(this,e,t,n);case"base64":return Zf(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vf(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=1}},Cf.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Yf=4096;function Kf(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function Xf(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function Wf(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=ah(e[i]);return o}function Jf(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function Qf(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function $f(e,t,n,r,o,i){if(!Lf(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function eh(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function th(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function nh(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function rh(e,t,n,r,o){return o||nh(e,0,n,4),Sf(e,t,n,r,23,4),n+4}function oh(e,t,n,r,o){return o||nh(e,0,n,8),Sf(e,t,n,r,52,8),n+8}Cf.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),Cf.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Cf.prototype;else{var o=t-e;n=new Cf(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},Cf.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||Qf(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},Cf.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||Qf(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},Cf.prototype.readUInt8=function(e,t){return t||Qf(e,1,this.length),this[e]},Cf.prototype.readUInt16LE=function(e,t){return t||Qf(e,2,this.length),this[e]|this[e+1]<<8},Cf.prototype.readUInt16BE=function(e,t){return t||Qf(e,2,this.length),this[e]<<8|this[e+1]},Cf.prototype.readUInt32LE=function(e,t){return t||Qf(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Cf.prototype.readUInt32BE=function(e,t){return t||Qf(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Cf.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||Qf(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},Cf.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||Qf(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},Cf.prototype.readInt8=function(e,t){return t||Qf(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Cf.prototype.readInt16LE=function(e,t){t||Qf(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Cf.prototype.readInt16BE=function(e,t){t||Qf(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Cf.prototype.readInt32LE=function(e,t){return t||Qf(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Cf.prototype.readInt32BE=function(e,t){return t||Qf(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Cf.prototype.readFloatLE=function(e,t){return t||Qf(e,4,this.length),Ef(this,e,1,23,4)},Cf.prototype.readFloatBE=function(e,t){return t||Qf(e,4,this.length),Ef(this,e,0,23,4)},Cf.prototype.readDoubleLE=function(e,t){return t||Qf(e,8,this.length),Ef(this,e,1,52,8)},Cf.prototype.readDoubleBE=function(e,t){return t||Qf(e,8,this.length),Ef(this,e,0,52,8)},Cf.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||$f(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},Cf.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||$f(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},Cf.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,1,255,0),Cf.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Cf.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,2,65535,0),Cf.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):eh(this,e,t,1),t+2},Cf.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,2,65535,0),Cf.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):eh(this,e,t,0),t+2},Cf.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,4,4294967295,0),Cf.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):th(this,e,t,1),t+4},Cf.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,4,4294967295,0),Cf.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):th(this,e,t,0),t+4},Cf.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);$f(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},Cf.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);$f(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},Cf.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,1,127,-128),Cf.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Cf.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,2,32767,-32768),Cf.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):eh(this,e,t,1),t+2},Cf.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,2,32767,-32768),Cf.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):eh(this,e,t,0),t+2},Cf.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,4,2147483647,-2147483648),Cf.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):th(this,e,t,1),t+4},Cf.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Cf.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):th(this,e,t,0),t+4},Cf.prototype.writeFloatLE=function(e,t,n){return rh(this,e,t,1,n)},Cf.prototype.writeFloatBE=function(e,t,n){return rh(this,e,t,0,n)},Cf.prototype.writeDoubleLE=function(e,t,n){return oh(this,e,t,1,n)},Cf.prototype.writeDoubleBE=function(e,t,n){return oh(this,e,t,0,n)},Cf.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!Cf.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},Cf.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Cf.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=Lf(e)?e:sh(new Cf(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var ih=/[^+\/0-9A-Za-z-_]/g;function ah(e){return e<16?"0"+e.toString(16):e.toString(16)}function sh(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function uh(e){return function(e){var t,n,r,o,i,a;yf||vf();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[s-2]?2:"="===e[s-1]?1:0,a=new gf(3*s/4-i),r=i>0?s-4:s;var u=0;for(t=0,n=0;t<r;t+=4,n+=3)o=mf[e.charCodeAt(t)]<<18|mf[e.charCodeAt(t+1)]<<12|mf[e.charCodeAt(t+2)]<<6|mf[e.charCodeAt(t+3)],a[u++]=o>>16&255,a[u++]=o>>8&255,a[u++]=255&o;return 2===i?(o=mf[e.charCodeAt(t)]<<2|mf[e.charCodeAt(t+1)]>>4,a[u++]=255&o):1===i&&(o=mf[e.charCodeAt(t)]<<10|mf[e.charCodeAt(t+1)]<<4|mf[e.charCodeAt(t+2)]>>2,a[u++]=o>>8&255,a[u++]=255&o),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(ih,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ch(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function lh(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var ph=function(e){function t(){var e;return sn(this,t),(e=_n(this,dn(t).call(this))).retry=2,e._request=e.promisify(wx.request),e}return hn(t,ff),cn(t,[{key:"request",value:function(e){return this._checkOptions(e),this._initOptions(e),e=fn({},e,{responseType:"text"}),this._requestWithRetry(e)}},{key:"_requestWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._request(e).then(this._handleResolve).catch((function(r){if(bs(r.errMsg)){if(r.errMsg.includes("abort"))return Wl({});if(r.errMsg.includes("timeout"))return t.retry>0&&n<t.retry?t._requestWithRetry(e,++n):Jl(new rl({code:el.NETWORK_TIMEOUT,message:r.errMsg}));if(r.errMsg.includes("fail"))return t.retry>0&&n<t.retry?t._requestWithRetry(e,++n):Jl(new rl({code:el.NETWORK_ERROR,message:r.errMsg}))}return Jl(new rl(fn({code:el.UNCAUGHT_ERROR,message:r.message},r)))}))}},{key:"_handleResolve",value:function(e){var t=e.data,n=t.error_code,r=t.ErrorCode;return"number"==typeof n&&(r=n),r!==Il.REQUEST.SUCCESS&&(e.data.ErrorCode=Number("".concat(r))),e}},{key:"promisify",value:function(e){return function(t){return new Promise((function(n,r){var o=e(Object.assign({},t,{success:n,fail:r}));t.updateAbort&&t.updateAbort((function(){o&&Ts(o.abort)&&o.abort()}))}))}}}]),t}(),fh=function(){function e(){sn(this,e),this.request=0,this.success=0,this.fail=0,this.reportRate=10,this.requestTimeCost=[]}return cn(e,[{key:"report",value:function(){if(1!==this.request){if(this.request%this.reportRate!=0)return null;var e=this.avgRequestTime(),t="runLoop reports: success=".concat(this.success,",fail=").concat(this.fail,",total=").concat(this.request,",avg=").concat(e,",cur=").concat(this.requestTimeCost[this.requestTimeCost.length-1],",max=").concat(Math.max.apply(null,this.requestTimeCost),",min=").concat(Math.min.apply(null,this.requestTimeCost));ms.log(t)}}},{key:"setRequestTime",value:function(e,t){var n=Math.abs(t-e);100===this.requestTimeCost.length&&this.requestTimeCost.shift(),this.requestTimeCost.push(n)}},{key:"avgRequestTime",value:function(){for(var e,t=this.requestTimeCost.length,n=0,r=0;r<t;r++)n+=this.requestTimeCost[r];return e=n/t,Math.round(100*e)/100}}]),e}(),hh=lf.CancelToken,dh=function(){function e(t){sn(this,e),this._initializeOptions(t),this._initializeMembers(),this.status=new fh}return cn(e,[{key:"destructor",value:function(){clearTimeout(this._seedID);var e=this._index();for(var t in this)Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=null);return e}},{key:"setIndex",value:function(e){this._index=e}},{key:"getIndex",value:function(){return this._index}},{key:"isRunning",value:function(){return!this._stoped}},{key:"_initializeOptions",value:function(e){this.options=e}},{key:"_initializeMembers",value:function(){this._index=-1,this._seedID=0,this._requestStatus=0,this._stoped=0,this._intervalTime=0,this._intervalIncreaseStep=1e3,this._intervalDecreaseStep=1e3,this._intervalTimeMax=5e3,this._protectTimeout=3e3,this._getNoticeSeq=this.options.getNoticeSeq,this._retryCount=0,this._responseTime=Date.now(),this._responseTimeThreshold=2e3,this.requestor=pf,this.abort=null}},{key:"start",value:function(){0===this._seedID?(this._stoped=0,this._send()):ms.log('XHRRunLoop.start(), XHRRunLoop is running now, if you want to restart runLoop , please run "stop()" first.')}},{key:"_reset",value:function(){ms.log("XHRRunLoop._reset(), reset long poll _intervalTime",this._intervalTime),this.stop(),this.start()}},{key:"_intervalTimeIncrease",value:function(){this._intervalTime!==this._responseTimeThreshold&&(this._intervalTime<this._responseTimeThreshold&&(this._intervalTime+=this._intervalIncreaseStep),this._intervalTime>this._responseTimeThreshold&&(this._intervalTime=this._responseTimeThreshold))}},{key:"_intervalTimeDecrease",value:function(){0!==this._intervalTime&&(this._intervalTime>0&&(this._intervalTime-=this._intervalDecreaseStep),this._intervalTime<0&&(this._intervalTime=0))}},{key:"_intervalTimeAdjustment",value:function(){var e=Date.now();100*Math.floor((e-this._responseTime)/100)<=this._responseTimeThreshold?this._intervalTimeIncrease():this._intervalTimeDecrease(),this._responseTime=e}},{key:"_intervalTimeAdjustmentBaseOnResponseData",value:function(e){e.ErrorCode===Il.REQUEST.SUCCESS?this._intervalTimeDecrease():this._intervalTimeIncrease()}},{key:"_send",value:function(){var e=this;if(1!=this._requestStatus){this._requestStatus=1,this.status.request++,"function"==typeof this.options.before&&this.options.before(this.options.pack.requestData);var t=Date.now(),n=0;this.requestor.request({url:this.options.pack.getUrl(),data:this.options.pack.requestData,method:this.options.pack.method,cancelToken:new hh((function(t){e.abort=t}))}).then((function(r){if(e._intervalTimeAdjustmentBaseOnResponseData.bind(e)(r.data),e._retryCount>0&&(e._retryCount=0),e.status.success++,n=Date.now(),e.status.setRequestTime(t,n),r.data.timecost=n-t,"function"==typeof e.options.success)try{e.options.success({pack:e.options.pack,error:0,data:e.options.pack.callback(r.data)})}catch(i){ms.warn("XHRRunLoop._send(), error:",i)}e._requestStatus=0,0==e._stoped&&(e._seedID=setTimeout(e._send.bind(e),e._intervalTime)),e.status.report()})).catch((function(r){if(e.status.fail++,e._retryCount++,e._intervalTimeAdjustment.bind(e)(),0==e._stoped&&(e._seedID=setTimeout(e._send.bind(e),e._intervalTime)),e._requestStatus=0,"function"==typeof e.options.fail&&void 0!==r.request)try{e.options.fail({pack:e.options.pack,error:r,data:0})}catch(i){ms.warn("XHRRunLoop._send(), fail callback error:"),ms.error(i)}n=Date.now(),e.status.setRequestTime(t,n),e.status.report()}))}}},{key:"stop",value:function(){this._clearAllTimeOut(),this._stoped=1}},{key:"_clearAllTimeOut",value:function(){clearTimeout(this._seedID),this._seedID=0}}]),e}(),mh=function(){function e(t){sn(this,e),this._initializeOptions(t),this._initializeMembers(),this.status=new fh}return cn(e,[{key:"destructor",value:function(){clearTimeout(this._seedID);var e=this._index();for(var t in this)Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=null);return e}},{key:"setIndex",value:function(e){this._index=e}},{key:"isRunning",value:function(){return!this._stoped}},{key:"getIndex",value:function(){return this._index}},{key:"_initializeOptions",value:function(e){this.options=e}},{key:"_initializeMembers",value:function(){this._index=-1,this._seedID=0,this._requestStatus=0,this._stoped=0,this._intervalTime=0,this._intervalIncreaseStep=1e3,this._intervalDecreaseStep=1e3,this._intervalTimeMax=5e3,this._protectTimeout=3e3,this._getNoticeSeq=this.options.getNoticeSeq,this._retryCount=0,this._responseTime=Date.now(),this._responseTimeThreshold=2e3,this.requestor=new ph,this.abort=null}},{key:"start",value:function(){0===this._seedID?(this._stoped=0,this._send()):ms.log('WXRunLoop.start(): WXRunLoop is running now, if you want to restart runLoop , please run "stop()" first.')}},{key:"_reset",value:function(){ms.log("WXRunLoop.reset(), long poll _intervalMaxRate",this._intervalMaxRate),this.stop(),this.start()}},{key:"_intervalTimeIncrease",value:function(){this._intervalTime!==this._responseTimeThreshold&&(this._intervalTime<this._responseTimeThreshold&&(this._intervalTime+=this._intervalIncreaseStep),this._intervalTime>this._responseTimeThreshold&&(this._intervalTime=this._responseTimeThreshold))}},{key:"_intervalTimeDecrease",value:function(){0!==this._intervalTime&&(this._intervalTime>0&&(this._intervalTime-=this._intervalDecreaseStep),this._intervalTime<0&&(this._intervalTime=0))}},{key:"_intervalTimeAdjustment",value:function(){var e=Date.now();100*Math.floor((e-this._responseTime)/100)<=this._responseTimeThreshold?this._intervalTimeIncrease():this._intervalTimeDecrease(),this._responseTime=e}},{key:"_intervalTimeAdjustmentBaseOnResponseData",value:function(e){e.ErrorCode===Il.REQUEST.SUCCESS?this._intervalTimeDecrease():this._intervalTimeIncrease()}},{key:"_send",value:function(){var e=this;if(1!=this._requestStatus){var t=this;this._requestStatus=1,this.status.request++,"function"==typeof this.options.before&&this.options.before(t.options.pack.requestData);var n=Date.now(),r=0;this.requestor.request({url:t.options.pack.getUrl(),data:t.options.pack.requestData,method:t.options.pack.method,updateAbort:function(t){e.abort=t}}).then((function(o){if(t._intervalTimeAdjustmentBaseOnResponseData.bind(e)(o.data),t._retryCount>0&&(t._retryCount=0),e.status.success++,r=Date.now(),e.status.setRequestTime(n,r),o.data.timecost=r-n,"function"==typeof t.options.success)try{e.options.success({pack:e.options.pack,error:0,data:e.options.pack.callback(o.data)})}catch(a){ms.warn("WXRunLoop._send(), error:",a)}t._requestStatus=0,0==t._stoped&&(t._seedID=setTimeout(t._send.bind(t),t._intervalTime)),e.status.report()})).catch((function(o){if(e.status.fail++,t._retryCount++,t._intervalTimeAdjustment.bind(e)(),0==t._stoped&&(t._seedID=setTimeout(t._send.bind(t),t._intervalTime)),t._requestStatus=0,"function"==typeof t.options.fail)try{e.options.fail({pack:e.options.pack,error:o,data:0})}catch(a){ms.warn("WXRunLoop._send(), fail callback error:"),ms.error(a)}r=Date.now(),e.status.setRequestTime(n,r),e.status.report()}))}}},{key:"stop",value:function(){this._clearAllTimeOut(),this._stoped=1}},{key:"_clearAllTimeOut",value:function(){clearTimeout(this._seedID),this._seedID=0}}]),e}(),gh=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e))).context=e.context,n.httpConnection=n._getHttpconnection(),n.keepAliveConnections=[],n}return hn(t,wl),cn(t,[{key:"initializeListener",value:function(){this.tim.innerEmitter.on(pl.SIGN_LOGOUT_EXECUTING,this._stopAllRunLoop,this)}},{key:"request",value:function(e){var t={url:e.url,data:e.requestData,method:e.method,callback:e.callback};return this.httpConnection.request(t).then((function(t){return t.data=e.callback(t.data),t.data.errorCode!==Il.REQUEST.SUCCESS?Jl(new rl({code:t.data.errorCode,message:t.data.errorInfo})):t}))}},{key:"createRunLoop",value:function(e){var t=this.createKeepAliveConnection(e);return t.setIndex(this.keepAliveConnections.push(t)-1),t}},{key:"stopRunLoop",value:function(e){e.stop()}},{key:"_stopAllRunLoop",value:function(){for(var e=this.keepAliveConnections.length,t=0;t<e;t++)this.keepAliveConnections[t].stop()}},{key:"destroyRunLoop",value:function(e){e.stop();var t=e.destructor();this.keepAliveConnections.slice(t,1)}},{key:"startRunLoopExclusive",value:function(e){for(var t=e.getIndex(),n=0;n<this.keepAliveConnections.length;n++)n!==t&&this.keepAliveConnections[n].stop();e.start()}},{key:"_getHttpconnection",value:function(){return ja?new ph:new hf}},{key:"createKeepAliveConnection",value:function(e){return ja?new mh(e):this.tim.options.runLoopNetType===Fl?new dh(e):(this.tim.options.runLoopNetType,"function"==typeof window.WebSocket&&window.WebSocket.prototype.send,new dh(e))}},{key:"clearAll",value:function(){this.conn.cancelAll()}},{key:"reset",value:function(){this.keepAliveConnections=[]}}]),t}();void 0===console.table&&(console.table=console.log);var yh=function(e,t){e.code?ms.warn("Oops! code: ".concat(e.code),"message: ".concat(e.message),"stack: ".concat(e.stack)):ms.warn("Oops! message: ".concat(e.message),"stack: ".concat(e.stack))},vh={f9999998:function(e){yh(e)},f9999999:function(e){yh(e)},f:function(e){yh(e),"未定义的错误:".concat(e.code," , ").concat(e.message)},f20000:function(e){yh(e)},f20001:function(e){yh(e)},f20002:function(e){yh(e)},f30000:function(e){yh(e)},f40004:function(e){yh(e)},f40005:function(e){yh(e)},f40006:function(e){yh(e)},f40007:function(e){yh(e)},f40008:function(e){yh(e)},f50070003:function(e){e.code.replace("500",""),yh(e)},f50030001:function(e){yh(e)},f50070221:function(e){yh(e)}};vh.echo=yh;var _h=function(){function e(t){sn(this,e),this.methods=vh,this.tim=t,this._initielizeListener()}return cn(e,[{key:"_initielizeListener",value:function(){this.tim.innerEmitter.on(pl.ERROR_DETECTED,this._onErrorDetected,this)}},{key:"ask",value:function(e){var t=["f",e.code].join(""),n=vh.echo;this.methods.hasOwnProperty(t)?this.methods[t](e):n(e)}},{key:"_onErrorDetected",value:function(e){this.ask(e),this.tim.outerEmitter.emit(Wt.ERROR,e)}}]),e}(),bh=["jpg","jpeg","gif","png"],Eh=["mp4"],Sh=function(){function e(t){sn(this,e),Ks(t)||(this.userID=t.userID||"",this.nick=t.nick||"",this.gender=t.gender||"",this.birthday=t.birthday||0,this.location=t.location||"",this.selfSignature=t.selfSignature||"",this.allowType=t.allowType||Jt.ALLOW_TYPE_ALLOW_ANY,this.language=t.language||0,this.avatar=t.avatar||"",this.messageSettings=t.messageSettings||0,this.adminForbidType=t.adminForbidType||Jt.FORBID_TYPE_NONE,this.level=t.level||0,this.role=t.role||0,this.lastUpdatedTime=0)}return cn(e,[{key:"validate",value:function(e){var t=1,n="";for(var r in Ks(e)&&(t=0,n="empty options"),e)if(Object.prototype.hasOwnProperty.call(e,r)){if(Ks(e[r])&&!bs(e[r])&&!_s(e[r])){n="key:"+r+", invalid value:"+e[r],t=0;continue}switch(r){case"nick":bs(e[r])||(n="nick should be a string",t=0),ks(e[r])>500&&(n="nick name limited: must less than or equal to ".concat(500," bytes, current size: ").concat(ks(e[r])," bytes"),t=0);break;case"gender":Us(Vl,e.gender)||(n="key:gender, invalid value:"+e.gender,t=0);break;case"birthday":_s(e.birthday)||(n="birthday should be a number",t=0);break;case"location":bs(e.location)||(n="location should be a string",t=0);break;case"selfSignature":bs(e.selfSignature)||(n="selfSignature should be a string",t=0);break;case"allowType":Us(zl,e.allowType)||(n="key:allowType, invalid value:"+e.allowType,t=0);break;case"language":_s(e.language)||(n="language should be a number",t=0);break;case"avatar":bs(e.avatar)||(n="avatar should be a string",t=0);break;case"messageSettings":0!==e.messageSettings&&1!==e.messageSettings&&(n="messageSettings should be 0 or 1",t=0);break;case"adminForbidType":Us(Hl,e.adminForbidType)||(n="key:adminForbidType, invalid value:"+e.adminForbidType,t=0);break;case"level":_s(e.level)||(n="level should be a number",t=0);break;case"role":_s(e.role)||(n="role should be a number",t=0);break;default:n="unknown key:"+r,t=0}}return{valid:t,tips:n}}}]),e}(),Ah=function(){function e(t){sn(this,e),this.uc=t,this.TAG="profile",this.Actions={Q:"query",U:"update"},this.accountProfileMap=new Map,this.expirationTime=864e5}return cn(e,[{key:"setExpirationTime",value:function(e){this.expirationTime=e}},{key:"getUserProfile",value:function(e){var t=this,n=this.uc.tim.connectionController,r=e.userIDList;if(!As(r))return ms.error("ProfileHandler.getUserProfile options.userIDList 必需是数组"),Jl({code:el.GET_PROFILE_INVALID_PARAM,message:tl.GET_PROFILE_INVALID_PARAM});e.fromAccount=this.uc.getMyAccount(),r.length>100&&(ms.warn("ProfileHandler.getUserProfile 获取用户资料人数不能超过100人"),r.length=100);for(var o,i=[],a=[],s=0,u=r.length;s<u;s++)o=r[s],this.uc.isMyFriend(o)&&this._containsAccount(o)?a.push(this._getProfileFromMap(o)):i.push(o);if(0===i.length)return Wl(a);e.toAccount=i;var c=e.bFromGetMyProfile||0,l=new $l;l.setMethod(ep.GET_USER_PROFILE).setStart();var p=this.uc.makeCapsule(this.TAG,this.Actions.Q,e);return n.request(p).then((function(e){l.setCode(0).setNetworkType(t.uc.getNetworkType()).setText(e.data.userProfileItem.length).setEnd(),ms.info("ProfileHandler.getUserProfile ok");var n=t._handleResponse(e).concat(a);return c?(t.uc.onGotMyProfile(),new Yl(n[0])):new Yl(n)})).catch((function(e){return t.uc.probeNetwork().then((function(t,n){l.setError(e,t,n).setEnd()})),ms.error("ProfileHandler.getUserProfile error:",e),Jl(e)}))}},{key:"getMyProfile",value:function(){var e=this.uc.getMyAccount();if(ms.log("ProfileHandler.getMyProfile myAccount="+e),this._fillMap(),this._containsAccount(e)){var t=this._getProfileFromMap(e);return ms.debug("ProfileHandler.getMyProfile from cache, myProfile:"+JSON.stringify(t)),this.uc.onGotMyProfile(),Wl(t)}return this.getUserProfile({fromAccount:e,userIDList:[e],bFromGetMyProfile:1})}},{key:"_handleResponse",value:function(e){for(var t,n,r=Ns.now(),o=e.data.userProfileItem,i=[],a=0,s=o.length;a<s;a++)"@TLS#NOT_FOUND"!==o[a].to&&""!==o[a].to&&(t=o[a].to,n=this._updateMap(t,this._getLatestProfileFromResponse(t,o[a].profileItem)),i.push(n));return ms.log("ProfileHandler._handleResponse cost "+(Ns.now()-r)+" ms"),i}},{key:"_getLatestProfileFromResponse",value:function(e,t){var n={};if(n.userID=e,!Ks(t))for(var r=0,o=t.length;r<o;r++)switch(t[r].tag){case Zl.NICK:n.nick=t[r].value;break;case Zl.GENDER:n.gender=t[r].value;break;case Zl.BIRTHDAY:n.birthday=t[r].value;break;case Zl.LOCATION:n.location=t[r].value;break;case Zl.SELFSIGNATURE:n.selfSignature=t[r].value;break;case Zl.ALLOWTYPE:n.allowType=t[r].value;break;case Zl.LANGUAGE:n.language=t[r].value;break;case Zl.AVATAR:n.avatar=t[r].value;break;case Zl.MESSAGESETTINGS:n.messageSettings=t[r].value;break;case Zl.ADMINFORBIDTYPE:n.adminForbidType=t[r].value;break;case Zl.LEVEL:n.level=t[r].value;break;case Zl.ROLE:n.role=t[r].value;break;default:ms.warn("ProfileHandler._handleResponse unkown tag->",t[r].tag)}return n}},{key:"updateMyProfile",value:function(e){var t=this,n=this.uc.tim,r=n.connectionController,o=n.outerEmitter,i=(new Sh).validate(e);if(!i.valid)return ms.error("ProfileHandler.updateMyProfile info:"+i.tips),Jl({code:el.UPDATE_PROFILE_INVALID_PARAM,message:tl.UPDATE_PROFILE_INVALID_PARAM});var a=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.push({tag:Zl[s.toUpperCase()],value:e[s]});var u=this.uc.makeCapsule(this.TAG,this.Actions.U,{fromAccount:this.uc.getMyAccount(),profileItem:a});return r.request(u).then((function(n){ms.info("ProfileHandler.updateMyProfile ok");var r=t._updateMap(t.uc.getMyAccount(),e);return o.emit(Wt.PROFILE_UPDATED,[r]),Wl(r)})).catch((function(e){return ms.error("ProfileHandler.updateMyProfile error:",e),Jl(e)}))}},{key:"onProfileModified",value:function(e){var t=e.data;if(!Ks(t)){var n,r,o=t.length;ms.info("ProfileHandler.onProfileModified length="+o);for(var i=[],a=0;a<o;a++)n=t[a].userID,r=this._updateMap(n,this._getLatestProfileFromResponse(n,t[a].profileList)),i.push(r);var s=this.uc.tim,u=s.innerEmitter,c=s.outerEmitter;u.emit(pl.PROFILE_UPDATED,{data:i}),c.emit(Wt.PROFILE_UPDATED,i)}}},{key:"_fillMap",value:function(){if(0===this.accountProfileMap.size){for(var e=this._getCachedProfiles(),t=Date.now(),n=0,r=e.length;n<r;n++)t-e[n].lastUpdatedTime<this.expirationTime&&this.accountProfileMap.set(e[n].userID,e[n]);ms.log("ProfileHandler._fillMap from chache, map.size="+this.accountProfileMap.size)}}},{key:"_updateMap",value:function(e,t){var n,r=Date.now();return this._containsAccount(e)?(n=this._getProfileFromMap(e),xs(n,t),n.lastUpdatedTime=r):(n=new Sh(t),(this.uc.isMyFriend(e)||e===this.uc.getMyAccount())&&(n.lastUpdatedTime=r,this.accountProfileMap.set(e,n))),this._flushMap(e===this.uc.getMyAccount()),n}},{key:"_flushMap",value:function(e){var t=En(this.accountProfileMap.values()),n=this.uc.tim.storage;ms.debug("ProfileHandler._flushMap length=".concat(t.length," flushAtOnce=").concat(e)),n.setItem(this.TAG,t,e)}},{key:"_containsAccount",value:function(e){return this.accountProfileMap.has(e)}},{key:"_getProfileFromMap",value:function(e){return this.accountProfileMap.get(e)}},{key:"_getCachedProfiles",value:function(){var e=this.uc.tim.storage.getItem(this.TAG);return Ks(e)?[]:e}},{key:"onConversationsProfileUpdated",value:function(e){for(var t,n,r,o=[],i=0,a=e.length;i<a;i++)n=(t=e[i]).userID,this.uc.isMyFriend(n)&&(this._containsAccount(n)?(r=this._getProfileFromMap(n),xs(r,t)>0&&o.push(n)):o.push(t.userID));0!==o.length&&(ms.info("ProfileHandler.onConversationsProfileUpdated toAccount:",o),this.getUserProfile({userIDList:o}))}},{key:"reset",value:function(){this._flushMap(1),this.accountProfileMap.clear()}}]),e}();Me({target:"String",proto:1},{repeat:Ur});var Ih=function(){function e(t){sn(this,e),this.options=t?t.options:{enablePointer:1},this.pointsList={},this.reportText={},this.maxNameLen=0,this.gapChar="-",this.log=console.log,this.currentTask=""}return cn(e,[{key:"newTask",value:function(e){0!=this.options.enablePointer&&(e||(e=["task",this._timeFormat()].join("-")),this.pointsList[e]=[],this.currentTask=e,console.log("Pointer new Task : ".concat(this.currentTask)))}},{key:"deleteTask",value:function(e){0!=this.options.enablePointer&&(e||(e=this.currentTask),this.pointsList[e].length=0,delete this.pointsList[e])}},{key:"dot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(0!=this.options.enablePointer){t=t||this.currentTask;var n=+new Date;this.maxNameLen=this.maxNameLen<e.length?e.length:this.maxNameLen,this.flen=this.maxNameLen+10,this.pointsList[t].push({pointerName:e,time:n})}}},{key:"_analisys",value:function(e){if(0!=this.options.enablePointer){e=e||this.currentTask;for(var t=this.pointsList[e],n=t.length,r=[],o=[],i=0;i<n;i++)0!==i&&(o=this._analisysTowPoints(t[i-1],t[i]),r.push(o.join("")));return o=this._analisysTowPoints(t[0],t[n-1],1),r.push(o.join("")),r.join("")}}},{key:"_analisysTowPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0!=this.options.enablePointer){var r=this.flen,o=t.time-e.time,i=o.toString(),a=e.pointerName+this.gapChar.repeat(r-e.pointerName.length),s=t.pointerName+this.gapChar.repeat(r-t.pointerName.length),u=this.gapChar.repeat(4-i.length)+i,c=n?["%c",a,s,u,"ms\n%c"]:[a,s,u,"ms\n"];return c}}},{key:"report",value:function(e){if(0!=this.options.enablePointer){e=e||this.currentTask;var t=this._analisys(e);this.pointsList=[];var n=this._timeFormat(),r="Pointer[".concat(e,"(").concat(n,")]"),o=4*this.maxNameLen,i=(o-r.length)/2;console.log(["-".repeat(i),r,"-".repeat(i)].join("")),console.log("%c"+t,"color:#66a","color:red","color:#66a"),console.log("-".repeat(o))}}},{key:"_timeFormat",value:function(){var e=new Date,t=this.zeroFix(e.getMonth()+1,2),n=this.zeroFix(e.getDate(),2);return"".concat(t,"-").concat(n," ").concat(e.getHours(),":").concat(e.getSeconds(),":").concat(e.getMinutes(),"~").concat(e.getMilliseconds())}},{key:"zeroFix",value:function(e,t){return("000000000"+e).slice(-t)}},{key:"reportAll",value:function(){if(0!=this.options.enablePointer)for(var e in this.pointsList)Object.prototype.hasOwnProperty.call(this.pointsList,e)&&this.eport(e)}}]),e}(),wh=function e(t,n){sn(this,e),this.userID=t;var r={};if(r.userID=t,!Ks(n))for(var o=0,i=n.length;o<i;o++)switch(n[o].tag){case Zl.NICK:r.nick=n[o].value;break;case Zl.GENDER:r.gender=n[o].value;break;case Zl.BIRTHDAY:r.birthday=n[o].value;break;case Zl.LOCATION:r.location=n[o].value;break;case Zl.SELFSIGNATURE:r.selfSignature=n[o].value;break;case Zl.ALLOWTYPE:r.allowType=n[o].value;break;case Zl.LANGUAGE:r.language=n[o].value;break;case Zl.AVATAR:r.avatar=n[o].value;break;case Zl.MESSAGESETTINGS:r.messageSettings=n[o].value;break;case Zl.ADMINFORBIDTYPE:r.adminForbidType=n[o].value;break;case Zl.LEVEL:r.level=n[o].value;break;case Zl.ROLE:r.role=n[o].value;break;default:ms.warn("snsProfileItem unkown tag->",n[o].tag)}this.profile=new Sh(r)},Th=function(){function e(t){sn(this,e),this.uc=t,this.TAG="friend",this.Actions={G:"get",D:"delete"},this.friends=new Map,this.pointer=new Ih}return cn(e,[{key:"isMyFriend",value:function(e){var t=this.friends.has(e);return t||ms.debug("FriendHandler.isMyFriend "+e+" is not my friend"),t}},{key:"_transformFriendList",value:function(e){if(!Ks(e)&&!Ks(e.infoItem)){ms.info("FriendHandler._transformFriendList friendNum="+e.friendNum);for(var t,n,r=e.infoItem,o=0,i=r.length;o<i;o++)n=r[o].infoAccount,t=new wh(n,r[o].snsProfileItem),this.friends.set(n,t)}}},{key:"_friends2map",value:function(e){var t=new Map;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.set(n,e[n]);return t}},{key:"getFriendList",value:function(){var e=this,t=this.uc.tim.connectionController,n={};n.fromAccount=this.uc.getMyAccount(),ms.info("FriendHandler.getFriendList myAccount="+n.fromAccount);var r=this.uc.makeCapsule(this.TAG,this.Actions.G,n);return t.request(r).then((function(t){ms.info("FriendHandler.getFriendList ok"),e._transformFriendList(t.data);var n=En(e.friends.values());return Wl(n)})).catch((function(e){return ms.error("FriendHandler.getFriendList error:",JSON.stringify(e)),Jl(e)}))}},{key:"deleteFriend",value:function(e){if(!Array.isArray(e.toAccount))return ms.error("FriendHandler.deleteFriend options.toAccount 必需是数组"),Jl({code:el.DEL_FRIEND_INVALID_PARAM,message:tl.DEL_FRIEND_INVALID_PARAM});e.toAccount.length>1e3&&(ms.warn("FriendHandler.deleteFriend 删除好友人数不能超过1000人"),e.toAccount.length=1e3);var t=this.uc.tim.connectionController,n=this.uc.makeCapsule(this.TAG,this.Actions.D,e);return t.request(n).then((function(e){return ms.info("FriendHandler.deleteFriend ok"),Wl()})).catch((function(e){return ms.error("FriendHandler.deleteFriend error:",e),Jl(e)}))}}]),e}(),Ch=function e(t){sn(this,e),Ks||(this.userID=t.userID||"",this.timeStamp=t.timeStamp||0)},Oh=function(){function e(t){sn(this,e),this.uc=t,this.TAG="blacklist",this.Actions={G:"get",C:"create",D:"delete"},this.blacklistMap=new Map,this.startIndex=0,this.maxLimited=100,this.curruentSequence=0}return cn(e,[{key:"getBlacklist",value:function(){var e=this,t=this.uc.tim.connectionController,n={};n.fromAccount=this.uc.getMyAccount(),n.maxLimited=this.maxLimited,n.startIndex=0,n.lastSequence=this.curruentSequence;var r=new $l;r.setMethod(ep.GET_BLACKLIST).setStart();var o=this.uc.makeCapsule(this.TAG,this.Actions.G,n);return t.request(o).then((function(t){var n=Ks(t.data.blackListItem)?0:t.data.blackListItem.length;return r.setCode(0).setNetworkType(e.uc.getNetworkType()).setText(n).setEnd(),ms.info("BlacklistHandler.getBlacklist ok"),e.curruentSequence=t.data.curruentSequence,e._handleResponse(t.data.blackListItem,1),e._onBlacklistUpdated()})).catch((function(t){return e.uc.probeNetwork().then((function(e,n){r.setError(t,e,n).setEnd()})),ms.error("BlacklistHandler.getBlacklist error:",t),Jl(t)}))}},{key:"addBlacklist",value:function(e){var t=this;if(!As(e.userIDList))return ms.error("BlacklistHandler.addBlacklist options.userIDList 必需是数组"),Jl({code:el.ADD_BLACKLIST_INVALID_PARAM,message:tl.ADD_BLACKLIST_INVALID_PARAM});var n=this.uc.tim.loginInfo.identifier;if(1===e.userIDList.length&&e.userIDList[0]===n)return ms.error("BlacklistHandler.addBlacklist 不能把自己拉黑"),Jl({code:el.CANNOT_ADD_SELF_TO_BLACKLIST,message:tl.CANNOT_ADD_SELF_TO_BLACKLIST});e.userIDList.includes(n)&&(e.userIDList=e.userIDList.filter((function(e){return e!==n})),ms.warn("BlacklistHandler.addBlacklist 不能把自己拉黑，已过滤"));var r=this.uc.tim.connectionController;e.fromAccount=this.uc.getMyAccount(),e.toAccount=e.userIDList;var o=this.uc.makeCapsule(this.TAG,this.Actions.C,e);return r.request(o).then((function(e){return ms.info("BlacklistHandler.addBlacklist ok"),t._handleResponse(e.data.resultItem,1),t._onBlacklistUpdated()})).catch((function(e){return ms.error("BlacklistHandler.addBlacklist error:",e),Jl(e)}))}},{key:"_handleResponse",value:function(e,t){if(!Ks(e))for(var n,r,o,i=0,a=e.length;i<a;i++)r=e[i].to,o=e[i].resultCode,(Is(o)||0===o)&&(t?((n=this.blacklistMap.has(r)?this.blacklistMap.get(r):new Ch).userID=r,!Ks(e[i].addBlackTimeStamp)&&(n.timeStamp=e[i].addBlackTimeStamp),this.blacklistMap.set(r,n)):this.blacklistMap.has(r)&&(n=this.blacklistMap.get(r),this.blacklistMap.delete(r)));ms.log("BlacklistHandler._handleResponse total="+this.blacklistMap.size+" bAdd="+t)}},{key:"deleteBlacklist",value:function(e){var t=this;if(!As(e.userIDList))return ms.error("BlacklistHandler.deleteBlacklist options.userIDList 必需是数组"),Jl({code:el.DEL_BLACKLIST_INVALID_PARAM,message:tl.DEL_BLACKLIST_INVALID_PARAM});var n=this.uc.tim.connectionController;e.fromAccount=this.uc.getMyAccount(),e.toAccount=e.userIDList;var r=this.uc.makeCapsule(this.TAG,this.Actions.D,e);return n.request(r).then((function(e){return ms.info("BlacklistHandler.deleteBlacklist ok"),t._handleResponse(e.data.resultItem,0),t._onBlacklistUpdated()})).catch((function(e){return ms.error("BlacklistHandler.deleteBlacklist error:",e),Jl(e)}))}},{key:"_onBlacklistUpdated",value:function(){var e=this.uc.tim.outerEmitter,t=En(this.blacklistMap.keys());return e.emit(Wt.BLACKLIST_UPDATED,t),Wl(t)}},{key:"handleBlackListDelAccount",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;r++)t=e[r],this.blacklistMap.has(t)&&(this.blacklistMap.delete(t),n.push(t));n.length>0&&(ms.log("BlacklistHandler.handleBlackListDelAccount delCount="+n.length+" : "+n.join(",")),this.tim.outerEmitter.emit(Wt.BLACKLIST_UPDATED,En(this.blacklistMap.keys())))}},{key:"handleBlackListAddAccount",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;r++)t=e[r],this.blacklistMap.has(t)||(this.blacklistMap.set(t,new Ch({userID:t})),n.push(t));n.length>0&&(ms.log("BlacklistHandler.handleBlackListAddAccount addCount="+n.length+" : "+n.join(",")),this.tim.outerEmitter.emit(Wt.BLACKLIST_UPDATED,En(this.blacklistMap.keys())))}},{key:"reset",value:function(){this.blacklistMap.clear(),this.startIndex=0,this.maxLimited=100,this.curruentSequence=0}}]),e}(),Mh=function(){function e(t){sn(this,e),this.uc=t,this.TAG="applyC2C",this.Actions={C:"create",G:"get",D:"delete",U:"update"}}return cn(e,[{key:"applyAddFriend",value:function(e){var t=this,n=this.uc.tim.connectionController,r=this.uc.makeCapsule(this.TAG,this.Actions.C,e),o=n.request(r);return o.then((function(e){t.uc.isActionSuccessful("applyAddFriend",t.Actions.C,e)})).catch((function(e){})),o}},{key:"getPendency",value:function(e){var t=this,n=this.tim.connectionController,r=this.uc.makeCapsule(this.TAG,this.Actions.G,e),o=n.request(r);return o.then((function(e){t.uc.isActionSuccessful("getPendency",t.Actions.G,e)})).catch((function(e){})),o}},{key:"deletePendency",value:function(e){var t=this,n=this.tim.connectionController,r=this.uc.makeCapsule(this.TAG,this.Actions.D,e),o=n.request(r);return o.then((function(e){t.uc.isActionSuccessful("deletePendency",t.Actions.D,e)})).catch((function(e){})),o}},{key:"replyPendency",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.tim.connectionController,r=this.uc.makeCapsule(this.TAG,this.Actions.U,t),o=n.request(r);return o.then((function(t){e.uc.isActionSuccessful("replyPendency",e.Actions.U,t)})).catch((function(e){})),o}}]),e}(),Dh=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e))).profileHandler=new Ah(vn(n)),n.friendHandler=new Th(vn(n)),n.blacklistHandler=new Oh(vn(n)),n.applyC2CHandler=new Mh(vn(n)),n._initializeListener(),n}return hn(t,wl),cn(t,[{key:"_initializeListener",value:function(e){var t=this.tim.innerEmitter;t.on(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,this.onContextUpdated,this),t.on(pl.NOTICE_LONGPOLL_PROFILE_MODIFIED,this.onProfileModified,this),t.on(pl.NOTICE_LONGPOLL_NEW_FRIEND_MESSAGES,this.onNewFriendMessages,this),t.on(pl.CONVERSATION_LIST_PROFILE_UPDATED,this.onConversationsProfileUpdated,this)}},{key:"onContextUpdated",value:function(e){var t=e.data.context;0!=!!t.a2Key&&0!=!!t.tinyID&&(this.profileHandler.getMyProfile(),this.friendHandler.getFriendList(),this.blacklistHandler.getBlacklist())}},{key:"onGotMyProfile",value:function(){this.triggerReady()}},{key:"onProfileModified",value:function(e){this.profileHandler.onProfileModified(e)}},{key:"onNewFriendMessages",value:function(e){ms.debug("onNewFriendMessages",JSON.stringify(e.data)),Ks(e.data.blackListDelAccount)||this.blacklistHandler.handleBlackListDelAccount(e.data.blackListDelAccount),Ks(e.data.blackListAddAccount)||this.blacklistHandler.handleBlackListAddAccount(e.data.blackListAddAccount)}},{key:"onConversationsProfileUpdated",value:function(e){this.profileHandler.onConversationsProfileUpdated(e.data)}},{key:"getMyAccount",value:function(){return this.tim.context.identifier}},{key:"isMyFriend",value:function(e){return this.friendHandler.isMyFriend(e)}},{key:"makeCapsule",value:function(e,t,n){return this.createPackage({name:e,action:t,param:n})}},{key:"getMyProfile",value:function(){return this.profileHandler.getMyProfile()}},{key:"getUserProfile",value:function(e){return this.profileHandler.getUserProfile(e)}},{key:"updateMyProfile",value:function(e){return this.profileHandler.updateMyProfile(e)}},{key:"getFriendList",value:function(){return this.friendHandler.getFriendList()}},{key:"deleteFriend",value:function(e){return this.friendHandler.deleteFriend(e)}},{key:"getBlacklist",value:function(){return this.blacklistHandler.getBlacklist()}},{key:"addBlacklist",value:function(e){return this.blacklistHandler.addBlacklist(e)}},{key:"deleteBlacklist",value:function(e){return this.blacklistHandler.deleteBlacklist(e)}},{key:"applyAddFriend",value:function(e){return this.applyC2CHandler.applyAddFriend(e)}},{key:"getPendency",value:function(e){return this.applyC2CHandler.getPendency(e)}},{key:"deletePendency",value:function(e){return this.applyC2CHandler.deletePendency(e)}},{key:"replyPendency",value:function(e){return this.applyC2CHandler.replyPendency(e)}},{key:"reset",value:function(){ms.warn("UserController.reset"),this.resetReady(),this.profileHandler.reset(),this.blacklistHandler.reset(),this.checkTimes=0}}]),t}(),Nh=[].sort,xh=[1,2,3],Lh=c((function(){xh.sort(void 0)})),Ph=c((function(){xh.sort(null)})),kh=Ze("sort");Me({target:"Array",proto:1,forced:Lh||!Ph||kh},{sort:function(e){return void 0===e?Nh.call(xe(this)):Nh.call(xe(this),De(e))}});var Rh=function(){function e(t){sn(this,e),this.type=Jt.MSG_TEXT,this.content={text:t.text||""}}return cn(e,[{key:"setText",value:function(e){this.content.text=e}},{key:"sendable",value:function(){return 0===this.content.text.length?0:1}}]),e}(),Gh=function(){function e(t){sn(this,e),this._imageMemoryURL="",this._file=t.file,ja?this.createImageDataASURLInWXMiniApp(t.file):this.createImageDataASURLInWeb(t.file),this._initImageInfoModel(),this.type=Jt.MSG_IMAGE,this._percent=0,this.content={imageFormat:Ol.IMAGE_FORMAT[t.imageFormat]||Ol.IMAGE_FORMAT.UNKNOWN,uuid:t.uuid,imageInfoArray:[]},this.initImageInfoArray(t.imageInfoArray),this._defaultImage="http://imgcache.qq.com/open/qcloud/video/act/webim-images/default.jpg",this._autoFixUrl()}return cn(e,[{key:"_initImageInfoModel",value:function(){var e=this;this._ImageInfoModel=function(t){this.instanceID=Rs(9999999),this.sizeType=t.type||0,this.size=t.size||0,this.width=t.width||0,this.height=t.height||0,this.imageUrl=t.url||"",this.url=t.url||e._imageMemoryURL||e._defaultImage},this._ImageInfoModel.prototype={setSizeType:function(e){this.sizeType=e},setImageUrl:function(e){e&&(this.imageUrl=e)},getImageUrl:function(){return this.imageUrl}}}},{key:"initImageInfoArray",value:function(e){for(var t=2,n=null,r=null;t>=0;)r=void 0===e||void 0===e[t]?{type:0,size:0,width:0,height:0,url:""}:e[t],(n=new this._ImageInfoModel(r)).setSizeType(t+1),this.addImageInfo(n),t--}},{key:"updateImageInfoArray",value:function(e){for(var t,n=this.content.imageInfoArray.length,r=0;r<n;r++)t=this.content.imageInfoArray[r],e.size&&(t.size=e.size),e.url&&t.setImageUrl(e.url),e.width&&(t.width=e.width),e.height&&(t.height=e.height)}},{key:"_autoFixUrl",value:function(){for(var e=this.content.imageInfoArray.length,t="",n="",r=["http","https"],o=null,i=0;i<e;i++)this.content.imageInfoArray[i].url&&""!==(o=this.content.imageInfoArray[i]).imageUrl&&(n=o.imageUrl.slice(0,o.imageUrl.indexOf("://")+1),t=o.imageUrl.slice(o.imageUrl.indexOf("://")+1),r.indexOf(n)<0&&(n="https:"),this.content.imageInfoArray[i].setImageUrl([n,t].join("")))}},{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateImageFormat",value:function(e){this.content.imageFormat=e}},{key:"createImageDataASURLInWeb",value:function(e){void 0!==e&&e.files.length>0&&(this._imageMemoryURL=window.URL.createObjectURL(e.files[0]))}},{key:"createImageDataASURLInWXMiniApp",value:function(e){e&&e.url&&(this._imageMemoryURL=e.url)}},{key:"replaceImageInfo",value:function(e,t){this.content.imageInfoArray[t]instanceof this._ImageInfoModel||(this.content.imageInfoArray[t]=e)}},{key:"addImageInfo",value:function(e){this.content.imageInfoArray.length>=3||this.content.imageInfoArray.push(e)}},{key:"sendable",value:function(){return 0===this.content.imageInfoArray.length?0:""===this.content.imageInfoArray[0].imageUrl?0:0===this.content.imageInfoArray[0].size?0:1}}]),e}(),jh=function(){function e(t){sn(this,e),this.type=Jt.MSG_FACE,this.content=t||null}return cn(e,[{key:"sendable",value:function(){return null===this.content?0:1}}]),e}(),Uh=function(){function e(t){sn(this,e),this.type=Jt.MSG_AUDIO,this._percent=0,this.content={downloadFlag:2,second:t.second,size:t.size,url:t.url,remoteAudioUrl:"",uuid:t.uuid}}return cn(e,[{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateAudioUrl",value:function(e){this.content.remoteAudioUrl=e}},{key:"sendable",value:function(){return""===this.content.remoteAudioUrl?0:1}}]),e}(),Fh={from:1,groupID:1,groupName:1,to:1},qh=function(){function e(t){sn(this,e),this.type=Jt.MSG_GRP_TIP,this.content={},this._initContent(t)}return cn(e,[{key:"_initContent",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"remarkInfo":break;case"groupProfile":t.content.groupProfile={},t._initGroupProfile(e[n]);break;case"operatorInfo":case"memberInfoList":break;default:t.content[n]=e[n]}})),this.content.userIDList||(this.content.userIDList=[this.content.operatorID])}},{key:"_initGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];Fh[r]&&(this.content.groupProfile[r]=e[r])}}}]),e}(),Bh={from:1,groupID:1,name:1,to:1},Zh=function(){function e(t){sn(this,e),this.type=Jt.MSG_GRP_SYS_NOTICE,this.content={},this._initContent(t)}return cn(e,[{key:"_initContent",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"memberInfoList":break;case"remarkInfo":t.content.handleMessage=e[n];break;case"groupProfile":t.content.groupProfile={},t._initGroupProfile(e[n]);break;default:t.content[n]=e[n]}}))}},{key:"_initGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];Bh[r]&&(this.content.groupProfile[r]=e[r])}}}]),e}(),Vh=Math.min,Hh=[].lastIndexOf,zh=!!Hh&&1/[1].lastIndexOf(1,-0)<0,Yh=Ze("lastIndexOf"),Kh=zh||Yh?function(e){if(zh)return Hh.apply(this,arguments)||0;var t=b(this),n=se(t.length),r=n-1;for(arguments.length>1&&(r=Vh(r,ie(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:Hh;Me({target:"Array",proto:1,forced:Kh!==[].lastIndexOf},{lastIndexOf:Kh});var Xh=function(){function e(t){sn(this,e);var n=this._check(t);if(n instanceof rl)throw n;this.type=Jt.MSG_FILE,this._percent=0;var r=this._getFileInfo(t);this.content={downloadFlag:2,fileUrl:t.url||"",uuid:t.uuid,fileName:r.name||"",fileSize:r.size||0}}return cn(e,[{key:"_getFileInfo",value:function(e){if(e.fileName&&e.fileSize)return{size:e.fileSize,name:e.fileName};if(ja)return{};var t=e.file.files[0];return{size:t.size,name:t.name,type:t.type.slice(t.type.lastIndexOf("/")+1).toLowerCase()}}},{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateFileUrl",value:function(e){this.content.fileUrl=e}},{key:"_check",value:function(e){if(e.size>20971520)return new rl({code:el.MESSAGE_FILE_SIZE_LIMIT,message:"".concat(tl.MESSAGE_FILE_SIZE_LIMIT,": ").concat(20971520," bytes")})}},{key:"sendable",value:function(){return""===this.content.fileUrl?0:""===this.content.fileName?0:0===this.content.fileSize?0:1}}]),e}(),Wh=function(){function e(t){sn(this,e),this.type=Jt.MSG_CUSTOM,this.content={data:t.data||"",description:t.description||"",extension:t.extension||""}}return cn(e,[{key:"setData",value:function(e){return this.content.data=e,this}},{key:"setDescription",value:function(e){return this.content.description=e,this}},{key:"setExtension",value:function(e){return this.content.extension=e,this}},{key:"sendable",value:function(){return 0===this.content.data.length&&0===this.content.description.length&&0===this.content.extension.length?0:1}}]),e}(),Jh=function(){function e(t){sn(this,e),this.type=Jt.MSG_VIDEO,this._percent=0,this.content={remoteVideoUrl:t.remoteVideoUrl,videoFormat:t.videoFormat,videoSecond:parseInt(t.videoSecond,10),videoSize:t.videoSize,videoUrl:t.videoUrl,videoDownloadFlag:2,videoUUID:t.videoUUID,thumbUUID:t.thumbUUID,thumbFormat:t.thumbFormat,thumbWidth:t.thumbWidth,thumbHeight:t.thumbHeight,thumbSize:t.thumbSize,thumbDownloadFlag:2,thumbUrl:t.thumbUrl}}return cn(e,[{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateVideoUrl",value:function(e){e&&(this.content.remoteVideoUrl=e)}},{key:"sendable",value:function(){return""===this.content.remoteVideoUrl?0:1}}]),e}(),Qh=function e(t){sn(this,e),this.type=Jt.MSG_GEO,this.content=t},$h=function(){function e(t){sn(this,e),this.ID="",this.conversationID=t.conversationID||null,this.conversationType=t.conversationType||Jt.CONV_C2C,this.conversationSubType=t.conversationSubType,this.time=t.time||Math.ceil(Date.now()/1e3),this.sequence=t.sequence||0,this.clientSequence=t.clientSequence||t.sequence||0,this.random=t.random||Rs(),this.messagePriority=t.messagePriority||0,this._elements=[],this.isPlaceMessage=0,this.geo={},this.from=t.from||null,this.to=t.to||null,this.flow="",this.isSystemMessage=t.isSystemMessage||0,this.protocol=t.protocol||"JSON",this.isResend=0,this.isRead=0,this.status=t.status||Il.MESSAGE_STATUS.SUCCESS,this.reInitialize(t.currentUser),this.extractGroupInfo(t.groupProfile||null)}return cn(e,[{key:"getElements",value:function(){return this._elements}},{key:"extractGroupInfo",value:function(e){if(null!==e){var t=e.messageFromAccountExtraInformation;this.nick="","string"==typeof e.fromAccountNick&&(this.nick=e.fromAccountNick),this.avatar="","string"==typeof e.fromAccountHeadurl&&(this.avatar=e.fromAccountHeadurl),this.nameCard="","object"===an(t)&&t.hasOwnProperty("nameCard")&&(this.nameCard=t.nameCard)}}},{key:"_initProxy",value:function(){this.payload=this._elements[0].content,this.type=this._elements[0].type}},{key:"reInitialize",value:function(e){e&&(this.status=this.from?Il.MESSAGE_STATUS.SUCCESS:Il.MESSAGE_STATUS.UNSEND,!this.from&&(this.from=e),this.isRead=1),this._initFlow(e),this._initielizeSequence(e),this._concactConversationID(e),this.generateMessageID(e)}},{key:"isSendable",value:function(){return 0===this._elements.length?0:"function"!=typeof this._elements[0].sendable?(ms.warn("".concat(this._elements[0].type,' need "boolean : sendable()" method')),0):this._elements[0].sendable()}},{key:"_initTo",value:function(e){this.conversationType===Jt.CONV_GROUP&&(this.to=e.groupID)}},{key:"_initielizeSequence",value:function(e){0===this.clientSequence&&e&&(this.clientSequence=function(e){if(!e)return ms.error("autoincrementIndex(string: key) need key parameter"),0;if(void 0===Fs[e]){var t=new Date,n="3".concat(t.getHours()).slice(-2),r="0".concat(t.getMinutes()).slice(-2),o="0".concat(t.getSeconds()).slice(-2);Fs[e]=parseInt([n,r,o,"0001"].join("")),n=null,r=null,o=null,ms.warn("utils.autoincrementIndex() create new sequence : ".concat(e," = ").concat(Fs[e]))}return Fs[e]++}(e)),0===this.sequence&&this.conversationType===Jt.CONV_C2C&&(this.sequence=this.clientSequence)}},{key:"generateMessageID",value:function(e){var t=e===this.from?1:0,n=this.sequence>0?this.sequence:this.clientSequence;this.ID="".concat(this.conversationID,"-").concat(n,"-").concat(this.random,"-").concat(t)}},{key:"_initFlow",value:function(e){""!==e&&(this.flow=e===this.from?"out":"in")}},{key:"_concactConversationID",value:function(e){var t=this.to,n="",r=this.conversationType;r!==Jt.CONV_SYSTEM?(n=r===Jt.CONV_C2C?e===this.from?t:this.from:this.to,this.conversationID="".concat(r).concat(n)):this.conversationID=Jt.CONV_SYSTEM}},{key:"isElement",value:function(e){return e instanceof Rh||e instanceof Gh||e instanceof jh||e instanceof Uh||e instanceof Xh||e instanceof Jh||e instanceof qh||e instanceof Zh||e instanceof Wh||e instanceof Qh}},{key:"setElement",value:function(e){var t=this;if(this.isElement(e))return this._elements=[e],void this._initProxy();var n=function(e){switch(e.type){case Jt.MSG_TEXT:t.setTextElement(e.content);break;case Jt.MSG_IMAGE:t.setImageElement(e.content);break;case Jt.MSG_AUDIO:t.setAudioElement(e.content);break;case Jt.MSG_FILE:t.setFileElement(e.content);break;case Jt.MSG_VIDEO:t.setVideoElement(e.content);break;case Jt.MSG_CUSTOM:t.setCustomElement(e.content);break;case Jt.MSG_GEO:t.setGEOElement(e.content);break;case Jt.MSG_GRP_TIP:t.setGroupTipElement(e.content);break;case Jt.MSG_GRP_SYS_NOTICE:t.setGroupSystemNoticeElement(e.content);break;case Jt.MSG_FACE:t.setFaceElement(e.content);break;default:ms.warn(e.type,e.content,"no operation......")}};if(Array.isArray(e))for(var r=0;r<e.length;r++)n(e[r]);else n(e);this._initProxy()}},{key:"setTextElement",value:function(e){var t="string"==typeof e?e:e.text,n=new Rh({text:t});this._elements.push(n)}},{key:"setImageElement",value:function(e){var t=new Gh(e);this._elements.push(t)}},{key:"setAudioElement",value:function(e){var t=new Uh(e);this._elements.push(t)}},{key:"setFileElement",value:function(e){var t=new Xh(e);this._elements.push(t)}},{key:"setVideoElement",value:function(e){var t=new Jh(e);this._elements.push(t)}},{key:"setGEOElement",value:function(e){var t=new Qh(e);this._elements.push(t)}},{key:"setCustomElement",value:function(e){var t=new Wh(e);this._elements.push(t)}},{key:"setGroupTipElement",value:function(e){var t=new qh(e);this._elements.push(t)}},{key:"setGroupSystemNoticeElement",value:function(e){var t=new Zh(e);this._elements.push(t)}},{key:"setFaceElement",value:function(e){var t=new jh(e);this._elements.push(t)}},{key:"elements",get:function(){return ms.warn("！！！Message 实例的 elements 属性即将废弃，请尽快修改。使用 type 和 payload 属性处理单条消息，兼容组合消息使用 _elements 属性！！！"),this._elements}}]),e}(),ed=["groupID","name","avatar","type","introduction","notification","ownerID","selfInfo","createTime","infoSequence","lastInfoTime","lastMessage","nextMessageSeq","memberNum","maxMemberNum","memberList","joinOption","groupCustomField"],td=function(){function e(t){sn(this,e),this.groupID="",this.name="",this.avatar="",this.type="",this.introduction="",this.notification="",this.ownerID="",this.createTime="",this.infoSequence="",this.lastInfoTime="",this.selfInfo={messageRemindType:"",joinTime:"",nameCard:"",role:""},this.lastMessage={lastTime:"",lastSequence:"",fromAccount:"",messageForShow:""},this.nextMessageSeq="",this.memberNum="",this.maxMemberNum="",this.joinOption="",this.groupCustomField=[],this._initGroup(t)}return cn(e,[{key:"_initGroup",value:function(e){for(var t in e)ed.indexOf(t)<0||("selfInfo"!==t?this[t]=e[t]:this.updateSelfInfo(e[t]))}},{key:"updateGroup",value:function(e){e.lastMsgTime&&(this.lastMessage.lastTime=e.lastMsgTime),xs(this,e,["members","errorCode","lastMsgTime"])}},{key:"updateSelfInfo",value:function(e){var t=e.nameCard,n=e.joinTime,r=e.role,o=e.messageRemindType;xs(this.selfInfo,{nameCard:t,joinTime:n,role:r,messageRemindType:o},[],["",null,void 0,0,NaN])}}]),e}(),nd=function(e,t){if(Is(t))return"";switch(e){case Jt.MSG_TEXT:return t.text;case Jt.MSG_IMAGE:return"[图片]";case Jt.MSG_GEO:return"[位置]";case Jt.MSG_AUDIO:return"[语音]";case Jt.MSG_VIDEO:return"[视频]";case Jt.MSG_FILE:return"[文件]";case Jt.MSG_CUSTOM:return"[自定义消息]";case Jt.MSG_GRP_TIP:return"[群提示消息]";case Jt.MSG_GRP_SYS_NOTICE:return"[群系统通知]";case Jt.MSG_FACE:return"[动画表情]";default:return""}},rd=function(e){return Is(e)?{lastTime:0,lastSequence:0,fromAccount:0,messageForShow:"",payload:null,type:""}:e instanceof $h?{lastTime:e.time||0,lastSequence:e.sequence||0,fromAccount:e.from||"",messageForShow:nd(e.type,e.payload),payload:e.payload||null,type:e.type||null}:fn({},e,{messageForShow:nd(e.type,e.payload)})},od=function(){function e(t){sn(this,e),this.conversationID=t.conversationID||"",this.unreadCount=t.unreadCount||0,this.type=t.type||"",this.lastMessage=rd(t.lastMessage),this._isInfoCompleted=0,this._initProfile(t)}return cn(e,[{key:"_initProfile",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"userProfile":t.userProfile=e.userProfile;break;case"groupProfile":t.groupProfile=e.groupProfile}})),Is(this.userProfile)&&this.type===Jt.CONV_C2C?this.userProfile=new Sh({userID:e.conversationID.replace("C2C","")}):Is(this.groupProfile)&&this.type===Jt.CONV_GROUP&&(this.groupProfile=new td({groupID:e.conversationID.replace("GROUP","")}))}},{key:"updateUnreadCount",value:function(e,t){Is(e)||(this.subType===Jt.GRP_CHATROOM||Vs(this.subType)?this.unreadCount=0:t&&this.type===Jt.CONV_GROUP?this.unreadCount=e:this.unreadCount=this.unreadCount+e)}},{key:"toAccount",get:function(){return this.conversationID.replace("C2C","").replace("GROUP","")}},{key:"subType",get:function(){return this.groupProfile?this.groupProfile.type:""}}]),e}(),id=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e))).pagingStatus=Il.PAGING_CONVERSATION.NOT_START,n.pagingTimeStamp=0,n.conversationMap=new Map,n.tempGroupList=[],n._initListeners(),n}return hn(t,wl),cn(t,[{key:"hasLocalConversationMap",value:function(){return this.conversationMap.size>0}},{key:"createLocalConversation",value:function(e){return this.conversationMap.has(e)?this.conversationMap.get(e):new od({conversationID:e,type:e.slice(0,3)===Jt.CONV_C2C?Jt.CONV_C2C:Jt.CONV_GROUP})}},{key:"hasLocalConversation",value:function(e){return this.conversationMap.has(e)}},{key:"getConversationList",value:function(){var e=this;ms.log("ConversationController.getConversationList."),this.pagingStatus===Il.PAGING_CONVERSATION.REJECTED&&(ms.log("ConversationController.getConversationList. continue to sync conversationList"),this._syncConversationList());var t=new $l;t.setMethod(ep.GET_CONVERSATION_LIST).setStart();var n=this.createPackage({name:"conversation",action:"query"});return this.tim.connectionController.request(n).then((function(n){var r=n.data.conversations,o=void 0===r?[]:r,i=e._getConversationOptions(o);return e._updateLocalConversationList(i,1),e._setStorageConversationList(),t.setCode(0).setText(o.length).setEnd(),ms.log("ConversationController.getConversationList ok."),Wl({conversationList:e.getLocalConversationList()})})).catch((function(n){return e.probeNetwork().then((function(e,r){t.setError(n,e,r).setEnd()})),ms.error("ConversationController.getConversationList error:",n),Jl(n)}))}},{key:"_syncConversationList",value:function(){var e=this,t=new $l;return t.setMethod(ep.SYNC_CONVERSATION_LIST).setStart(),this.pagingStatus===Il.PAGING_CONVERSATION.NOT_START&&this.conversationMap.clear(),this._autoPagingSyncConversationList().then((function(n){return e.pagingStatus=Il.PAGING_CONVERSATION.RESOLVED,e._setStorageConversationList(),t.setCode(0).setText("".concat(e.conversationMap.size)).setEnd(),n})).catch((function(n){return e.pagingStatus=Il.PAGING_CONVERSATION.REJECTED,t.setText(e.pagingTimeStamp),e.probeNetwork().then((function(e,r){t.setError(n,e,r).setEnd()})),Jl(n)}))}},{key:"_autoPagingSyncConversationList",value:function(){var e=this;this.pagingStatus=Il.PAGING_CONVERSATION.PENDING;var t=this.createPackage({name:"conversation",action:"pagingQuery",param:{fromAccount:this.tim.context.identifier,timeStamp:this.pagingTimeStamp,orderType:1}});return this.connectionController.request(t).then((function(t){var n=t.data,r=n.completeFlag,o=n.conversations,i=void 0===o?[]:o,a=n.timeStamp;if(i.length>0){var s=e._getConversationOptions(i);e._updateLocalConversationList(s,1)}return e._isReady?e._emitConversationUpdate():e.triggerReady(),e.pagingTimeStamp=a,1!==r?e._autoPagingSyncConversationList():Wl()}))}},{key:"getConversationProfile",value:function(e){var t=this.conversationMap.has(e)?this.conversationMap.get(e):this.createLocalConversation(e);return t._isInfoCompleted||t.type===Jt.CONV_SYSTEM?Wl({conversation:t}):(ms.log("ConversationController.getConversationProfile. conversationID:",e),this._updateUserOrGroupProfileCompletely(t).then((function(t){return ms.log("ConversationController.getConversationProfile ok. conversationID:",e),t})).catch((function(e){return ms.error("ConversationController.getConversationProfile error:",e),Jl(e)})))}},{key:"deleteConversation",value:function(e){var t=this,n={};if(!this.conversationMap.has(e)){var r=new rl({code:el.CONVERSATION_NOT_FOUND,message:tl.CONVERSATION_NOT_FOUND});return Jl(r)}switch(this.conversationMap.get(e).type){case Jt.CONV_C2C:n.type=1,n.toAccount=e.slice(3);break;case Jt.CONV_GROUP:n.type=2,n.toGroupID=e.slice(5);break;case Jt.CONV_SYSTEM:return this.tim.groupController.deleteGroupSystemNotice({messageList:this.tim.messageController.getLocalMessageList(e)}),this.deleteLocalConversation(e),Wl({conversationID:e});default:var o=new rl({code:el.CONVERSATION_UN_RECORDED_TYPE,message:tl.CONVERSATION_UN_RECORDED_TYPE});return Jl(o)}ms.log("ConversationController.deleteConversation. conversationID:",e);var i=this.createPackage({name:"conversation",action:"delete",param:n});return this.tim.setMessageRead({conversationID:e}).then((function(){return t.connectionController.request(i)})).then((function(){return ms.log("ConversationController.deleteConversation ok. conversationID:",e),t.deleteLocalConversation(e),Wl({conversationID:e})})).catch((function(e){return ms.error("ConversationController.deleteConversation error:",e),Jl(e)}))}},{key:"getLocalConversationList",value:function(){return En(this.conversationMap.values())}},{key:"getLocalConversation",value:function(e){return this.conversationMap.get(e)}},{key:"_initLocalConversationList",value:function(){var e=new $l;e.setMethod(ep.GET_CONVERSATION_LIST_IN_STORAGE).setStart(),ms.time(Ql.INIT_CONVERSATION_LIST),ms.log("ConversationController._initLocalConversationList init");var t=this._getStorageConversationList();if(t){for(var n=t.length,r=0;r<n;r++)this.conversationMap.set(t[r].conversationID,new od(t[r]));this._emitConversationUpdate(1,0),e.setCode(0).setNetworkType(this.getNetworkType()).setText(n).setEnd()}else e.setCode(0).setNetworkType(this.getNetworkType()).setText(0).setEnd();this._syncConversationList()}},{key:"_getStorageConversationList",value:function(){return this.tim.storage.getItem("conversationMap")}},{key:"_setStorageConversationList",value:function(){var e=this.getLocalConversationList().slice(0,20).map((function(e){return{conversationID:e.conversationID,type:e.type,subType:e.subType,lastMessage:e.lastMessage,groupProfile:e.groupProfile,userProfile:e.userProfile}}));this.tim.storage.setItem("conversationMap",e)}},{key:"_initListeners",value:function(){var e=this;this.tim.innerEmitter.once(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initLocalConversationList,this),this.tim.innerEmitter.on(pl.MESSAGE_SENDING,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(pl.MESSAGE_SYNC_PROCESSING,this._handleSyncMessages,this),this.tim.innerEmitter.on(pl.MESSAGE_SYNC_FINISHED,this._handleSyncMessages,this),this.tim.innerEmitter.on(pl.MESSAGE_C2C_INSTANT_RECEIVED,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(pl.MESSAGE_GROUP_INSTANT_RECEIVED,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(pl.MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(pl.GROUP_LIST_UPDATED,this._updateConversationGroupProfile,this),this.tim.innerEmitter.on(pl.PROFILE_UPDATED,this._updateConversationUserProfile,this),this.ready((function(){e.tempGroupList.length>0&&(e._updateConversationGroupProfile(e.tempGroupList),e.tempGroupList.length=0)}))}},{key:"_updateConversationGroupProfile",value:function(e){var t=this;As(e)&&0===e.length||(this.hasLocalConversationMap()?(e.forEach((function(e){var n="GROUP".concat(e.groupID);if(t.conversationMap.has(n)){var r=t.conversationMap.get(n);r.groupProfile=e,r.lastMessage.lastSequence=e.nextMessageSeq-1,r.subType||(r.subType=e.type)}})),this._emitConversationUpdate(1,0)):this.tempGroupList=e)}},{key:"_updateConversationUserProfile",value:function(e){var t=this;e.data.forEach((function(e){var n="C2C".concat(e.userID);t.conversationMap.has(n)&&(t.conversationMap.get(n).userProfile=e)})),this._emitConversationUpdate(1,0)}},{key:"_handleSyncMessages",value:function(e){this._onSendOrReceiveMessage(e,1)}},{key:"_onSendOrReceiveMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.data.eventDataList;this._isReady?0!==r.length&&(this._updateLocalConversationList(r,0,n),this._setStorageConversationList(),this._emitConversationUpdate()):this.ready((function(){t._onSendOrReceiveMessage(e,n)}))}},{key:"_updateLocalConversationList",value:function(e,t,n){var r;r=this._updateTempConversations(e,t,n),this.conversationMap=new Map(this._sortConversations([].concat(En(r.conversations),En(this.conversationMap)))),t||this._updateUserOrGroupProfile(r.newerConversations)}},{key:"_updateTempConversations",value:function(e,t,n){for(var r=[],o=[],i=0,a=e.length;i<a;i++){var s=new od(e[i]),u=this.conversationMap.get(s.conversationID);if(this.conversationMap.has(s.conversationID)){var c=["unreadCount","allowType","adminForbidType","payload"];n&&c.push("lastMessage"),xs(u,s,c,[null,void 0,"",0,NaN]),u.updateUnreadCount(s.unreadCount,t),n||(u.lastMessage.payload=e[i].lastMessage.payload),this.conversationMap.delete(u.conversationID),r.push([u.conversationID,u])}else{if(s.type===Jt.CONV_GROUP){var l=s.groupProfile.groupID,p=this.tim.groupController.getLocalGroupProfile(l);p&&(s.groupProfile=p,s.updateUnreadCount(0))}o.push(s),r.push([s.conversationID,s])}}return{conversations:r,newerConversations:o}}},{key:"_sortConversations",value:function(e){return e.sort((function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime}))}},{key:"_updateUserOrGroupProfile",value:function(e){var t=this;if(0!==e.length){var n=[],r=[];e.forEach((function(e){if(e.type===Jt.CONV_C2C)n.push(e.toAccount);else if(e.type===Jt.CONV_GROUP){var o=e.toAccount;t.tim.groupController.hasLocalGroup(o)?e.groupProfile=t.tim.groupController.getLocalGroupProfile(o):r.push(o)}})),n.length>0&&this.tim.getUserProfile({userIDList:n}).then((function(e){var n=e.data;As(n)?n.forEach((function(e){t.conversationMap.get("C2C".concat(e.userID)).userProfile=e})):t.conversationMap.get("C2C".concat(n.userID)).userProfile=n})),r.length>0&&this.tim.groupController.getGroupProfileAdvance({groupIDList:r,responseFilter:{groupBaseInfoFilter:["Type","Name","FaceUrl"]}}).then((function(e){e.data.successGroupList.forEach((function(e){var n="GROUP".concat(e.groupID);if(t.conversationMap.has(n)){var r=t.conversationMap.get(n);xs(r.groupProfile,e,[],[null,void 0,"",0,NaN]),!r.subType&&e.type&&(r.subType=e.type)}}))}))}}},{key:"_updateUserOrGroupProfileCompletely",value:function(e){var t=this;return e.type===Jt.CONV_C2C?this.tim.getUserProfile({userIDList:[e.toAccount]}).then((function(n){var r=n.data;return 0===r.length?Jl(new rl({code:el.USER_OR_GROUP_NOT_FOUND,message:tl.USER_OR_GROUP_NOT_FOUND})):(e.userProfile=r[0],e._isInfoCompleted=1,t._unshiftConversation(e),Wl({conversation:e}))})):this.tim.getGroupProfile({groupID:e.toAccount}).then((function(n){return e.groupProfile=n.data.group,e._isInfoCompleted=1,t._unshiftConversation(e),Wl({conversation:e})}))}},{key:"_unshiftConversation",value:function(e){e instanceof od&&!this.conversationMap.has(e.conversationID)&&(this.conversationMap=new Map([[e.conversationID,e]].concat(En(this.conversationMap))),this._setStorageConversationList(),this._emitConversationUpdate(1,0))}},{key:"deleteLocalConversation",value:function(e){return this.conversationMap.delete(e),this._setStorageConversationList(),this.tim.innerEmitter.emit(pl.CONVERSATION_DELETED,e),this._emitConversationUpdate(1,0),this.conversationMap.has(e)}},{key:"_getConversationOptions",value:function(e){var t=[],n=e.filter((function(e){var t=e.lastMsg;return Ss(t)})).map((function(e){if(1===e.type){var n={userID:e.userID,nick:e.c2CNick,avatar:e.c2CImage};return t.push(n),{conversationID:"C2C".concat(e.userID),type:"C2C",lastMessage:{lastTime:e.time,lastSequence:e.sequence,fromAccount:e.lastC2CMsgFromAccount,messageForShow:e.messageShow,type:e.lastMsg.elements[0]?e.lastMsg.elements[0].type:null,payload:e.lastMsg.elements[0]?e.lastMsg.elements[0].content:null},userProfile:new Sh(n)}}return{conversationID:"GROUP".concat(e.groupID),type:"GROUP",lastMessage:{lastTime:e.time,lastSequence:e.messageReadSeq+e.unreadCount,fromAccount:e.msgGroupFromAccount,messageForShow:e.messageShow,type:e.lastMsg.elements[0]?e.lastMsg.elements[0].type:null,payload:e.lastMsg.elements[0]?e.lastMsg.elements[0].content:null},groupProfile:new td({groupID:e.groupID,name:e.groupNick,avatar:e.groupImage}),unreadCount:e.unreadCount}}));return t.length>0&&this.tim.innerEmitter.emit(pl.CONVERSATION_LIST_PROFILE_UPDATED,{data:t}),n}},{key:"_emitConversationUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=En(this.conversationMap.values());t&&this.tim.innerEmitter.emit(pl.CONVERSATION_LIST_UPDATED,n),e&&this.tim.outerEmitter.emit(Wt.CONVERSATION_LIST_UPDATED,n)}},{key:"_conversationMapTreeShaking",value:function(e){var t=this,n=new Map(En(this.conversationMap));e.forEach((function(e){return n.delete(e.conversationID)})),n.has(Jt.CONV_SYSTEM)&&n.delete(Jt.CONV_SYSTEM);var r=this.tim.groupController.getJoinedAVChatRoom();r&&n.delete("".concat(Jt.CONV_GROUP).concat(r.groupID)),En(n.keys()).forEach((function(e){return t.conversationMap.delete(e)}))}},{key:"reset",value:function(){this.pagingStatus=Il.PAGING_CONVERSATION.NOT_START,this.pagingTimeStamp=0,this.conversationMap.clear(),this.resetReady(),this.tim.innerEmitter.once(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initLocalConversationList,this)}}]),t}(),ad=Be.find,sd=1;"find"in[]&&Array(1).find((function(){sd=0})),Me({target:"Array",proto:1,forced:sd},{find:function(e){return ad(this,e,arguments.length>1?arguments[1]:void 0)}}),Ir("find");var ud=1..toFixed,cd=Math.floor,ld=function(e,t,n){return 0===t?n:t%2==1?ld(e,t-1,n*e):ld(e*e,t/2,n)},pd=ud&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){ud.call({})}));Me({target:"Number",proto:1,forced:pd},{toFixed:function(e){var t,n,r,o,i=function(e){if("number"!=typeof e&&"Number"!=g(e))throw TypeError("Incorrect invocation");return+e}(this),a=ie(e),s=[0,0,0,0,0,0],u="",c="0",l=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*s[n],s[n]=r%1e7,r=cd(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=s[t],s[t]=cd(n/e),n=n%e*1e7},f=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+Ur.call("0",7-n.length)+n}return t};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(u="-",i=-i),i>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(i*ld(2,69,1))-69)<0?i*ld(2,-t,1):i/ld(2,t,1),n*=4503599627370496,(t=52-t)>0){for(l(0,n),r=a;r>=7;)l(1e7,0),r-=7;for(l(ld(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),l(1,1),p(2),c=f()}else l(0,n),l(1<<-t,0),c=f()+Ur.call("0",a);return a>0?u+((o=c.length)<=a?"0."+Ur.call("0",a-o)+c:c.slice(0,o-a)+"."+c.slice(o-a)):u+c}});var fd=function(){function e(t){if(sn(this,e),void 0===t)throw new rl({code:el.MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS,message:tl.MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS});if(void 0===t.tim)throw new rl({code:el.MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS,message:"".concat(tl.MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS,".tim")});this.list=new Map,this.tim=t.tim,this._initializeOptions(t)}return cn(e,[{key:"getLocalOldestMessageByConversationID",value:function(e){if(!e)return null;if(!this.list.has(e))return null;var t=this.list.get(e).values();return t?t.next().value:null}},{key:"_initializeOptions",value:function(e){this.options={};var t={memory:{maxDatasPerKey:100,maxBytesPerData:256,maxKeys:0},cache:{maxDatasPerKey:10,maxBytesPerData:256,maxKeys:0}};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(void 0===e[n]){this.options[n]=t[n];continue}var r=t[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){if(void 0===e[n][o]){this.options[n][o]=r[o];continue}this.options[n][o]=e[n][o]}}}},{key:"_parseMessageFormLikeKeyValue",value:function(e){return[e.conversationID,e]}},{key:"pushIn",value:function(e){var t=this._parseMessageFormLikeKeyValue(e),n=1;return void 0===this.list.get(t[0])&&this.list.set(t[0],new Map),this.list.has(e.conversationID)&&this.list.get(e.conversationID).has(t[1].ID)&&(n=0),this.list.get(t[0]).set(t[1].ID,t[1]),n}},{key:"shiftIn",value:function(e){Array.isArray(e)?0!==e.length&&this._shiftInMultipleMessages(e):this._shiftSingleMessage(e)}},{key:"_shiftSingleMessage",value:function(e){var t=this._parseMessageFormLikeKeyValue(e);if(void 0===this.list.get(t[0]))return this.list.set(t[0],new Map),void this.list.get(t[0]).set(t[1].ID,t[1]);var n=Array.from(this.list.get(t[0]));n.unshift([t[1].ID,t[1]]),this.list.set(t[0],new Map(n))}},{key:"_shiftInMultipleMessages",value:function(e){for(var t=e.length,n=[],r=e[0].conversationID,o=this.list.has(r)?Array.from(this.list.get(r)):[],i=0;i<t;i++)n.push([e[i].ID,e[i]]);this.list.set(r,new Map(n.concat(o)))}},{key:"remove",value:function(e){var t=e.conversationID,n=e.ID;this.list.has(t)&&this.list.get(t).delete(n)}},{key:"removeByConversationID",value:function(e){this.list.has(e)&&this.list.delete(e)}},{key:"hasLocalMessageList",value:function(e){return this.list.has(e)}},{key:"getLocalMessageList",value:function(e){return this.hasLocalMessageList(e)?En(this.list.get(e).values()):[]}},{key:"hasLocalMessage",value:function(e,t){return this.hasLocalMessageList(e)?this.list.get(e).has(t):0}},{key:"getLocalMessage",value:function(e,t){return this.hasLocalMessage(e,t)?this.list.get(e).get(t):null}},{key:"reset",value:function(){this.list.clear()}}]),e}(),hd=function(){function e(t){sn(this,e),this.tim=t}return cn(e,[{key:"setMessageRead",value:function(e){var t=e.conversationID,n=e.messageID,r=this.tim.conversationController.getLocalConversation(t);if(!r||0===r.unreadCount)return Wl();var o=n?this.tim.messageController.getLocalMessage(t,n):null;switch(r.type){case Jt.CONV_C2C:return this._setC2CMessageRead({conversationID:t,lastMessageTime:o?o.time:r.lastMessage.lastTime});case Jt.CONV_GROUP:return this._setGroupMessageRead({conversationID:t,lastMessageSeq:o?o.sequence:r.lastMessage.lastSequence});case Jt.CONV_SYSTEM:return r.unreadCount=0,Wl();default:return Wl()}}},{key:"_setC2CMessageRead",value:function(e){var t=this,n=e.conversationID,r=e.lastMessageTime,o=this.tim.messageController.createPackage({name:"conversation",action:"setC2CMessageRead",param:{C2CMsgReaded:{cookie:"",C2CMsgReadedItem:[{toAccount:n.replace("C2C",""),lastMessageTime:r}]}}});return this._updateIsReadAfterReadReport({conversationID:n,lastMessageTime:r}),this._updateUnreadCount(n),this.tim.connectionController.request(o).then((function(){return new Yl})).catch((function(e){return t.tim.innerEmitter.emit(pl.ERROR_DETECTED,e),Promise.reject(new Yl(e))}))}},{key:"_setGroupMessageRead",value:function(e){var t=this,n=e.conversationID,r=e.lastMessageSeq,o=this.tim.messageController.createPackage({name:"conversation",action:"setGroupMessageRead",param:{groupID:n.replace("GROUP",""),messageReadSeq:r}});return this._updateIsReadAfterReadReport({conversationID:n,lastMessageSeq:r}),this._updateUnreadCount(n),this.tim.connectionController.request(o).then((function(){return new Yl})).catch((function(e){return t.tim.innerEmitter.emit(pl.ERROR_DETECTED,e),Promise.reject(new Yl(e))}))}},{key:"_updateUnreadCount",value:function(e){var t=this.tim,n=t.conversationController,r=t.messageController,o=n.getLocalConversation(e),i=r.getLocalMessageList(e);o&&(o.unreadCount=i.filter((function(e){return!e.isRead})).length)}},{key:"_updateIsReadAfterReadReport",value:function(e){var t=e.conversationID,n=e.lastMessageSeq,r=e.lastMessageTime,o=this.tim.messageController.getLocalMessageList(t);if(0!==o.length)for(var i=o.length-1;i>=0;i--){var a=o[i];if(!(r&&a.time>r||n&&a.sequence>n)){if("in"===a.flow&&a.isRead)break;a.isRead=1}}}},{key:"updateIsRead",value:function(e){var t=this.tim,n=t.conversationController,r=t.messageController,o=n.getLocalConversation(e),i=r.getLocalMessageList(e);if(o&&0!==i.length&&[Jt.CONV_C2C,Jt.CONV_GROUP].includes(o.type))for(var a=0;a<i.length-o.unreadCount&&!i[a].isRead;a++)i[a].isRead=1}}]),e}(),dd=Be.findIndex,md=1;"findIndex"in[]&&Array(1).findIndex((function(){md=0})),Me({target:"Array",proto:1,forced:md},{findIndex:function(e){return dd(this,e,arguments.length>1?arguments[1]:void 0)}}),Ir("findIndex");var gd=function(){function e(t){var n=t.tim,r=t.messageController;sn(this,e),this.tim=n,this.messageController=r,this.completedMap=new Map,this._initListener()}return cn(e,[{key:"getMessageList",value:function(e){var t=this,n=e.conversationID,r=e.nextReqMessageID,o=e.count;if(this.tim.groupController.checkJoinedAVChatRoomByID(n.replace("GROUP","")))return Wl({messageList:[],nextReqMessageID:"",isCompleted:1});(Is(o)||o>15)&&(o=15);var i=this._computeLeftCount({conversationID:n,nextReqMessageID:r});return this._needGetHistory({conversationID:n,leftCount:i,count:o})?this.messageController.getHistoryMessages({conversationID:n,count:20}).then((function(){return i=t._computeLeftCount({conversationID:n,nextReqMessageID:r}),new Yl(t._computeResult({conversationID:n,nextReqMessageID:r,count:o,leftCount:i}))})):Wl(this._computeResult({conversationID:n,nextReqMessageID:r,count:o,leftCount:i}))}},{key:"setCompleted",value:function(e){this.completedMap.set(e,1)}},{key:"deleteCompletedItem",value:function(e){this.completedMap.delete(e)}},{key:"_initListener",value:function(){var e=this;this.tim.innerEmitter.on(pl.SDK_READY,(function(){e.completedMap.set(Jt.CONV_SYSTEM,1)})),this.tim.innerEmitter.on(pl.AVCHATROOM_JOIN_SUCCESS,(function(t){var n=t.data;e.completedMap.set("".concat(Jt.CONV_GROUP).concat(n),1)}))}},{key:"_getMessageListSize",value:function(e){return this.messageController.getLocalMessageList(e).length}},{key:"_needGetHistory",value:function(e){var t=e.conversationID,n=e.leftCount,r=e.count,o=this.tim.conversationController.getLocalConversation(t),i=o?o.type===Jt.CONV_SYSTEM:0,a=o?o.subType===Jt.GRP_AVCHATROOM:0;return i||a?0:n<r&&!this.completedMap.has(t)}},{key:"_computeResult",value:function(e){var t=e.conversationID,n=e.nextReqMessageID,r=e.count,o=e.leftCount,i=this._computeMessageList({conversationID:t,nextReqMessageID:n,count:r}),a=this._computeIsCompleted({conversationID:t,leftCount:o,count:r});return{messageList:i,nextReqMessageID:this._computeNextReqMessageID({messageList:i,isCompleted:a,conversationID:t}),isCompleted:a}}},{key:"_computeNextReqMessageID",value:function(e){var t=e.messageList,n=e.isCompleted,r=e.conversationID;if(!n)return 0===t.length?"":t[0].ID;var o=this.messageController.getLocalMessageList(r);return 0===o.length?"":o[0].ID}},{key:"_computeMessageList",value:function(e){var t=e.conversationID,n=e.nextReqMessageID,r=e.count,o=this.messageController.getLocalMessageList(t),i=this._computeIndexEnd({nextReqMessageID:n,messageList:o}),a=this._computeIndexStart({indexEnd:i,count:r});return o.slice(a,i)}},{key:"_computeIndexEnd",value:function(e){var t=e.messageList,n=void 0===t?[]:t,r=e.nextReqMessageID;return r?n.findIndex((function(e){return e.ID===r})):n.length}},{key:"_computeIndexStart",value:function(e){var t=e.indexEnd,n=e.count;return t>n?t-n:0}},{key:"_computeLeftCount",value:function(e){var t=e.conversationID,n=e.nextReqMessageID;return n?this.messageController.getLocalMessageList(t).findIndex((function(e){return e.ID===n})):this._getMessageListSize(t)}},{key:"_computeIsCompleted",value:function(e){var t=e.conversationID;return e.leftCount<=e.count&&this.completedMap.has(t)?1:0}},{key:"reset",value:function(){this.completedMap.clear()}}]),e}(),yd=function e(t){sn(this,e),this.value=t,this.next=null},vd=function(){function e(t){sn(this,e),this.MAX_LENGTH=t,this.pTail=null,this.pNodeToDel=null,this.map=new Map,ms.log("SinglyLinkedList init MAX_LENGTH=".concat(this.MAX_LENGTH))}return cn(e,[{key:"pushIn",value:function(e){var t=new yd(e);if(this.map.size<this.MAX_LENGTH)null===this.pTail?(this.pTail=t,this.pNodeToDel=t):(this.pTail.next=t,this.pTail=t),this.map.set(e,1);else{var n=this.pNodeToDel;this.pNodeToDel=this.pNodeToDel.next,this.map.delete(n.value),n.next=null,n=null,this.pTail.next=t,this.pTail=t,this.map.set(e,1)}}},{key:"has",value:function(e){return this.map.has(e)}},{key:"reset",value:function(){for(var e;null!==this.pNodeToDel;)e=this.pNodeToDel,this.pNodeToDel=this.pNodeToDel.next,e.next=null,e=null;this.pTail=null,this.map.clear()}}]),e}(),_d=function(){function e(t){sn(this,e),this.tim=t}return cn(e,[{key:"upload",value:function(e){switch(e.type){case Jt.MSG_IMAGE:return this._uploadImage(e);case Jt.MSG_FILE:return this._uploadFile(e);case Jt.MSG_AUDIO:return this._uploadAudio(e);case Jt.MSG_VIDEO:return this._uploadVideo(e);default:return Promise.resolve()}}},{key:"_uploadImage",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,o=e.getElements()[0],i=r.getMessageOptionByID(e.messageID);return n.uploadImage({file:i.payload.file,to:i.to,onProgress:function(e){if(o.updatePercent(e),Ts(i.onProgress))try{i.onProgress(e)}catch(t){return Jl(new rl({code:el.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:"".concat(tl.MESSAGE_ONPROGRESS_FUNCTION_ERROR)}))}}}).then((function(e){var t,n=e.location,r=e.fileType,i=e.fileSize,a=Bs(n);return o.updateImageFormat(r),o.updateImageInfoArray({size:i,url:a}),t=o._imageMemoryURL,ja?new Promise((function(e,n){wx.getImageInfo({src:t,success:function(t){e({width:t.width,height:t.height})},fail:function(){e({width:0,height:0})}})})):Za&&9===Va?Promise.resolve({width:0,height:0}):new Promise((function(e,n){var r=new Image;r.onload=function(){e({width:this.width,height:this.height}),r=null},r.onerror=function(){e({width:0,height:0}),r=null},r.src=t}))})).then((function(t){var n=t.width,r=t.height;return o.updateImageInfoArray({width:n,height:r}),e}))}},{key:"_uploadFile",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,o=e.getElements()[0],i=r.getMessageOptionByID(e.messageID);return n.uploadFile({file:i.payload.file,to:i.to,onProgress:function(e){if(o.updatePercent(e),Ts(i.onProgress))try{i.onProgress(e)}catch(t){return Jl(new rl({code:el.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:"".concat(tl.MESSAGE_ONPROGRESS_FUNCTION_ERROR)}))}}}).then((function(t){var n=t.location,r=Bs(n);return o.updateFileUrl(r),e}))}},{key:"_uploadAudio",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,o=e.getElements()[0],i=r.getMessageOptionByID(e.messageID);return n.uploadAudio({file:i.payload.file,to:i.to,onProgress:function(e){if(o.updatePercent(e),Ts(i.onProgress))try{i.onProgress(e)}catch(t){return Jl(new rl({code:el.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:"".concat(tl.MESSAGE_ONPROGRESS_FUNCTION_ERROR)}))}}}).then((function(t){var n=t.location,r=Bs(n);return o.updateAudioUrl(r),e}))}},{key:"_uploadVideo",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,o=e.getElements()[0],i=r.getMessageOptionByID(e.messageID);return n.uploadVideo({file:i.payload.file,to:i.to,onProgress:function(e){if(o.updatePercent(e),Ts(i.onProgress))try{i.onProgress(e)}catch(t){return Jl(new rl({code:el.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:"".concat(tl.MESSAGE_ONPROGRESS_FUNCTION_ERROR)}))}}}).then((function(e){if(ja){var t=Bs(e.location);o.updateVideoUrl(t)}})).catch((function(){return Jl(new rl({code:el.MESSAGE_VIDEO_UPLOAD_FAIL,message:"".concat(tl.MESSAGE_VIDEO_UPLOAD_FAIL)}))}))}}]),e}(),bd=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e)))._initializeMembers(),n._initializeListener(),n._initialzeHandlers(),n.messageOptionMap=new Map,n}return hn(t,wl),cn(t,[{key:"_initializeMembers",value:function(){this.messagesList=new fd({tim:this.tim}),this.currentMessageKey={},this.singlyLinkedList=new vd(100)}},{key:"_initialzeHandlers",value:function(){this.readReportHandler=new hd(this.tim),this.getMessageHandler=new gd({messageController:this,tim:this.tim}),this.uploadFileHandler=new _d(this.tim)}},{key:"reset",value:function(){this.messagesList.reset(),this.currentMessageKey={},this.getMessageHandler.reset(),this.singlyLinkedList.reset(),this.messageOptionMap.clear()}},{key:"_initializeListener",value:function(){var e=this.tim.innerEmitter;e.on(pl.NOTICE_LONGPOLL_NEW_C2C_NOTICE,this._onReceiveC2CMessage,this),e.on(pl.SYNC_MESSAGE_C2C_PROCESSING,this._onSyncMessagesProcessing,this),e.on(pl.SYNC_MESSAGE_C2C_FINISHED,this._onSyncMessagesFinished,this),e.on(pl.NOTICE_LONGPOLL_NEW_GROUP_MESSAGES,this._onReceiveGroupMessage,this),e.on(pl.NOTICE_LONGPOLL_NEW_GROUP_TIPS,this._onReceiveGroupTips,this),e.on(pl.NOTICE_LONGPOLL_NEW_GROUP_NOTICE,this._onReceiveSystemNotice,this),e.on(pl.CONVERSATION_DELETED,this._clearConversationMessages,this)}},{key:"sendMessageInstance",value:function(e){var t,n=this,r=this.tim,o=r.innerEmitter,i=r.sumStatController,a=null;switch(o.emit(pl.MESSAGE_SENDING,{data:{eventDataList:[{conversationID:e.conversationID,unreadCount:0,type:e.conversationType,subType:e.conversationSubType,lastMessage:e}]}}),e.conversationType){case Jt.CONV_C2C:a=this._handleOnSendC2CMessageSuccess.bind(this);break;case Jt.CONV_GROUP:a=this._handleOnSendGroupMessageSuccess.bind(this);break;default:return Jl(new rl({code:el.MESSAGE_SEND_INVALID_CONVERSATION_TYPE,message:tl.MESSAGE_SEND_INVALID_CONVERSATION_TYPE}))}return this.singlyLinkedList.pushIn(e.random),this.uploadFileHandler.upload(e).then((function(){var r=null;return e.isSendable()?(i.addTotalCount(Ql.SEND_MESSAGE),t=Date.now(),e.conversationType===Jt.CONV_C2C?r=n._createC2CMessagePack(e):e.conversationType===Jt.CONV_GROUP&&(r=n._createGroupMessagePack(e)),n.tim.connectionController.request(r)):Jl({code:el.MESSAGE_FILE_URL_IS_EMPTY,message:tl.MESSAGE_FILE_URL_IS_EMPTY})})).then((function(r){return i.addSuccessCount(Ql.SEND_MESSAGE),i.addCost(Ql.SEND_MESSAGE,Math.abs(Date.now()-t)),e.conversationType===Jt.CONV_GROUP&&(e.sequence=r.data.sequence,e.time=r.data.time,e.generateMessageID(n.tim.context.identifier)),n.messagesList.pushIn(e),a(e,r.data),n.messageOptionMap.delete(e.messageID),new Yl({message:e})})).catch((function(t){e.status=Il.MESSAGE_STATUS.FAIL;var r=new $l;return r.setMethod(ep.SEND_MESSAGE).setMessageType(e.type).setText("".concat(n._generateTjgID(e),"-").concat(e.type,"-").concat(e.from,"-").concat(e.to)).setStart(),n.probeNetwork().then((function(e,n){r.setError(t,e,n).setEnd()})),ms.error("MessageController.sendMessageInstance error:",t),Jl(new rl({code:t&&t.code?t.code:el.MESSAGE_SEND_FAIL,message:t&&t.message?t.message:tl.MESSAGE_SEND_FAIL,data:{message:e}}))}))}},{key:"resendMessage",value:function(e){return e.isResend=1,e.status=Il.MESSAGE_STATUS.UNSEND,this.sendMessageInstance(e)}},{key:"_isFileLikeMessage",value:function(e){return[Jt.MSG_IMAGE,Jt.MSG_FILE,Jt.MSG_AUDIO,Jt.MSG_VIDEO].indexOf(e.type)>=0?1:0}},{key:"_resendBinaryTypeMessage",value:function(){}},{key:"_createC2CMessagePack",value:function(e){return this.createPackage({name:"c2cMessage",action:"create",tjgID:this._generateTjgID(e),param:{toAccount:e.to,msgBody:e.getElements(),msgSeq:e.sequence,msgRandom:e.random}})}},{key:"_handleOnSendC2CMessageSuccess",value:function(e,t){var n=this.tim.innerEmitter;e.status=Il.MESSAGE_STATUS.SUCCESS,e.time=t.time,n.emit(pl.MESSAGE_C2C_SEND_SUCCESS,{data:{eventDataList:[{conversationID:e.conversationID,unreadCount:0,type:e.conversationType,subType:e.conversationSubType,lastMessage:e}]}})}},{key:"_createGroupMessagePack",value:function(e){return this.createPackage({name:"groupMessage",action:"create",tjgID:this._generateTjgID(e),param:{groupID:e.to,msgBody:e.getElements(),random:e.random,clientSequence:e.clientSequence}})}},{key:"_handleOnSendGroupMessageSuccess",value:function(e,t){var n=this.tim.innerEmitter;e.sequence=t.sequence,e.time=t.time,e.status=Il.MESSAGE_STATUS.SUCCESS,n.emit(pl.MESSAGE_GROUP_SEND_SUCCESS,{data:{eventDataList:[{conversationID:e.conversationID,unreadCount:0,type:e.conversationType,subType:e.conversationSubType,lastMessage:e}]}})}},{key:"_onReceiveC2CMessage",value:function(e){var t=this.tim,n=t.innerEmitter,r=t.outerEmitter;ms.log("MessageController._onReceiveC2CMessage(), get new messages");var o=this._newC2CMessageStoredAndSummary({notifiesList:e.data,type:Jt.CONV_C2C,C2CRemainingUnreadList:e.C2CRemainingUnreadList}),i=o.eventDataList,a=o.result;i.length>0&&n.emit(pl.MESSAGE_C2C_INSTANT_RECEIVED,{data:{eventDataList:i,result:a},resource:this}),a.length>0&&r.emit(Wt.MESSAGE_RECEIVED,a)}},{key:"_onReceiveGroupMessage",value:function(e){var t=this.tim,n=t.outerEmitter,r=t.innerEmitter,o=this.newGroupMessageStoredAndSummary(e.data),i=o.eventDataList,a=o.result;i.length>0&&(ms.log("MessageController._onReceiveGroupMessage()"),r.emit(pl.MESSAGE_GROUP_INSTANT_RECEIVED,{data:{eventDataList:i,result:a,isGroupTip:0}})),a.length>0&&n.emit(Wt.MESSAGE_RECEIVED,a)}},{key:"_onReceiveGroupTips",value:function(e){var t=this.tim,n=t.outerEmitter,r=t.innerEmitter,o=e.data,i=this.newGroupTipsStoredAndSummary(o),a=i.eventDataList,s=i.result;ms.log("MessageController._onReceiveGroupTips()"),a.length>0&&r.emit(pl.MESSAGE_GROUP_INSTANT_RECEIVED,{data:{eventDataList:a,result:s,isGroupTip:1}}),s.length>0&&n.emit(Wt.MESSAGE_RECEIVED,s)}},{key:"_onReceiveSystemNotice",value:function(e){var t=this.tim,n=t.outerEmitter,r=t.innerEmitter,o=e.data,i=o.groupSystemNotices,a=o.type,s=this.newSystemNoticeStoredAndSummary({notifiesList:i,type:a}),u=s.eventDataList,c=s.result;u.length>0&&r.emit(pl.MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED,{data:{eventDataList:u,result:c,type:a}}),c.length>0&&"poll"===a&&n.emit(Wt.MESSAGE_RECEIVED,c)}},{key:"_clearConversationMessages",value:function(e){this.messagesList.removeByConversationID(e),this.getMessageHandler.deleteCompletedItem(e)}},{key:"_pushIntoNoticeResult",value:function(e,t){var n=this.messagesList.pushIn(t),r=this.singlyLinkedList.has(t.random);return n&&0==r?(e.push(t),1):0}},{key:"_newC2CMessageStoredAndSummary",value:function(e){for(var t=e.notifiesList,n=e.type,r=e.C2CRemainingUnreadList,o=e.isFromSync,i=null,a=[],s=[],u={},c=this.tim.bigDataHallwayController,l=0,p=t.length;l<p;l++){var f=t[l];(f.currentUser=this.tim.context.identifier,f.conversationType=n,f.isSystemMessage=!!f.isSystemMessage,i=new $h(f),f.elements=c.parseElements(f.elements,f.from),i.setElement(f.elements),o||this._pushIntoNoticeResult(s,i))&&(void 0===u[i.conversationID]?u[i.conversationID]=a.push({conversationID:i.conversationID,unreadCount:"out"===i.flow?0:1,type:i.conversationType,subType:i.conversationSubType,lastMessage:i})-1:(a[u[i.conversationID]].type=i.conversationType,a[u[i.conversationID]].subType=i.conversationSubType,a[u[i.conversationID]].lastMessage=i,"in"===i.flow&&a[u[i.conversationID]].unreadCount++))}if(As(r))for(var h=function(e,t){var n=a.find((function(t){return t.conversationID==="C2C".concat(r[e].from)}));n?n.unreadCount+=r[e].count:a.push({conversationID:"C2C".concat(r[e].from),unreadCount:r[e].count,type:Jt.CONV_C2C})},d=0,m=r.length;d<m;d++)h(d);return{eventDataList:a,result:s}}},{key:"newGroupMessageStoredAndSummary",value:function(e){for(var t=null,n=[],r={},o=[],i=Jt.CONV_GROUP,a=this.tim.bigDataHallwayController,s=0,u=e.length;s<u;s++){var c=e[s];c.currentUser=this.tim.context.identifier,c.conversationType=i,c.isSystemMessage=!!c.isSystemMessage,t=new $h(c),c.elements=a.parseElements(c.elements,c.from),t.setElement(c.elements),this._pushIntoNoticeResult(o,t)&&(void 0===r[t.conversationID]?r[t.conversationID]=n.push({conversationID:t.conversationID,unreadCount:"out"===t.flow?0:1,type:t.conversationType,subType:t.conversationSubType,lastMessage:t})-1:(n[r[t.conversationID]].type=t.conversationType,n[r[t.conversationID]].subType=t.conversationSubType,n[r[t.conversationID]].lastMessage=t,"in"===t.flow&&n[r[t.conversationID]].unreadCount++))}return{eventDataList:n,result:o}}},{key:"newGroupTipsStoredAndSummary",value:function(e){for(var t=null,n=[],r=[],o={},i=0,a=e.length;i<a;i++){var s=e[i];s.currentUser=this.tim.context.identifier,s.conversationType=Jt.CONV_GROUP,(t=new $h(s)).setElement({type:Jt.MSG_GRP_TIP,content:fn({},s.elements,{groupProfile:s.groupProfile})}),t.isSystemMessage=0,this._pushIntoNoticeResult(r,t)&&(void 0===o[t.conversationID]?o[t.conversationID]=n.push({conversationID:t.conversationID,unreadCount:"out"===t.flow?0:1,type:t.conversationType,subType:t.conversationSubType,lastMessage:t})-1:(n[o[t.conversationID]].type=t.conversationType,n[o[t.conversationID]].subType=t.conversationSubType,n[o[t.conversationID]].lastMessage=t,"in"===t.flow&&n[o[t.conversationID]].unreadCount++))}return{eventDataList:n,result:r}}},{key:"newSystemNoticeStoredAndSummary",value:function(e){var t=e.notifiesList,n=e.type,r=null,o=t.length,i=0,a=[],s={conversationID:Jt.CONV_SYSTEM,unreadCount:0,type:Jt.CONV_SYSTEM,subType:null,lastMessage:null};for(i=0;i<o;i++){var u=t[i];u.elements.operationType!==jl&&(u.currentUser=this.tim.context.identifier,u.conversationType=Jt.CONV_SYSTEM,u.conversationID=Jt.CONV_SYSTEM,(r=new $h(u)).setElement({type:Jt.MSG_GRP_SYS_NOTICE,content:fn({},u.elements,{groupProfile:u.groupProfile})}),r.isRead=1,r.isSystemMessage=1,this._pushIntoNoticeResult(a,r)&&("poll"===n&&s.unreadCount++,s.subType=r.conversationSubType))}return s.lastMessage=a[a.length-1],{eventDataList:a.length>0?[s]:[],result:a}}},{key:"_onSyncMessagesProcessing",value:function(e){var t=this._newC2CMessageStoredAndSummary({notifiesList:e.data,type:Jt.CONV_C2C,isFromSync:1,C2CRemainingUnreadList:e.C2CRemainingUnreadList}),n=t.eventDataList,r=t.result;this.tim.innerEmitter.emit(pl.MESSAGE_SYNC_PROCESSING,{data:{eventDataList:n,result:r},resource:this})}},{key:"_onSyncMessagesFinished",value:function(e){this.triggerReady();var t=this._newC2CMessageStoredAndSummary({notifiesList:e.data,type:Jt.CONV_C2C,isFromSync:1,C2CRemainingUnreadList:e.C2CRemainingUnreadList}),n=t.eventDataList,r=t.result;this.tim.innerEmitter.emit(pl.MESSAGE_SYNC_FINISHED,{data:{eventDataList:n,result:r},resource:this})}},{key:"getHistoryMessages",value:function(e){if(e.conversationID===Jt.CONV_SYSTEM)return Wl();!e.count&&(e.count=15),e.count>20&&(e.count=20);var t=this.messagesList.getLocalOldestMessageByConversationID(e.conversationID);t||((t={}).time=0,t.sequence=0,0===e.conversationID.indexOf(Jt.CONV_C2C)?(t.to=e.conversationID.replace(Jt.CONV_C2C,""),t.conversationType=Jt.CONV_C2C):0===e.conversationID.indexOf(Jt.CONV_GROUP)&&(t.to=e.conversationID.replace(Jt.CONV_GROUP,""),t.conversationType=Jt.CONV_GROUP));var n="";switch(t.conversationType){case Jt.CONV_C2C:return n=e.conversationID.replace(Jt.CONV_C2C,""),this.getC2CRoamMessages({conversationID:e.conversationID,peerAccount:n,count:e.count,lastMessageTime:void 0===this.currentMessageKey[e.conversationID]?0:t.time});case Jt.CONV_GROUP:return this.getGroupRoamMessages({conversationID:e.conversationID,groupID:t.to,count:e.count,sequence:t.sequence-1});default:return Wl()}}},{key:"getC2CRoamMessages",value:function(e){var t=this,n=this.tim,r=n.connectionController,o=n.innerEmitter,i=void 0!==this.currentMessageKey[e.conversationID]?this.currentMessageKey[e.conversationID]:"",a=this.createPackage({name:"c2cMessage",action:"query",param:{peerAccount:e.peerAccount,count:e.count||15,lastMessageTime:e.lastMessageTime||0,messageKey:i}});return r.request(a).then((function(n){var r=n.data,o=r.complete,i=r.messageList;1===o&&t.getMessageHandler.setCompleted(e.conversationID);var a=t._roamMessageStore(i,Jt.CONV_C2C,e.conversationID);return t.readReportHandler.updateIsRead(e.conversationID),t.currentMessageKey[e.conversationID]=n.data.messageKey,a})).catch((function(e){return o.emit(pl.ERROR_DETECTED,e),Promise.reject(e)}))}},{key:"getC2CRoamMessagesSliced",value:function(e){var t=this.tim.connectionController,n=this;return function(e){return new Promise((function(r,o){!function e(r,o,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=n.createPackage({name:"c2cMessage",action:"query",param:{peerAccount:r.peerAccount,count:r.count||15,lastMessageTime:r.lastMessageTime||0,messageKey:r.messageKey||""}}),u=t.request(s).then((function(t){var s=t.data.messageList,u=n._roamMessageStore(s,Jt.CONV_C2C);a.push.apply(a,En(u)),t.data.complete===Il.GET_HISTORY_MESSAGE_STATUS.C2C_IS_NOT_FINISHED?(r.messageKey=t.data.messageKey,e(r,o,a)):t.data.complete===Il.GET_HISTORY_MESSAGE_STATUS.C2C_IS_FINISHED?(ms.log("getC2CRoamMessages finised..."),o(new Yl(a))):i(new rl({code:el.MESSAGE_UNKNOW_ROMA_LIST_END_FLAG_FIELD,message:tl.MESSAGE_UNKNOW_ROMA_LIST_END_FLAG_FIELD}))})).reject((function(e){ms.log("getC2CRoamMessages fail..."),i(e)}));return u}(e,r,o,[])}))}(e)}},{key:"getGroupRoamMessages",value:function(e){var t=this,n=this.tim,r=n.connectionController,o=n.groupController,i=e.sequence>=0?e.sequence:o.getLocalGroupLastSequence(e.groupID);if(i<0)return Wl([]);var a=this.createPackage({name:"groupMessage",action:"query",param:{groupID:e.groupID,count:21,sequence:i}});return r.request(a).then((function(n){var r=n.data,o=r.messageList,i=r.complete,a="GROUP".concat(e.groupID);if(2===i||Ks(o))return t.getMessageHandler.setCompleted(a),[];var s=t._roamMessageStore(o,Jt.CONV_GROUP,a);return t.readReportHandler.updateIsRead(a),ms.log("getGroupRoamMessages finished..."),s})).catch((function(e){return t.tim.exceptionController.ask(e),ms.log("getGroupRoamMessages error..."),Promise.reject(e)}))}},{key:"_roamMessageStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=null,o=[],i=0,a=e.length,s=null,u=t===Jt.CONV_GROUP,c=this.tim.bigDataHallwayController,l=function(){i=u?e.length-1:0,a=u?0:e.length},p=function(){u?--i:++i},f=function(){return u?i>=a:i<a};for(l();f();p())u&&1===e[i].sequence&&this.getMessageHandler.setCompleted(n),e[i].isPlaceMessage||((r=new $h(e[i])).to=e[i].to,r.isSystemMessage=!!e[i].isSystemMessage,r.conversationType=t,e[i].event===Ol.JSON.TYPE.GROUP.TIP?s={type:Jt.MSG_GRP_TIP,content:fn({},e[i].elements,{groupProfile:e[i].groupProfile})}:(e[i].elements=c.parseElements(e[i].elements,e[i].from),s=e[i].elements[0]),r.setElement(s),r.reInitialize(this.tim.context.identifier),o.push(r));return this.messagesList.shiftIn(o),l=p=f=null,o}},{key:"getLocalMessageList",value:function(e){return this.messagesList.getLocalMessageList(e)}},{key:"getLocalMessage",value:function(e,t){return this.messagesList.getLocalMessage(e,t)}},{key:"hasLocalMessage",value:function(e,t){return this.messagesList.hasLocalMessage(e,t)}},{key:"deleteLocalMessage",value:function(e){e instanceof $h&&this.messagesList.remove(e)}},{key:"setMessageRead",value:function(e){var t=this;return new Promise((function(n,r){t.ready((function(){t.readReportHandler.setMessageRead(e).then(n).catch(r)}))}))}},{key:"getMessageList",value:function(e){return this.getMessageHandler.getMessageList(e)}},{key:"createTextMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new $h(e),n="string"==typeof e.payload?e.payload:e.payload.text,r=new Rh({text:n});return t.setElement(r),t}},{key:"createCustomMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new $h(e),n=new Wh({data:e.payload.data,description:e.payload.description,extension:e.payload.extension});return t.setElement(n),t}},{key:"createImageMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new $h(e);if(ja){var n=e.payload.file;if(vs(n))return void ms.warn("微信小程序环境下调用 createImageMessage 接口时，payload.file 不支持传入 File 对象");var r=n.tempFilePaths[0],o={url:r,name:r.slice(r.lastIndexOf("/")+1),size:n.tempFiles[0].size,type:r.slice(r.lastIndexOf(".")+1).toLowerCase()};e.payload.file=o}else if(Ga){if(Is(e.payload.file))return void ms.warn("createImageMessage, payload.file 是 undefined，请检查代码！");if(vs(e.payload.file)){var i=e.payload.file;e.payload.file={files:[i]}}}e.onProgress=zs(e.onProgress);var a=new Gh({imageFormat:"UNKNOWN",uuid:this._generateUUID(),file:e.payload.file});return t.setElement(a),this.messageOptionMap.set(t.messageID,e),t}},{key:"createFileMessage",value:function(e){if(!ja){if(Ga){if(Is(e.payload.file))return void ms.warn("createFileMessage, payload.file 是 undefined，请检查代码！");if(vs(e.payload.file)){var t=e.payload.file;e.payload.file={files:[t]}}}e.currentUser=this.tim.context.identifier,e.onProgress=zs(e.onProgress);var n=new $h(e),r=new Xh({uuid:this._generateUUID(),file:e.payload.file});return n.setElement(r),this.messageOptionMap.set(n.messageID,e),n}ms.warn("微信小程序目前不支持选择文件， createFileMessage 接口不可用！")}},{key:"createAudioMessage",value:function(e){if(ja){var t=e.payload.file;if(ja){var n={url:t.tempFilePath,name:t.tempFilePath.slice(t.tempFilePath.lastIndexOf("/")+1),size:t.fileSize,second:parseInt(t.duration)/1e3,type:t.tempFilePath.slice(t.tempFilePath.lastIndexOf(".")+1).toLowerCase()};e.payload.file=n}e.currentUser=this.tim.context.identifier,e.onProgress=zs(e.onProgress);var r=new $h(e),o=new Uh({second:Math.floor(t.duration/1e3),size:t.fileSize,url:t.tempFilePath,uuid:this._generateUUID()});return r.setElement(o),this.messageOptionMap.set(r.messageID,e),r}ms.warn("createAudioMessage 目前只支持微信小程序发语音消息")}},{key:"createVideoMessage",value:function(e){if(ja){if(e.currentUser=this.tim.context.identifier,ja){e.payload.file.thumbUrl="https://webim-1252463788.cos.ap-shanghai.myqcloud.com/assets/images/transparent.png",e.payload.file.thumbSize=1668;var t=e.payload.file,n={url:t.tempFilePath,name:t.tempFilePath.slice(t.tempFilePath.lastIndexOf("/")+1),size:t.size,second:t.duration,type:t.tempFilePath.slice(t.tempFilePath.lastIndexOf(".")+1).toLowerCase()};e.payload.file.videoFile=n,e.onProgress=zs(e.onProgress);var r=new $h(e),o=new Jh({videoFormat:n.type,videoSecond:Number(n.second.toFixed(0)),videoSize:n.size,remoteVideoUrl:"",videoUrl:n.url,videoUUID:this._generateUUID(),thumbUUID:this._generateUUID(),thumbWidth:t.width,thumbHeight:t.height,thumbUrl:t.thumbUrl,thumbSize:t.thumbSize,thumbFormat:t.thumbUrl.slice(t.thumbUrl.lastIndexOf(".")+1).toLowerCase()});return r.setElement(o),this.messageOptionMap.set(r.messageID,e),r}}else ms.warn("createVideoMessage 目前只支持微信小程序发视频消息")}},{key:"createFaceMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new $h(e),n=new jh(e.payload);return t.setElement(n),t}},{key:"_generateUUID",value:function(){var e=this.tim.context;return"".concat(e.SDKAppID,"-").concat(e.identifier,"-").concat(function(){for(var e="",t=32;t>0;--t)e+=Gs[Math.floor(Math.random()*js)];return e}())}},{key:"_generateTjgID",value:function(e){return this.tim.context.tinyID+"-"+e.random}},{key:"getMessageOptionByID",value:function(e){return this.messageOptionMap.get(e)}}]),t}(),Ed=function(){function e(t){sn(this,e),this.userID="",this.avatar="",this.nick="",this.role="",this.joinTime="",this.lastSendMsgTime="",this.nameCard="",this.muteUntil=0,this.memberCustomField=[],this._initMember(t)}return cn(e,[{key:"_initMember",value:function(e){this.updateMember(e)}},{key:"updateMember",value:function(e){xs(this,e,[],[null,void 0,"",0,NaN])}},{key:"updateRole",value:function(e){["Owner","Admin","Member"].indexOf(e)<0||(this.role=e)}},{key:"updateMemberCustomField",value:function(e){xs(this.memberCustomField,e)}}]),e}(),Sd=function(){function e(t){sn(this,e),this.tim=t.tim,this.groupController=t.groupController,this._initListeners()}return cn(e,[{key:"_initListeners",value:function(){this.tim.innerEmitter.on(pl.MESSAGE_GROUP_INSTANT_RECEIVED,this._onReceivedGroupTips,this)}},{key:"_onReceivedGroupTips",value:function(e){var t=this,n=e.data,r=n.result;n.isGroupTip&&r.forEach((function(e){switch(e.payload.operationType){case 1:t._onNewMemberComeIn(e);break;case 2:t._onMemberQuit(e);break;case 3:t._onMemberKickedOut(e);break;case 4:t._onMemberSetAdmin(e);break;case 5:t._onMemberCancelledAdmin(e);break;case 6:t._onGroupProfileModified(e);break;case 7:t._onMemberInfoModified(e);break;default:ms.warn("GroupTipsHandler._onReceivedGroupTips Unhandled groupTips. operationType=",e.payload.operationType)}}))}},{key:"_onNewMemberComeIn",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this.groupController.getLocalGroupProfile(r);o&&_s(n)&&(o.memberNum=n)}},{key:"_onMemberQuit",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this.groupController.getLocalGroupProfile(r);o&&_s(n)&&(o.memberNum=n),this.groupController.deleteLocalGroupMembers(r,e.payload.userIDList)}},{key:"_onMemberKickedOut",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this.groupController.getLocalGroupProfile(r);o&&_s(n)&&(o.memberNum=n),this.groupController.deleteLocalGroupMembers(r,e.payload.userIDList)}},{key:"_onMemberSetAdmin",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.userIDList.forEach((function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e);r&&r.updateRole(Jt.GRP_MBR_ROLE_ADMIN)}))}},{key:"_onMemberCancelledAdmin",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.userIDList.forEach((function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e);r&&r.updateRole(Jt.GRP_MBR_ROLE_MEMBER)}))}},{key:"_onGroupProfileModified",value:function(e){var t=this,n=e.payload.newGroupProfile,r=e.payload.groupProfile.groupID,o=this.groupController.getLocalGroupProfile(r);Object.keys(n).forEach((function(e){switch(e){case"ownerID":t._ownerChaged(o,n);break;default:o[e]=n[e]}})),this.groupController.emitGroupListUpdate(1,1)}},{key:"_ownerChaged",value:function(e,t){var n=e.groupID,r=this.groupController.getLocalGroupProfile(n),o=this.tim.context.identifier;if(o===t.ownerID){r.updateGroup({selfInfo:{role:Jt.GRP_MBR_ROLE_OWNER}});var i=this.groupController.getLocalGroupMemberInfo(n,o),a=this.groupController.getLocalGroupProfile(n).ownerID,s=this.groupController.getLocalGroupMemberInfo(n,a);i&&i.updateRole(Jt.GRP_MBR_ROLE_OWNER),s&&s.updateRole(Jt.GRP_MBR_ROLE_MEMBER)}}},{key:"_onMemberInfoModified",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.msgMemberInfo.forEach((function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e.userAccount);r&&e.shutupTime&&(r.shutUpUntil=(Date.now()+1e3*e.shutupTime)/1e3)}))}}]),e}(),Ad=function(){function e(t){sn(this,e),this.groupController=t.groupController,this.tim=t.tim,this.pendencyMap=new Map,this._initLiceners()}return cn(e,[{key:"_initLiceners",value:function(){this.tim.innerEmitter.on(pl.MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED,this._onReceivedGroupSystemNotice,this),this.tim.innerEmitter.on(pl.SYNC_MESSAGE_C2C_FINISHED,this._clearGroupSystemNotice,this)}},{key:"_clearGroupSystemNotice",value:function(){var e=this;this.getPendencyList().then((function(t){t.forEach((function(t){e.pendencyMap.set("".concat(t.from,"_").concat(t.groupID,"_").concat(t.to),t)}));var n=e.tim.messageController.getLocalMessageList(Jt.CONV_SYSTEM),r=[];n.forEach((function(t){var n=t.payload,o=n.operatorID,i=n.operationType,a=n.groupProfile;if(i===Ml){var s="".concat(o,"_").concat(a.groupID,"_").concat(a.to),u=e.pendencyMap.get(s);u&&_s(u.handled)&&0!==u.handled&&r.push(t)}})),e.groupController.deleteGroupSystemNotice({messageList:r})}))}},{key:"getPendencyList",value:function(e){var t=this,n=this.groupController.createPackage({name:"group",action:"getGroupPendency",param:{startTime:e&&e.startTime?e.startTime:0,limit:e&&e.limit?e.limit:10,handleAccount:this.tim.context.identifier}});return this.groupController.connectionController.request(n).then((function(e){var n=e.data,r=n.pendencyList;return 0!==n.nextStartTime?t.getPendencyList({startTime:n.nextStartTime}).then((function(e){return[].concat(En(r),En(e))})):r}))}},{key:"_onReceivedGroupSystemNotice",value:function(e){var t=this,n=e.data,r=n.result;"sync"!==n.type&&r.forEach((function(e){switch(e.payload.operationType){case 1:t._onApplyGroupRequest(e);break;case 2:t._onApplyGroupRequestAgreed(e);break;case 3:t._onApplyGroupRequestRefused(e);break;case 4:t._onMemberKicked(e);break;case 5:t._onGroupDismissed(e);break;case 6:break;case 7:t._onInviteGroup(e);break;case 8:t._onQuitGroup(e);break;case 9:t._onSetManager(e);break;case 10:t._onDeleteManager(e);break;case 11:case 12:case 15:break;case 255:t.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Ul})}}))}},{key:"_onApplyGroupRequest",value:function(e){this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Ml})}},{key:"_onApplyGroupRequestAgreed",value:function(e){var t=this,n=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(n)||this.groupController.getGroupProfile({groupID:n}).then((function(e){var n=e.data.group;n&&(t.groupController.updateGroupMap([n]),t.groupController.emitGroupListUpdate())})),this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Dl})}},{key:"_onApplyGroupRequestRefused",value:function(e){this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Nl})}},{key:"_onMemberKicked",value:function(e){var t=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(t)&&this.groupController.deleteLocalGroupAndConversation(t),this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:xl})}},{key:"_onGroupDismissed",value:function(e){var t=e.payload.groupProfile.groupID,n=this.groupController.hasLocalGroup(t),r=this.groupController.AVChatRoomHandler;n&&this.groupController.deleteLocalGroupAndConversation(t),r.checkJoinedAVChatRoomByID(t)&&r.reset(),this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Ll})}},{key:"_onInviteGroup",value:function(e){var t=this,n=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(n)||this.groupController.getGroupProfile({groupID:n}).then((function(e){var n=e.data.group;n&&(t.groupController.updateGroupMap([n]),t.groupController.emitGroupListUpdate())})),this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Pl})}},{key:"_onQuitGroup",value:function(e){var t=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(t)&&this.groupController.deleteLocalGroupAndConversation(t),this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:kl})}},{key:"_onSetManager",value:function(e){var t=e.payload.groupProfile,n=t.to,r=t.groupID,o=this.groupController.getLocalGroupMemberInfo(r,n);o&&o.updateRole(Jt.GRP_MBR_ROLE_ADMIN),this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Rl})}},{key:"_onDeleteManager",value:function(e){var t=e.payload.groupProfile,n=t.to,r=t.groupID,o=this.groupController.getLocalGroupMemberInfo(r,n);o&&o.updateRole(Jt.GRP_MBR_ROLE_MEMBER),this.tim.outerEmitter.emit(Wt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Gl})}},{key:"reset",value:function(){this.pendencyMap.clear()}}]),e}(),Id={3:1,4:1,5:1,6:1},wd=function(){function e(t){var n=t.tim,r=t.groupController;sn(this,e),this.tim=n,this.groupController=r,this.AVChatRoomLoop=null,this.key="",this.startSeq=0,this.group={}}return cn(e,[{key:"hasJoinedAVChatRoom",value:function(){return this.group&&!Is(this.group.groupID)?1:0}},{key:"checkJoinedAVChatRoomByID",value:function(e){return this.group||!Is(this.group.groupID)?e===this.group.groupID:0}},{key:"getJoinedAVChatRoom",value:function(){return this.hasJoinedAVChatRoom()?this.group:null}},{key:"_updateProperties",value:function(e){var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))}},{key:"start",value:function(){var e={key:this.key,startSeq:this.startSeq};if(null===this.AVChatRoomLoop){var t=this.tim.notificationController.createPackage({name:"AVChatRoom",action:"startLongPoll",param:e});this.AVChatRoomLoop=this.tim.connectionController.createRunLoop({pack:t,before:this._updateRequestData.bind(this),success:this._handleSuccess.bind(this),fail:this._handleFailure.bind(this)}),this.AVChatRoomLoop.start(),ms.log("AVChatRoomHandler.start message channel started")}else this.AVChatRoomLoop.isRunning()||this.AVChatRoomLoop.start()}},{key:"stop",value:function(){null!==this.AVChatRoomLoop&&this.AVChatRoomLoop.isRunning()&&(this.AVChatRoomLoop.abort(),this.AVChatRoomLoop.stop(),ms.log("AVChatRoomHandler.stop message channel stopped"))}},{key:"startRunLoop",value:function(e){var t=this;return this._precheck().then((function(){var n=e.longPollingKey,r=e.group;return t._updateProperties({key:n,startSeq:0,group:r||{}}),t.groupController.updateGroupMap([r]),t.groupController.emitGroupListUpdate(1,0),t.start(),t.groupController.isLoggedIn()?Wl({status:Al.SUCCESS,group:r}):Wl({status:Al.SUCCESS})}))}},{key:"joinWithoutAuth",value:function(e){var t=this,n=this.groupController.createPackage({name:"group",action:"applyJoinAVChatRoom",param:e});return this.tim.connectionController.request(n).then((function(n){var r=n.data.longPollingKey;ms.log("AVChatRoomHandler.joinWithoutAuth ok. groupID:",e.groupID),t.tim.innerEmitter.emit(pl.AVCHATROOM_JOIN_SUCCESS,{data:e.groupID});var o=new td({groupID:e.groupID});return t.startRunLoop({group:o,longPollingKey:r}),new Yl({status:Al.SUCCESS})})).catch((function(t){return ms.error("AVChatRoomHandler.joinWithoutAuth error:".concat(t.message,". groupID:").concat(e.groupID)),Jl(t)}))}},{key:"_precheck",value:function(){if(!this.hasJoinedAVChatRoom())return Promise.resolve();if(this.groupController.isLoggedIn()){if(this.group.selfInfo.role!==Jt.GRP_MBR_ROLE_OWNER&&this.group.ownerID!==this.tim.loginInfo.identifier)return this.groupController.quitGroup(this.group.groupID);this.groupController.deleteLocalGroupAndConversation(this.group.groupID)}else this.groupController.deleteLocalGroupAndConversation(this.group.groupID);return this.reset(),Promise.resolve()}},{key:"_updateRequestData",value:function(e){e.StartSeq=this.startSeq,e.Key=this.key,this.tim.sumStatController.addTotalCount(Ql.LONG_POLLING_AV)}},{key:"_handleSuccess",value:function(e){this.tim.sumStatController.addSuccessCount(Ql.LONG_POLLING_AV),this.tim.sumStatController.addCost(Ql.LONG_POLLING_AV,e.data.timecost),this.startSeq=e.data.nextSeq,this.key=e.data.key,Array.isArray(e.data.rspMsgList)&&e.data.rspMsgList.forEach((function(e){e.to=e.groupID})),e.data.rspMsgList&&e.data.rspMsgList.length>0&&this._dispatchNotice(e.data.rspMsgList)}},{key:"_handleFailure",value:function(e){if(e.error){var t=new $l;t.setMethod(ep.LONG_POLLING_ERROR).setStart(),this.groupController.probeNetwork((function(n,r){t.setError(e.error,n,r).setEnd()})),this.tim.innerEmitter.emit(pl.ERROR_DETECTED,e.error)}}},{key:"_dispatchNotice",value:function(e){if(As(e)&&0!==e.length){for(var t=null,n=[],r=[],o=0;o<e.length;o++)Id[e[o].event]?(t=this.packMessage(e[o],e[o].event)).conversationType!==Jt.CONV_SYSTEM?this.tim.messageController.hasLocalMessage(t.conversationID,t.ID)||n.push(t):r.push(t):ms.warn("AVChatRoomHandler._dispatchMessage 未处理的 event 类型：",e[o].event);if(r.length>0&&this.tim.innerEmitter.emit(pl.MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED,{data:{result:r,eventDataList:[],type:"poll"}}),0!==n.length){var i=this.packConversationOption(n);i.length>0&&this.tim.innerEmitter.emit(pl.MESSAGE_GROUP_INSTANT_RECEIVED,{data:{eventDataList:i,type:"poll"}}),this.tim.outerEmitter.emit(Wt.MESSAGE_RECEIVED,n)}}}},{key:"packMessage",value:function(e,t){e.currentUser=this.tim.context.identifier,e.conversationType=5===t?Jt.CONV_SYSTEM:Jt.CONV_GROUP,e.isSystemMessage=!!e.isSystemMessage;var n=new $h(e),r=this.packElements(e,t);return n.setElement(r),n}},{key:"packElements",value:function(e,t){return 4===t||6===t?{type:Jt.MSG_GRP_TIP,content:fn({},e.elements,{groupProfile:e.groupProfile})}:5===t?{type:Jt.MSG_GRP_SYS_NOTICE,content:fn({},e.elements,{groupProfile:e.groupProfile})}:this.tim.bigDataHallwayController.parseElements(e.elements,e.from)}},{key:"packConversationOption",value:function(e){for(var t=new Map,n=0;n<e.length;n++){var r=e[n],o=r.conversationID;if(t.has(o)){var i=t.get(o);i.lastMessage=r,"in"===r.flow&&i.unreadCount++}else t.set(o,{conversationID:r.conversationID,unreadCount:"out"===r.flow?0:1,type:r.conversationType,subType:r.conversationSubType,lastMessage:r})}return En(t.values())}},{key:"reset",value:function(){null!==this.AVChatRoomLoop&&(ms.log("AVChatRoomHandler.reset"),this.stop(),this.AVChatRoomLoop=null,this.key="",this.startSeq=0,this.group={})}}]),e}(),Td=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e))).groupMap=new Map,n.groupMemberListMap=new Map,n.hasLocalGroupList=0,n.groupNoticeHandler=new Ad({tim:e,groupController:vn(n)}),n.groupTipsHandler=new Sd({tim:e,groupController:vn(n)}),n.AVChatRoomHandler=new wd({tim:e,groupController:vn(n)}),n._initListeners(),n}return hn(t,wl),cn(t,[{key:"createGroup",value:function(e){var t=this;if(!["Public","Private","ChatRoom","AVChatRoom"].includes(e.type)){var n=new rl({code:el.ILLEGAL_GROUP_TYPE,message:tl.ILLEGAL_GROUP_TYPE});return Jl(n)}Vs(e.type)&&!Is(e.memberList)&&e.memberList.length>0&&(ms.warn("GroupController.createGroup 创建AVChatRoom时不能添加群成员，自动忽略该字段"),e.memberList=void 0),Zs(e.type)||Is(e.joinOption)||(ms.warn("GroupController.createGroup 创建Private/ChatRoom/AVChatRoom群时不能设置字段：joinOption，自动忽略该字段"),e.joinOption=void 0);var r=new $l;r.setMethod(ep.CREATE_GROUP).setStart();var o=this.createPackage({name:"group",action:"create",param:e});return ms.log("GroupController.createGroup."),this.tim.connectionController.request(o).then((function(n){if(r.setCode(0).setNetworkType(t.getNetworkType()).setText("grpType=".concat(e.type)).setEnd(),ms.log("GroupController.createGroup ok. groupID:",n.data.groupID),e.type===Jt.GRP_AVCHATROOM)return t.getGroupProfile({groupID:n.data.groupID});t.updateGroupMap([fn({},e,{groupID:n.data.groupID})]);var o=t.tim.createCustomMessage({to:n.data.groupID,conversationType:Jt.CONV_GROUP,payload:{data:"group_create",extension:"".concat(t.tim.context.identifier,"创建群组")}});return t.tim.sendMessage(o),t.emitGroupListUpdate(),t.getGroupProfile({groupID:n.data.groupID})})).then((function(e){var t=e.data.group;return t.selfInfo.messageRemindType=Jt.MSG_REMIND_ACPT_AND_NOTE,t.selfInfo.role=Jt.GRP_MBR_ROLE_OWNER,e})).catch((function(e){return t.probeNetwork().then((function(t,n){r.setError(e,t,n).setEnd()})),ms.error("GroupController.createGroup error:",e),Jl(e)}))}},{key:"joinGroup",value:function(e){if(this.hasLocalGroup(e.groupID)){var t={status:Jt.JOIN_STATUS_ALREADY_IN_GROUP};return Wl(t)}if(e.type===Jt.GRP_PRIVATE){var n=new rl({code:el.CANNOT_JOIN_PRIVATE,message:tl.CANNOT_JOIN_PRIVATE});return this.tim.innerEmitter.emit(pl.ERROR_DETECTED,n),Jl(n)}return ms.log("GroupController.joinGroup. groupID:",e.groupID),this.isLoggedIn()?this.applyJoinGroup(e):this.AVChatRoomHandler.joinWithoutAuth(e)}},{key:"quitGroup",value:function(e){var t=this;ms.log("GroupController.quitGroup. groupID:",e);var n=this.AVChatRoomHandler.checkJoinedAVChatRoomByID(e);if(n&&!this.isLoggedIn())return ms.log("GroupController.quitGroup anonymously ok. groupID:",e),this.deleteLocalGroupAndConversation(e),this.AVChatRoomHandler.reset(),Wl({groupID:e});var r=this.createPackage({name:"group",action:"quitGroup",param:{groupID:e}});return this.tim.connectionController.request(r).then((function(){return ms.log("GroupController.quitGroup ok. groupID:",e),n&&t.AVChatRoomHandler.reset(),t.deleteLocalGroupAndConversation(e),new Yl({groupID:e})})).catch((function(t){return ms.error("GroupController.quitGroup error.  error:".concat(t,". groupID:").concat(e)),Jl(t)}))}},{key:"changeGroupOwner",value:function(e){var t=this;if(this.hasLocalGroup(e.groupID)&&this.getLocalGroupProfile(e.groupID).type===Jt.GRP_AVCHATROOM)return Jl(new rl({code:el.CANNOT_CHANGE_OWNER_IN_AVCHATROOM,message:tl.CANNOT_CHANGE_OWNER_IN_AVCHATROOM}));if(e.newOwnerID===this.tim.loginInfo.identifier)return Jl(new rl({code:el.CANNOT_CHANGE_OWNER_TO_SELF,message:tl.CANNOT_CHANGE_OWNER_TO_SELF}));var n=this.createPackage({name:"group",action:"changeGroupOwner",param:e});return ms.log("GroupController.changeGroupOwner. groupID:",e.groupID),this.tim.connectionController.request(n).then((function(){ms.log("GroupController.changeGroupOwner ok. groupID:",e.groupID);var n=e.groupID,r=e.newOwnerID;t.groupMap.get(n).ownerID=r;var o=t.groupMemberListMap.get(n);if(o instanceof Map){var i=o.get(t.tim.loginInfo.identifier);Is(i)||(i.updateRole("Member"),t.groupMap.get(n).selfInfo.role="Member");var a=o.get(r);Is(a)||a.updateRole("Owner")}return t.emitGroupListUpdate(1,0),new Yl({group:t.groupMap.get(n)})})).catch((function(t){return ms.error("GroupController.changeGroupOwner error:".concat(t,". groupID:").concat(e.groupID)),Jl(t)}))}},{key:"dismissGroup",value:function(e){var t=this;if(this.hasLocalGroup(e)&&this.getLocalGroupProfile(e).type===Jt.GRP_PRIVATE)return Jl(new rl({code:el.CANNOT_DISMISS_PRIVATE,message:tl.CANNOT_DISMISS_PRIVATE}));var n=this.createPackage({name:"group",action:"destroyGroup",param:{groupID:e}});return ms.log("GroupController.dismissGroup. groupID:".concat(e)),this.tim.connectionController.request(n).then((function(){return ms.log("GroupController.dismissGroup ok. groupID:".concat(e)),t.deleteLocalGroupAndConversation(e),t.checkJoinedAVChatRoomByID(e)&&t.AVChatRoomHandler.reset(),new Yl({groupID:e})})).catch((function(t){return ms.error("GroupController.dismissGroup error:".concat(t,". groupID:").concat(e)),Jl(t)}))}},{key:"updateGroupProfile",value:function(e){var t=this;!this.hasLocalGroup(e.groupID)||Zs(this.getLocalGroupProfile(e.groupID).type)||Is(e.joinOption)||(ms.warn("GroupController.modifyGroup: Private/ChatRoom/AVChatRoom群不能设置字段：joinOption，自动忽略该字段"),e.joinOption=void 0);var n=this.createPackage({name:"group",action:"updateGroupProfile",param:e});return ms.log("GroupController.modifyGroup. groupID:",e.groupID),this.tim.connectionController.request(n).then((function(){return ms.log("GroupController.modifyGroup ok. groupID:",e.groupID),t.hasLocalGroup(e.groupID)&&(t.groupMap.get(e.groupID).updateGroup(e),t._setLocalGroupList(t.groupMap)),new Yl({group:t.groupMap.get(e.groupID)})})).catch((function(t){return ms.log("GroupController.modifyGroup error. error:".concat(t," groupID:").concat(e.groupID)),Jl(t)}))}},{key:"setGroupMemberRole",value:function(e){var t=this,n=this.groupMap.get(e.groupID);if(n.selfInfo.role!==Jt.GRP_MBR_ROLE_OWNER)return Jl(new rl({code:el.NOT_OWNER,message:tl.NOT_OWNER}));if([Jt.GRP_PRIVATE,Jt.GRP_AVCHATROOM].includes(n.type))return Jl(new rl({code:el.CANNOT_SET_MEMBER_ROLE_IN_PRIVATE_AND_AVCHATROOM,message:tl.CANNOT_SET_MEMBER_ROLE_IN_PRIVATE_AND_AVCHATROOM}));if([Jt.GRP_MBR_ROLE_ADMIN,Jt.GRP_MBR_ROLE_MEMBER].indexOf(e.role)<0)return Jl(new rl({code:el.INVALID_MEMBER_ROLE,message:tl.INVALID_MEMBER_ROLE}));if(e.userID===this.tim.loginInfo.identifier)return Jl(new rl({code:el.CANNOT_SET_SELF_MEMBER_ROLE,message:tl.CANNOT_SET_SELF_MEMBER_ROLE}));ms.log("GroupController.setGroupMemberRole. groupID:".concat(e.groupID,". userID: ").concat(e.userID));var r=e.groupID,o=e.userID,i=e.role;return this._modifyGroupMemberInfo({groupID:r,userID:o,role:i}).then((function(){ms.log("GroupController.setGroupMemberRole ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID));var n=t.groupMemberListMap.get(e.groupID);return void 0!==n&&void 0!==n.get(e.userID)&&n.get(e.userID).updateRole(e.role),new Yl({group:t.groupMap.get(e.groupID)})})).catch((function(t){return ms.error("GroupController.setGroupMemberRole error:".concat(t,". groupID:").concat(e.groupID,". userID:").concat(e.userID)),Jl(t)}))}},{key:"setGroupMemberMuteTime",value:function(e){var t=this;ms.log("GroupController.setGroupMemberMuteTime. groupID:".concat(e.groupID,". userID: ").concat(e.userID));var n=e.groupID,r=e.userID,o=e.muteTime;return this._modifyGroupMemberInfo({groupID:n,userID:r,muteTime:o}).then((function(){return ms.log("GroupController.setGroupMemberMuteTime ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID)),new Yl({group:t.getLocalGroupProfile(n)})})).catch((function(t){return ms.error("GroupController.setGroupMemberMuteTime error:".concat(t,". groupID:").concat(e.groupID,". userID:").concat(e.userID)),Jl(t)}))}},{key:"setMessageRemindType",value:function(e){var t=this;ms.log("GroupController.setMessageRemindType. groupID:".concat(e.groupID,". userID: ").concat(e.userID||this.tim.loginInfo.identifier));var n=e.groupID,r=e.messageRemindType;return this._modifyGroupMemberInfo({groupID:n,messageRemindType:r,userID:this.tim.loginInfo.identifier}).then((function(){ms.log("GroupController.setMessageRemindType ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID||t.tim.loginInfo.identifier));var n=t.getLocalGroupProfile(e.groupID);return n&&(n.selfInfo.messageRemindType=r),new Yl({group:n})})).catch((function(n){return ms.error("GroupController.setMessageRemindType error:".concat(n,". groupID:").concat(e.groupID,". userID:").concat(e.userID||t.tim.loginInfo.identifier)),Jl(n)}))}},{key:"setGroupMemberNameCard",value:function(e){var t=this;ms.log("GroupController.setGroupMemberNameCard. groupID:".concat(e.groupID,". userID: ").concat(e.userID||this.tim.loginInfo.identifier));var n=e.groupID,r=e.userID,o=void 0===r?this.tim.loginInfo.identifier:r,i=e.nameCard;return this._modifyGroupMemberInfo({groupID:n,userID:o,nameCard:i}).then((function(){ms.log("GroupController.setGroupMemberNameCard ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID||t.tim.loginInfo.identifier));var r=t.groupMemberListMap.get(n);return void 0!==r&&void 0!==r.get(o)&&r.get(o).updateMember({nameCard:i}),o===t.tim.loginInfo.identifier&&t.hasLocalGroup(n)&&(t.getLocalGroupProfile(n).selfInfo.nameCard=i),new Yl({group:t.groupMap.get(n)})})).catch((function(n){return ms.error("GroupController.setGroupMemberNameCard error:".concat(n,". groupID:").concat(e.groupID,". userID:").concat(e.userID||t.tim.loginInfo.identifier)),Jl(n)}))}},{key:"setGroupMemberCustomField",value:function(e){var t=this;ms.log("GroupController.setGroupMemberCustomField. groupID:".concat(e.groupID,". userID: ").concat(e.userID||this.tim.loginInfo.identifier));var n=e.groupID,r=e.userID,o=e.memberCustomField;return this._modifyGroupMemberInfo({groupID:n,userID:r||this.tim.loginInfo.identifier,memberCustomField:o}).then((function(){return ms.log("GroupController.setGroupMemberCustomField ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID||t.tim.loginInfo.identifier)),t.groupMemberListMap.has(n)&&t.groupMemberListMap.get(n).has(r)&&t.groupMemberListMap.get(n).get(r).updateMemberCustomField(o),new Yl({group:t.groupMap.get(n)})})).catch((function(n){return ms.error("GroupController.setGroupMemberCustomField error:".concat(n,". groupID:").concat(e.groupID,". userID:").concat(e.userID||t.tim.loginInfo.identifier)),Jl(n)}))}},{key:"getGroupList",value:function(e){var t=this,n=new $l;n.setMethod(ep.GET_GROUP_LIST).setStart(),ms.log("GroupController.getGroupList");var r={introduction:"Introduction",notification:"Notification",createTime:"CreateTime",ownerID:"Owner_Account",lastInfoTime:"LastInfoTime",memberNum:"MemberNum",maxMemberNum:"MaxMemberNum",joinOption:"ApplyJoinOption"},o=["Type","Name","FaceUrl","NextMsgSeq","LastMsgTime"];e&&e.groupProfileFilter&&e.groupProfileFilter.forEach((function(e){r[e]&&o.push(r[e])}));var i=this.createPackage({name:"group",action:"list",param:{responseFilter:{groupBaseInfoFilter:o,selfInfoFilter:["Role","JoinTime","MsgFlag"]}}});return this.tim.connectionController.request(i).then((function(e){var r=e.data.groups;return n.setCode(0).setNetworkType(t.getNetworkType()).setText(r.length).setEnd(),ms.log("GroupController.getGroupList ok"),t._groupListTreeShaking(r),t.updateGroupMap(r),t.hasLocalGroupList=1,t.tempConversationList&&(t._handleUpdateGroupLastMessage(t.tempConversationList),t.tempConversationList=null),t.emitGroupListUpdate(),new Yl({groupList:t.getLocalGroups()})})).catch((function(e){return t.probeNetwork().then((function(t,r){n.setError(e,t,r).setEnd()})),ms.error("GroupController.getGroupList error: ",e),Jl(e)}))}},{key:"getGroupMemberList",value:function(e){var t=this,n=e.groupID,r=e.offset,o=void 0===r?0:r,i=e.count,a=void 0===i?15:i;ms.log("GroupController.getGroupMemberList groupID: ".concat(n," offset: ").concat(o," count: ").concat(a));var s=this.createPackage({name:"group",action:"getGroupMemberList",param:{groupID:n,offset:o,limit:a>100?100:a,memberInfoFilter:["Role","NameCard"]}}),u=[];return this.connectionController.request(s).then((function(e){var r=e.data,o=r.members,i=r.memberNum;return As(o)&&0!==o.length?(t.hasLocalGroup(n)&&(t.getLocalGroupProfile(n).memberNum=i),u=t._updateLocalGroupMemberMap(n,o),t.tim.getUserProfile({userIDList:o.map((function(e){return e.userID})),tagList:[Zl.NICK,Zl.AVATAR]})):Promise.resolve([])})).then((function(e){var r=e.data;if(!As(r)||0===r.length)return Wl({memberList:[]});var o=r.map((function(e){return{userID:e.userID,nick:e.nick,avatar:e.avatar}}));return t._updateLocalGroupMemberMap(n,o),ms.log("GroupController.getGroupMemberList ok."),new Yl({memberList:u})})).catch((function(e){return ms.error("GroupController.getGroupMemberList error: ",e),Jl(e)}))}},{key:"getLocalGroups",value:function(){return En(this.groupMap.values())}},{key:"getLocalGroupProfile",value:function(e){return this.groupMap.get(e)}},{key:"hasLocalGroup",value:function(e){return this.groupMap.has(e)}},{key:"getLocalGroupMemberInfo",value:function(e,t){return this.groupMemberListMap.has(e)?this.groupMemberListMap.get(e).get(t):null}},{key:"setLocalGroupMember",value:function(e,t){if(this.groupMemberListMap.has(e))this.groupMemberListMap.get(e).set(t.userID,t);else{var n=(new Map).set(t.userID,t);this.groupMemberListMap.set(e,n)}}},{key:"hasLocalGroupMember",value:function(e,t){return this.groupMemberListMap.has(e)&&this.groupMemberListMap.get(e).has(t)}},{key:"hasLocalGroupMemberMap",value:function(e){return this.groupMemberListMap.has(e)}},{key:"getGroupProfile",value:function(e){var t=this;ms.log("GroupController.getGroupProfile. groupID:",e.groupID);var n=e.groupID,r=e.groupCustomFieldFilter,o=e.memberCustomFieldFilter,i={groupIDList:[n],responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq"],groupCustomFieldFilter:r,memberCustomFieldFilter:o}};return this.getGroupProfileAdvance(i).then((function(r){var o,i=r.data,a=i.successGroupList,s=i.failureGroupList;return ms.log("GroupController.getGroupProfile ok. groupID:",e.groupID),s.length>0?Jl(s[0]):(Vs(a[0].type)&&!t.hasLocalGroup(n)?o=new td(a[0]):(t.updateGroupMap(a),o=t.getLocalGroupProfile(n)),o&&o.selfInfo&&!o.selfInfo.nameCard?t.updateSelfInfo(o).then((function(e){return new Yl({group:e})})):new Yl({group:o}))})).catch((function(t){return ms.error("GroupController.getGroupProfile error:".concat(t,". groupID:").concat(e.groupID)),Jl(t)}))}},{key:"getGroupMemberProfile",value:function(e){var t=this;ms.log("GroupController.getGroupMemberProfile groupID:".concat(e.groupID,"\n     userIDList:").concat(e.userIDList.join(","))),e.userIDList.length>50&&(e.userIDList=e.userIDList.slice(0,50));var n=e.groupID,r=e.userIDList;return this._getGroupMemberProfileAdvance(fn({},e,{userIDList:r})).then((function(e){var r=e.data.members;return As(r)&&0!==r.length?(t._updateLocalGroupMemberMap(n,r),t.tim.getUserProfile({userIDList:r.map((function(e){return e.userID})),tagList:[Zl.NICK,Zl.AVATAR]})):Wl([])})).then((function(e){var o=e.data.map((function(e){return{userID:e.userID,nick:e.nick,avatar:e.avatar}}));t._updateLocalGroupMemberMap(n,o);var i=r.filter((function(e){return t.hasLocalGroupMember(n,e)})).map((function(e){return t.getLocalGroupMemberInfo(n,e)}));return new Yl({memberList:i})}))}},{key:"_getGroupMemberProfileAdvance",value:function(e){var t=this.createPackage({name:"group",action:"getGroupMemberProfile",param:fn({},e,{memberInfoFilter:e.memberInfoFilter?e.memberInfoFilter:["Role","JoinTime","NameCard","ShutUpUntil"]})});return this.connectionController.request(t)}},{key:"updateSelfInfo",value:function(e){var t=e.groupID;ms.log("GroupController.updateSelfInfo groupID:",t);var n={groupID:t,userIDList:[this.tim.loginInfo.identifier]};return this.getGroupMemberProfile(n).then((function(n){var r=n.data.memberList;return ms.log("GroupController.updateSelfInfo ok. groupID:",t),e&&0!==r.length&&e.updateSelfInfo(r[0]),e}))}},{key:"addGroupMember",value:function(e){var t=this.getLocalGroupProfile(e.groupID);if(Vs(t.type)){var n=new rl({code:el.CANNOT_ADD_MEMBER_IN_AVCHATROOM,message:tl.CANNOT_ADD_MEMBER_IN_AVCHATROOM});return Jl(n)}e.userIDList=e.userIDList.map((function(e){return{userID:e}}));var r=this.createPackage({name:"group",action:"addGroupMember",param:e});return ms.log("GroupController.addGroupMember. groupID:",e.groupID),this.connectionController.request(r).then((function(n){var r=n.data.members;ms.log("GroupController.addGroupMember ok. groupID:",e.groupID);var o=r.filter((function(e){return 1===e.result})).map((function(e){return e.userID})),i=r.filter((function(e){return 0===e.result})).map((function(e){return e.userID})),a=r.filter((function(e){return 2===e.result})).map((function(e){return e.userID}));return 0===o.length?new Yl({successUserIDList:o,failureUserIDList:i,existedUserIDList:a}):(t.memberNum+=o.length,new Yl({successUserIDList:o,failureUserIDList:i,existedUserIDList:a,group:t}))})).catch((function(t){return ms.error("GroupController.addGroupMember error:".concat(t,", groupID:").concat(e.groupID)),Jl(t)}))}},{key:"deleteGroupMember",value:function(e){var t=this;ms.log("GroupController.deleteGroupMember groupID:".concat(e.groupID," userIDList:").concat(e.userIDList));var n=this.getLocalGroupProfile(e.groupID);if(n.type===Jt.GRP_AVCHATROOM)return Jl(new rl({code:el.CANNOT_KICK_MEMBER_IN_AVCHATROOM,message:tl.CANNOT_KICK_MEMBER_IN_AVCHATROOM}));var r=this.createPackage({name:"group",action:"deleteGroupMember",param:e});return this.connectionController.request(r).then((function(){return ms.log("GroupController.deleteGroupMember ok"),n.memberNum--,t.deleteLocalGroupMembers(e.groupID,e.userIDList),new Yl({group:n,userIDList:e.userIDList})})).catch((function(t){return ms.error("GroupController.deleteGroupMember error:".concat(t.code,", groupID:").concat(e.groupID)),Jl(t)}))}},{key:"searchGroupByID",value:function(e){var t={groupIDList:[e]},n=this.createPackage({name:"group",action:"searchGroupByID",param:t});return ms.log("GroupController.searchGroupByID. groupID:".concat(e)),this.connectionController.request(n).then((function(t){var n=t.data.groupProfile;if(ms.log("GroupController.searchGroupByID ok. groupID:".concat(e)),n[0].errorCode!==Il.REQUEST.SUCCESS)throw new rl({code:n[0].errorCode,message:n[0].errorInfo});return new Yl({group:new td(n[0])})})).catch((function(t){return ms.error("GroupController.searchGroupByID error:".concat(t,", groupID:").concat(e)),Jl(t)}))}},{key:"applyJoinGroup",value:function(e){var t=this,n=this.createPackage({name:"group",action:"applyJoinGroup",param:e});return this.connectionController.request(n).then((function(n){var r=n.data,o=r.joinedStatus,i=r.longPollingKey;switch(ms.log("GroupController.joinGroup ok. groupID:",e.groupID),o){case Al.WAIT_APPROVAL:return new Yl({status:Al.WAIT_APPROVAL});case Al.SUCCESS:return t.getGroupProfile({groupID:e.groupID}).then((function(n){var r=n.data.group,o={status:Al.SUCCESS,group:r};return Is(i)?new Yl(o):(t.tim.innerEmitter.emit(pl.AVCHATROOM_JOIN_SUCCESS,{data:e.groupID}),t.AVChatRoomHandler.startRunLoop({longPollingKey:i,group:r}))}));default:var a=new rl({code:el.JOIN_GROUP_FAIL,message:tl.JOIN_GROUP_FAIL});return ms.error("GroupController.joinGroup error:".concat(a,". groupID:").concat(e.groupID)),Jl(a)}})).catch((function(t){return ms.error("GroupController.joinGroup error:".concat(t,". groupID:").concat(e.groupID)),Jl(t)}))}},{key:"applyJoinAVChatRoom",value:function(e){return this.AVChatRoomHandler.applyJoinAVChatRoom(e)}},{key:"handleGroupApplication",value:function(e){var t=this,n=e.message.payload,r=n.groupProfile.groupID,o=n.authentication,i=n.messageKey,a=n.operatorID,s=this.createPackage({name:"group",action:"handleApplyJoinGroup",param:fn({},e,{applicant:a,groupID:r,authentication:o,messageKey:i})});return ms.log("GroupController.handleApplication. groupID:",r),this.connectionController.request(s).then((function(){return ms.log("GroupController.handleApplication ok. groupID:",r),t.deleteGroupSystemNotice({messageList:[e.message]}),new Yl({group:t.getLocalGroupProfile(r)})})).catch((function(e){return ms.error("GroupController.handleApplication error.  error:".concat(e,". groupID:").concat(r)),Jl(e)}))}},{key:"deleteGroupSystemNotice",value:function(e){var t=this;if(!As(e.messageList)||0===e.messageList.length)return Wl();ms.log("GroupController.deleteGroupSystemNotice "+e.messageList.map((function(e){return e.ID})));var n=this.createPackage({name:"group",action:"deleteGroupSystemNotice",param:{messageListToDelete:e.messageList.map((function(e){return{from:Jt.CONV_SYSTEM,messageSeq:e.clientSequence,messageRandom:e.random}}))}});return this.connectionController.request(n).then((function(){return ms.log("GroupController.deleteGroupSystemNotice ok"),e.messageList.forEach((function(e){t.tim.messageController.deleteLocalMessage(e)})),new Yl})).catch((function(e){return ms.error("GroupController.deleteGroupSystemNotice error:",e),Jl(e)}))}},{key:"getLocalGroupLastSequence",value:function(e){if(!this.groupMap.has(e))return 0;var t=this.groupMap.get(e);return t.lastMessage.lastSequence?t.lastMessage.lastSequence:t.nextMessageSeq-1}},{key:"getGroupProfileAdvance",value:function(e){As(e.groupIDList)&&e.groupIDList.length>50&&(ms.warn("GroupController.getGroupProfileAdvance 获取群资料的数量不能超过50个"),e.groupIDList.length=50),ms.log("GroupController.getGroupProfileAdvance. groupIDList:",e.groupIDList);var t=this.createPackage({name:"group",action:"query",param:e});return this.tim.connectionController.request(t).then((function(e){ms.log("GroupController.getGroupProfileAdvance ok.");var t=e.data.groups,n=t.filter((function(e){return Is(e.errorCode)||e.errorCode===Il.REQUEST.SUCCESS})),r=t.filter((function(e){return e.errorCode&&e.errorCode!==Il.REQUEST.SUCCESS})).map((function(e){return new rl({code:Number("500".concat(e.errorCode)),message:e.errorInfo,data:{groupID:e.groupID}})}));return new Yl({successGroupList:n,failureGroupList:r})})).catch((function(t){return ms.error("GroupController.getGroupProfile error:".concat(t,". groupID:").concat(e.groupID)),Jl(t)}))}},{key:"_deleteLocalGroup",value:function(e){return this.groupMap.delete(e),this.groupMemberListMap.delete(e),this._setLocalGroupList(this.groupMap),this.groupMap.has(e)&&this.groupMemberListMap.has(e)}},{key:"_initGroupList",value:function(){var e=this,t=new $l;t.setMethod(ep.GET_GROUP_LIST_IN_STORAGE).setStart(),ms.time(Ql.INIT_GROUP_LIST),ms.log("GroupController._initGroupList");var n=this._getLocalGroups();this.hasLocalGroupList=As(n)&&0!==n.length,this.hasLocalGroupList?(n.forEach((function(t){e.groupMap.set(t[0],new td(t[1]))})),this.emitGroupListUpdate(1,0),t.setCode(0).setNetworkType(this.getNetworkType()).setText(this.groupMap.size).setEnd()):t.setCode(0).setNetworkType(this.getNetworkType()).setText(0).setEnd(),this.triggerReady(),ms.log("GroupController._initGroupList ok. initCost=".concat(ms.timeEnd(Ql.INIT_GROUP_LIST),"ms")),this.getGroupList()}},{key:"_initListeners",value:function(){var e=this.tim.innerEmitter;e.once(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initGroupList,this),e.on(pl.CONVERSATION_LIST_UPDATED,this._handleUpdateGroupLastMessage,this),e.on(pl.MESSAGE_GROUP_INSTANT_RECEIVED,this._handleReceivedGroupMessage,this),e.on(pl.PROFILE_UPDATED,this._handleProfileUpdated,this)}},{key:"emitGroupListUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalGroups();t&&this.tim.innerEmitter.emit(pl.GROUP_LIST_UPDATED,n),e&&this.tim.outerEmitter.emit(Wt.GROUP_LIST_UPDATED,n)}},{key:"_handleReceivedGroupMessage",value:function(e){var t=this,n=e.data.eventDataList;Array.isArray(n)&&n.forEach((function(e){var n=e.conversationID.replace(Jt.CONV_GROUP,"");t.groupMap.has(n)&&(t.groupMap.get(n).nextMessageSeq=e.lastMessage.sequence+1)}))}},{key:"_onReceivedGroupSystemNotice",value:function(e){var t=e.data;this.groupNoticeHandler._onReceivedGroupNotice(t)}},{key:"_handleUpdateGroupLastMessage",value:function(e){if(this.hasLocalGroupList){for(var t=0,n=0;n<e.length;n++){var r=e[n],o=r.type===Jt.CONV_GROUP;if(r.conversationID&&o){var i=r.conversationID.split(/^GROUP/)[1],a=this.getLocalGroupProfile(i);a&&(a.lastMessage=r.lastMessage,t=1)}}t&&(this.groupMap=this._sortLocalGroupList(this.groupMap),this.emitGroupListUpdate(1,0))}else this.tempConversationList=e}},{key:"_sortLocalGroupList",value:function(e){var t=En(e).filter((function(e){var t=bn(e,2);return t[0],!Ks(t[1].lastMessage)}));return t.sort((function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime})),new Map([].concat(En(t),En(e)))}},{key:"_getLocalGroups",value:function(){return this.tim.storage.getItem("groupMap")}},{key:"_hasLocalGroupList",value:function(){var e=this.tim.storage.getItem("groupMap");return null!==e&&0!==e.length}},{key:"_setLocalGroupList",value:function(e){var t=En(e).slice(0,100).map((function(e){var t=bn(e,2),n=t[0],r=t[1];return[n,{groupID:n,name:r.name,avatar:r.avatar,type:r.type}]}));this.tim.storage.setItem("groupMap",t)}},{key:"updateGroupMap",value:function(e){var t=this;e.forEach((function(e){t.groupMap.has(e.groupID)?t.groupMap.get(e.groupID).updateGroup(e):t.groupMap.set(e.groupID,new td(e))})),this._setLocalGroupList(this.groupMap)}},{key:"_updateLocalGroupMemberMap",value:function(e,t){var n=this;return As(t)&&0!==t.length?t.map((function(t){return n.hasLocalGroupMember(e,t.userID)?n.getLocalGroupMemberInfo(e,t.userID).updateMember(t):n.setLocalGroupMember(e,new Ed(t)),n.getLocalGroupMemberInfo(e,t.userID)})):[]}},{key:"deleteLocalGroupMembers",value:function(e,t){var n=this.groupMemberListMap.get(e);n&&t.forEach((function(e){n.delete(e)}))}},{key:"_modifyGroupMemberInfo",value:function(e){var t=this.createPackage({name:"group",action:"modifyGroupMemberInfo",param:e});return this.tim.connectionController.request(t)}},{key:"_groupListTreeShaking",value:function(e){for(var t=new Map(En(this.groupMap)),n=0,r=e.length;n<r;n++)t.delete(e[n].groupID);this.AVChatRoomHandler.hasJoinedAVChatRoom()&&t.delete(this.AVChatRoomHandler.group.groupID);for(var o=En(t.keys()),i=0,a=o.length;i<a;i++)this.groupMap.delete(o[i])}},{key:"_handleProfileUpdated",value:function(e){for(var t=this,n=e.data,r=function(e){var r=n[e];t.groupMemberListMap.forEach((function(e){e.has(r.userID)&&e.get(r.userID).updateMember({nick:r.nick,avatar:r.avatar})}))},o=0;o<n.length;o++)r(o)}},{key:"getJoinedAVChatRoom",value:function(){return this.AVChatRoomHandler.getJoinedAVChatRoom()}},{key:"deleteLocalGroupAndConversation",value:function(e){this._deleteLocalGroup(e),this.tim.conversationController.deleteLocalConversation("GROUP".concat(e)),this.emitGroupListUpdate(1,0)}},{key:"checkJoinedAVChatRoomByID",value:function(e){return this.AVChatRoomHandler.checkJoinedAVChatRoomByID(e)}},{key:"reset",value:function(){this.groupMap.clear(),this.groupMemberListMap.clear(),this.hasLocalGroupList=0,this.resetReady(),this.groupNoticeHandler.reset(),this.AVChatRoomHandler.reset(),this.tim.innerEmitter.once(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initGroupList,this)}}]),t}(),Cd=Math.floor;Me({target:"Number",stat:1},{isInteger:function(e){return!E(e)&&isFinite(e)&&Cd(e)===e}});var Od=function(){for(var e=[],t=Md(arguments),n=0;n<arguments.length;n++)Number.isInteger(arguments[n])?e.push(arguments[n]):e.push(1==!!arguments[n]?"1":"0");return e.join(t)},Md=function(e){var t=e.length,n=e[t-1];if("string"!=typeof n)return"";if(n.length>1)return"";var r=e[t-1];return delete e[t-1],e.length-=t===e.length?1:0,r},Dd=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e)))._initializeMembers(),n.tim.innerEmitter.on(pl.SIGN_LOGIN_SUCCESS,(function(){n._initializeStatus(),n._bindListener()})),n.tim.innerEmitter.on(pl.SIGN_LOGOUT_EXECUTING,(function(){n._initializeStatus(),n._unbindListener()})),n}return hn(t,wl),cn(t,[{key:"_initializeMembers",value:function(){this.normalTimeout=300,this.realtimeNoticeTimeout=11e4,this.channelMaxTimeout=3e5}},{key:"_initializeStatus",value:function(){this._initializeAccountStatus(),this._initializeChannelStatus()}},{key:"_initializeAccountStatus",value:function(){this.accountStatus={lastSignInTime:0,status:Il.ACCOUNT_STATUS.SIGN_OUT}}},{key:"_initializeChannelStatus",value:function(){this.channelStatus={startTime:0,offlineTime:0,failCount:0,lastRequestTime:0,lastJitterTime:0,jitterCount:0,jitters:[],status:Il.CHANNEL_STATUS.OFFLINE}}},{key:"getChannelStatus",value:function(){return this.channelStatus.status}},{key:"_channelStatusJittersUpdate",value:function(e){this.channelStatus.jitterCount++,this.channelStatus.lastJitterTime=e,this.channelStatus.jitters.push(e),this.channelStatus.jitters.length>5&&this.channelStatus.jitters.pop()}},{key:"_bindListener",value:function(){var e=this.tim.innerEmitter;e.on(pl.NOTICE_LONGPOLL_START,this._onChannelStart,this),e.on(pl.NOTICE_LONGPOLL_REQUEST_ARRIVED,this._onChannelRequestSuccess,this),e.on(pl.NOTICE_LONGPOLL_REQUEST_NOT_ARRIVED,this._onChannelFail,this)}},{key:"_unbindListener",value:function(){var e=this.tim.innerEmitter;e.off(pl.NOTICE_LONGPOLL_START,this._onChannelStart,this),e.off(pl.NOTICE_LONGPOLL_REQUEST_ARRIVED,this._onChannelRequestSuccess,this),e.off(pl.NOTICE_LONGPOLL_REQUEST_NOT_ARRIVED,this._onChannelFail,this)}},{key:"_onChannelStart",value:function(){this.channelStatus.startTime=+new Date,this.channelStatus.status=Il.CHANNEL_STATUS.ONLINE}},{key:"_onChannelRequestSuccess",value:function(){var e=this.tim.innerEmitter,t=Date.now(),n=t-(this.channelStatus.lastRequestTime>0?this.channelStatus.lastRequestTime:Date.now()+100),r=Od(n<this.realtimeNoticeTimeout,n<this.channelMaxTimeout);switch(this.channelStatus.status=Il.CHANNEL_STATUS.ONLINE,this.channelStatus.failCount=0,r){case"11":break;case"01":e.emit(pl.NOTICE_LONGPOLL_SOON_RECONNECT);break;case"00":e.emit(pl.NOTICE_LONGPOLL_LONG_RECONNECT)}this.channelStatus.lastRequestTime=t}},{key:"_onChannelFail",value:function(e){var t=this.tim.innerEmitter,n=Date.now();this.channelStatus.status=Il.CHANNEL_STATUS.OFFLINE;var r=n-(0===this.channelStatus.offlineTime?this.channelStatus.lastRequestTime:this.channelStatus.offlineTime);this.channelStatus.offlineTime=n,this.channelStatus.failCount++,ms.log("_onChannelFail count : ".concat(this.channelStatus.failCount,"  time diff: ").concat(r,";")),this.channelStatus.failCount>5&&r<5e3&&(t.emit(pl.NOTICE_LONGPOLL_DISCONNECT),ms.error("Detected notice channel offline, please check your network!"))}}]),t}();function Nd(){return null}var xd=function(){function e(t){sn(this,e),this.tim=t,this.isWX=ja,this.storageQueue=new Map,this.checkTimes=0,this.checkTimer=setInterval(this._onCheckTimer.bind(this),1e3),this._errorTolerantHandle()}return cn(e,[{key:"_errorTolerantHandle",value:function(){!this.isWX&&Is(window.localStorage)&&(this.getItem=Nd,this.setItem=Nd,this.removeItem=Nd,this.clear=Nd)}},{key:"_onCheckTimer",value:function(){if(this.checkTimes++,this.checkTimes%20==0){if(0===this.storageQueue.size)return;this._doFlush()}}},{key:"_doFlush",value:function(){try{var e=1,t=0,n=void 0;try{for(var r,o=this.storageQueue[Symbol.iterator]();!(e=(r=o.next()).done);e=1){var i=bn(r.value,2),a=i[0],s=i[1];this.isWX?wx.setStorageSync(this._getKey(a),s):localStorage.setItem(this._getKey(a),JSON.stringify(s))}}catch(c){t=1,n=c}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this.storageQueue.clear()}catch(pm){ms.warn("Storage._doFlush error",pm)}}},{key:"_getPrefix",value:function(){var e=this.tim.loginInfo,t=e.SDKAppID,n=e.identifier;return"TIM_".concat(t,"_").concat(n,"_")}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var n=t?this._getKey(e):e;return this.isWX?wx.getStorageSync(n):JSON.parse(localStorage.getItem(n))}catch(pm){ms.warn("Storage.getItem error:",pm)}}},{key:"setItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(n){var o=r?this._getKey(e):e;this.isWX?wx.setStorageSync(o,t):localStorage.setItem(o,JSON.stringify(t))}else this.storageQueue.set(e,t)}},{key:"clear",value:function(){try{this.isWX?wx.clearStorageSync():localStorage.clear()}catch(pm){ms.warn("Storage.clear error:",pm)}}},{key:"removeItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var n=t?this._getKey(e):e;this.isWX?wx.removeStorageSync(n):localStorage.removeItem(n)}catch(pm){ms.warn("Storage.removeItem error:",pm)}}},{key:"getSize",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"b";try{var r={size:0,limitSize:5242880,unit:n};if(Object.defineProperty(r,"leftSize",{enumerable:1,get:function(){return r.limitSize-r.size}}),this.isWX&&(r.limitSize=1024*wx.getStorageInfoSync().limitSize),e)r.size=JSON.stringify(this.getItem(e)).length+this._getKey(e).length;else if(this.isWX){var o=wx.getStorageInfoSync(),i=o.keys;i.forEach((function(e){r.size+=JSON.stringify(wx.getStorageSync(e)).length+t._getKey(e).length}))}else for(var a in localStorage)localStorage.hasOwnProperty(a)&&(r.size+=localStorage.getItem(a).length+a.length);return this._convertUnit(r)}catch(pm){ms.warn("Storage.getSize error:",pm)}}},{key:"_convertUnit",value:function(e){var t={},n=e.unit;for(var r in t.unit=n,e)"number"==typeof e[r]&&("kb"===n.toLowerCase()?t[r]=Math.round(e[r]/1024):"mb"===n.toLowerCase()?t[r]=Math.round(e[r]/1024/1024):t[r]=e[r]);return t}},{key:"_getKey",value:function(e){return"".concat(this._getPrefix()).concat(e)}},{key:"reset",value:function(){this._doFlush(),this.checkTimes=0}}]),e}(),Ld=n((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||0}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=0)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return 0;var u,c,l=this._events[s],p=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,1),p){case 1:return l.fn.call(l.context),1;case 2:return l.fn.call(l.context,t),1;case 3:return l.fn.call(l.context,t,r),1;case 4:return l.fn.call(l.context,t,r,o),1;case 5:return l.fn.call(l.context,t,r,o,i),1;case 6:return l.fn.call(l.context,t,r,o,i,a),1}for(c=1,u=new Array(p-1);c<p;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,1),p){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,o);break;default:if(!u)for(f=1,u=new Array(p-1);f<p;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return 1},s.prototype.on=function(e,t,n){return i(this,e,t,n,0)},s.prototype.once=function(e,t,n){return i(this,e,t,n,1)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||o&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})),Pd=function(e){var t,n,r,o,i;return Ks(e.context)?(t="",n=0,r=0,o=0,i=1):(t=e.context.a2Key,n=e.context.tinyID,r=e.context.SDKAppID,o=e.context.contentType,i=e.context.apn),{platform:al,websdkappid:il,v:ol,a2:t,tinyid:n,sdkappid:r,contentType:o,apn:i,reqtime:function(){return+new Date}}},kd=function(){function e(t){sn(this,e),this.isReady=0,this.tim=t,this.context=t.context,this._initList(),this._updateWhenCTXIsReady()}return cn(e,[{key:"_updateWhenCTXIsReady",value:function(){this.tim.innerEmitter.on(pl.CONTEXT_UPDATED,this.update,this),this.tim.innerEmitter.on(pl.CONTEXT_RESET,this.reset,this)}},{key:"update",value:function(e){var t=e.context;this.context=t,this._initList()}},{key:"reset",value:function(e){this.context=e.data,this._initList()}},{key:"get",value:function(e){var t=e.name,n=e.action,r=e.param,o=e.tjgID;if(void 0===this.config[t])throw new rl({code:el.NETWORK_PACKAGE_UNDEFINED,message:"".concat(tl.NETWORK_PACKAGE_UNDEFINED,": PackageConfig.").concat(t)});if(void 0===this.config[t][n])throw new rl({code:el.NETWORK_PACKAGE_UNDEFINED,message:"".concat(tl.NETWORK_PACKAGE_UNDEFINED,": PackageConfig.").concat(t,".").concat(n)});var i=function e(t){if(0===Object.getOwnPropertyNames(t).length)return Object.create(null);var n=Array.isArray(t)?[]:Object.create(null),r="";for(var o in t)null!==t[o]?void 0!==t[o]?(r=an(t[o]),["string","number","function","boolean"].indexOf(r)>=0?n[o]=t[o]:n[o]=e(t[o])):n[o]=void 0:n[o]=null;return n}(this.config[t][n]);return i.requestData=this._initRequestData(r,i),i.encode=this._initEncoder(i),i.decode=this._initDecoder(i),o&&(i.queryString.tjg_id=o),i}},{key:"set",value:function(e){var t=e.key,n=e.value;if(0!=!!t){var r=t.split(".");r.length<=0||function e(t,n,r,o){var i=n[r];"object"===an(t[i])?e(t[i],n,r+1,o):t[i]=o}(this.config,r,0,n)}}},{key:"_initList",value:function(){var e;this.config={},this.config.accessLayer=(e=this.tim,{create:null,query:{serverName:cl.NAME.WEB_IM,cmd:cl.CMD.ACCESS_LAYER,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:{platform:al,identifier:e.loginInfo.identifier,usersig:e.loginInfo.userSig,contentType:e.loginInfo.contentType,apn:null!==e.context?e.context.apn:1,websdkappid:il,v:ol},requestData:{}},update:null,delete:null}),this.config.login=function(e){return{create:null,query:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.LOGIN,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:{websdkappid:il,v:ol,platform:al,identifier:e.loginInfo.identifier,usersig:e.loginInfo.userSig,sdkappid:e.loginInfo.SDKAppID,accounttype:e.loginInfo.accountType,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:+new Date/1e3},requestData:{state:"Online"},keyMaps:{request:{tinyID:"tinyId"},response:{TinyId:"tinyID"}}},update:null,delete:null}}(this.tim),this.config.logout=function(e){return{create:null,query:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.LOGOUT_ALL,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:{websdkappid:il,v:ol,platform:al,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:"",sdkappid:null!==e.loginInfo?e.loginInfo.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:"",reqtime:+new Date/1e3},requestData:{}},update:null,delete:null}}(this.tim),this.config.longPollLogout=function(e){return{create:null,query:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.LOGOUT_LONG_POLL,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:{websdkappid:il,v:ol,platform:al,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return Date.now()}},requestData:{longPollID:""},keyMaps:{request:{longPollID:"LongPollingId"}}},update:null,delete:null}}(this.tim),this.config.profile=function(e){var t=Pd(e),n=cl.NAME.PROFILE,r=cl.CHANNEL.XHR,o=ul,i=[];for(var a in Zl)Object.prototype.hasOwnProperty.call(Zl,a)&&i.push(Zl[a]);return{query:{serverName:n,cmd:cl.CMD.PORTRAIT_GET,channel:r,protocol:o,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[],tagList:i}},update:{serverName:n,cmd:cl.CMD.PORTRAIT_SET,channel:r,protocol:o,method:"POST",queryString:t,requestData:{fromAccount:"",profileItem:[{tag:Zl.NICK,value:""},{tag:Zl.GENDER,value:""},{tag:Zl.ALLOWTYPE,value:""},{tag:Zl.AVATAR,value:""}]}}}}(this.tim),this.config.group=function(e){var t={websdkappid:il,v:ol,platform:al,a2:null!==e.context&&e.context.a2Key?e.context.a2Key:void 0,tinyid:null!==e.context&&e.context.tinyID?e.context.tinyID:void 0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.context.accountType:0},n={request:{ownerID:"Owner_Account",userID:"Member_Account",newOwnerID:"NewOwner_Account",maxMemberNum:"MaxMemberCount",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData",groupCustomFieldFilter:"AppDefinedDataFilter_Group",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember",messageRemindType:"MsgFlag",userIDList:"MemberList",groupIDList:"GroupIdList",applyMessage:"ApplyMsg",muteTime:"ShutUpTime",joinOption:"ApplyJoinOption"},response:{GroupIdList:"groups",MsgFlag:"messageRemindType",AppDefinedData:"groupCustomField",AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_Group:"groupCustomFieldFilter",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",InfoSeq:"infoSequence",MemberList:"members",GroupInfo:"groups",ShutUpUntil:"muteUntil",ApplyJoinOption:"joinOption"}};return{create:{serverName:cl.NAME.GROUP,cmd:cl.CMD.CREATE_GROUP,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{type:Jt.GRP_PRIVATE,name:void 0,groupID:void 0,ownerID:e.loginInfo.identifier,introduction:void 0,notification:void 0,avatar:void 0,maxMemberNum:void 0,joinOption:void 0,memberList:void 0,groupCustomField:void 0},keyMaps:n},list:{serverName:cl.NAME.GROUP,cmd:cl.CMD.GET_JOINED_GROUPS,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{userID:e.loginInfo.identifier,limit:void 0,offset:void 0,groupType:void 0,responseFilter:void 0},keyMaps:n},query:{serverName:cl.NAME.GROUP,cmd:cl.CMD.GET_GROUP_INFO,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupIDList:void 0,responseFilter:void 0},keyMaps:n},getGroupMemberProfile:{serverName:cl.NAME.GROUP,cmd:cl.CMD.GET_GROUP_MEMBER_INFO,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,userIDList:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0},keyMaps:{request:fn({},n.request,{userIDList:"Member_List_Account"}),response:n.response}},getGroupMemberList:{serverName:cl.NAME.GROUP,cmd:cl.CMD.GET_GROUP_MEMBER_LIST,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,limit:0,offset:0,memberRoleFilter:void 0,memberInfoFilter:void 0},keyMaps:n},quitGroup:{serverName:cl.NAME.GROUP,cmd:cl.CMD.QUIT_GROUP,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0}},changeGroupOwner:{serverName:cl.NAME.GROUP,cmd:cl.CMD.CHANGE_GROUP_OWNER,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,newOwnerID:void 0},keyMaps:n},destroyGroup:{serverName:cl.NAME.GROUP,cmd:cl.CMD.DESTROY_GROUP,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0}},updateGroupProfile:{serverName:cl.NAME.GROUP,cmd:cl.CMD.MODIFY_GROUP_INFO,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,name:void 0,introduction:void 0,notification:void 0,avatar:void 0,maxMemberNum:void 0,joinOption:void 0,groupCustomField:void 0},keyMaps:{request:fn({},n.request,{groupCustomField:"AppDefinedData"}),response:n.response}},modifyGroupMemberInfo:{serverName:cl.NAME.GROUP,cmd:cl.CMD.MODIFY_GROUP_MEMBER_INFO,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,userID:void 0,messageRemindType:void 0,nameCard:void 0,role:void 0,memberCustomField:void 0,muteTime:void 0},keyMaps:n},addGroupMember:{serverName:cl.NAME.GROUP,cmd:cl.CMD.ADD_GROUP_MEMBER,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,silence:void 0,userIDList:void 0},keyMaps:n},deleteGroupMember:{serverName:cl.NAME.GROUP,cmd:cl.CMD.DELETE_GROUP_MEMBER,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,userIDList:void 0,reason:void 0},keyMaps:{request:{userIDList:"MemberToDel_Account"}}},searchGroupByID:{serverName:cl.NAME.GROUP,cmd:cl.CMD.SEARCH_GROUP_BY_ID,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupIDList:void 0,responseFilter:{groupBasePublicInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","CreateTime","Owner_Account","LastInfoTime","LastMsgTime","NextMsgSeq","MemberNum","MaxMemberNum","ApplyJoinOption"]}},keyMaps:{request:{groupIDList:"GroupIdList"}}},applyJoinGroup:{serverName:cl.NAME.GROUP,cmd:cl.CMD.APPLY_JOIN_GROUP,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0},keyMaps:n},applyJoinAVChatRoom:{serverName:cl.NAME.BIG_GROUP_NO_AUTH,cmd:cl.CMD.APPLY_JOIN_GROUP,channel:cl.CHANNEL.XHR,protocol:ul,queryString:{websdkappid:il,v:ol,platform:al,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.context.accountType:0},requestData:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0},keyMaps:n},handleApplyJoinGroup:{serverName:cl.NAME.GROUP,cmd:cl.CMD.HANDLE_APPLY_JOIN_GROUP,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{groupID:void 0,applicant:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMaps:{request:{applicant:"Applicant_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"},response:{MsgKey:"messageKey"}}},deleteGroupSystemNotice:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.DELETE_GROUP_SYSTEM_MESSAGE,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{messageListToDelete:void 0},keyMaps:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}},getGroupPendency:{serverName:cl.NAME.GROUP,cmd:cl.CMD.GET_GROUP_PENDENCY,channel:cl.CHANNEL.XHR,protocol:ul,queryString:t,requestData:{startTime:void 0,limit:void 0,handleAccount:void 0},keyMaps:{request:{handleAccount:"Handle_Account"}}}}}(this.tim),this.config.longPollID=function(e){return{create:{},query:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.GET_LONG_POLL_ID,channel:cl.CHANNEL.XHR,protocol:ul,queryString:{websdkappid:il,v:ol,platform:al,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:+new Date/1e3},requestData:{},keyMaps:{response:{LongPollingId:"longPollingID"}}},update:{},delete:{}}}(this.tim),this.config.longPoll=function(e){var t={websdkappid:il,v:ol,platform:al,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.loginInfo.accountType:0,apn:null!==e.context?e.context.apn:1,reqtime:Math.ceil(+new Date/1e3)};return{create:{},query:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.LONG_POLL,channel:cl.CHANNEL.AUTO,protocol:ul,queryString:t,requestData:{timeout:null,cookie:{notifySeq:0,noticeSeq:0,longPollingID:0}},keyMaps:{response:{C2cMsgArray:"C2CMessageArray",GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",C2cNotifyMsgArray:"C2CNotifyMessageArray",ClientSeq:"clientSequence",MsgPriority:"messagePriority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension"}}},update:{},delete:{}}}(this.tim),this.config.applyC2C=function(e){var t=Pd(e),n=cl.NAME.FRIEND,r=cl.CHANNEL.XHR,o=ul;return{create:{serverName:n,cmd:cl.CMD.FRIEND_ADD,channel:r,protocol:o,queryString:t,requestData:{fromAccount:"",addFriendItem:[]}},get:{serverName:n,cmd:cl.CMD.GET_PENDENCY,channel:r,protocol:o,queryString:t,requestData:{fromAccount:"",pendencyType:"Pendency_Type_ComeIn"}},update:{serverName:n,cmd:cl.CMD.RESPONSE_PENDENCY,channel:r,protocol:o,queryString:t,requestData:{fromAccount:"",responseFriendItem:[]}},delete:{serverName:n,cmd:cl.CMD.DELETE_PENDENCY,channel:r,protocol:o,queryString:t,requestData:{fromAccount:"",toAccount:[],pendencyType:"Pendency_Type_ComeIn"}}}}(this.tim),this.config.friend=function(e){var t=Pd(e),n=cl.NAME.FRIEND,r=cl.CHANNEL.XHR,o=ul;return{get:{serverName:n,cmd:cl.CMD.FRIEND_GET_ALL,channel:r,protocol:o,method:"POST",queryString:t,requestData:{fromAccount:"",timeStamp:0,startIndex:0,getCount:100,lastStandardSequence:0,tagList:["Tag_Profile_IM_Nick","Tag_SNS_IM_Remark"]},keyMaps:{request:{},response:{}}},delete:{serverName:n,cmd:cl.CMD.FRIEND_DELETE,channel:r,protocol:o,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[],deleteType:"Delete_Type_Single"}}}}(this.tim),this.config.blacklist=function(e){var t=Pd(e);return{create:{serverName:cl.NAME.FRIEND,cmd:cl.CMD.ADD_BLACKLIST,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[]}},get:{serverName:cl.NAME.FRIEND,cmd:cl.CMD.GET_BLACKLIST,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{fromAccount:"",startIndex:0,maxLimited:30,lastSequence:0}},delete:{serverName:cl.NAME.FRIEND,cmd:cl.CMD.DELETE_BLACKLIST,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[]}},update:{}}}(this.tim),this.config.c2cMessage=function(e){var t={platform:al,websdkappid:il,v:ol,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},n={request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",count:"MaxCnt",lastMessageTime:"LastMsgTime",messageKey:"MsgKey",peerAccount:"Peer_Account",data:"Data",description:"Desc",extension:"Ext",type:"MsgType",content:"MsgContent",sizeType:"Type",uuid:"UUID",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag"},response:{MsgContent:"content",MsgTime:"time",Data:"data",Desc:"description",Ext:"extension",MsgKey:"messageKey",MsgType:"type",MsgBody:"elements",Download_Flag:"downloadFlag"}};return{create:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.SEND_MESSAGE,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,toAccount:"",msgTimeStamp:Math.ceil(+new Date/1e3),msgSeq:0,msgRandom:0,msgBody:[]},keyMaps:n},query:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.GET_C2C_ROAM_MESSAGES,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{peerAccount:"",count:15,lastMessageTime:0,messageKey:""},keyMaps:n},update:null,delete:null}}(this.tim),this.config.groupMessage=function(e){var t={platform:al,websdkappid:il,v:ol,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},n={request:{to:"GroupId",extension:"Ext",data:"Data",description:"Desc",random:"Random",sequence:"ReqMsgSeq",count:"ReqMsgNumber",type:"MsgType",content:"MsgContent",elements:"MsgBody",sizeType:"Type",uuid:"UUID",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",clientSequence:"ClientSeq"},response:{Random:"random",MsgTime:"time",MsgSeq:"sequence",ReqMsgSeq:"sequence",RspMsgList:"messageList",IsPlaceMsg:"isPlaceMessage",IsSystemMsg:"isSystemMessage",ToGroupId:"to",EnumFrom_AccountType:"fromAccountType",EnumTo_AccountType:"toAccountType",GroupCode:"groupCode",MsgFlag:"messageRemindType",MsgPriority:"messagePriority",MsgBody:"elements",MsgType:"type",MsgContent:"content",IsFinished:"complete",Download_Flag:"downloadFlag",ClientSeq:"clientSequence"}};return{create:{serverName:cl.NAME.GROUP,cmd:cl.CMD.SEND_GROUP_MESSAGE,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{groupID:"",fromAccount:e.loginInfo.identifier,random:0,clientSequence:0,msgBody:[]},keyMaps:n},query:{serverName:cl.NAME.GROUP,cmd:cl.CMD.GET_GROUP_ROAM_MESSAGES,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{groupID:"",count:15,sequence:""},keyMaps:n},update:null,delete:null}}(this.tim),this.config.conversation=function(e){var t={platform:al,websdkappid:il,v:ol,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1};return{query:{serverName:cl.NAME.RECENT_CONTACT,cmd:cl.CMD.GET_CONVERSATION_LIST,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,count:0},keyMaps:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq"}}},pagingQuery:{serverName:cl.NAME.RECENT_CONTACT,cmd:cl.CMD.PAGING_GET_CONVERSATION_LIST,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{fromAccount:void 0,timeStamp:void 0,orderType:void 0},keyMaps:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq"}}},delete:{serverName:cl.NAME.RECENT_CONTACT,cmd:cl.CMD.DELETE_CONVERSATION,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,toAccount:void 0,type:1,toGroupID:void 0},keyMaps:{request:{toGroupID:"ToGroupid"}}},setC2CMessageRead:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.SET_C2C_MESSAGE_READ,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{C2CMsgReaded:void 0},keyMaps:{request:{lastMessageTime:"LastedMsgTime"}}},setGroupMessageRead:{serverName:cl.NAME.GROUP,cmd:cl.CMD.SET_GROUP_MESSAGE_READ,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{groupID:void 0,messageReadSeq:void 0},keyMaps:{request:{messageReadSeq:"MsgReadedSeq"}}}}}(this.tim),this.config.syncMessage=function(e){var t={platform:al,websdkappid:il,v:ol,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return[Math.ceil(+new Date),Math.random()].join("")}};return{create:null,query:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.GET_MESSAGES,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{cookie:"",syncFlag:0,needAbstract:1},keyMaps:{request:{fromAccount:"From_Account",toAccount:"To_Account",from:"From_Account",to:"To_Account",time:"MsgTimeStamp",sequence:"MsgSeq",random:"MsgRandom",elements:"MsgBody"},response:{MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",ClientSeq:"clientSequence",MsgSeq:"sequence",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",ToGroupId:"groupID",MsgKey:"messageKey",GroupTips:"groupTips",MsgBody:"elements",MsgType:"type",C2CRemainingUnreadCount:"C2CRemainingUnreadList"}}},update:null,delete:null}}(this.tim),this.config.AVChatRoom=function(e){return{startLongPoll:{serverName:cl.NAME.BIG_GROUP_LONG_POLLING_NO_AUTH,cmd:cl.CMD.AVCHATROOM_LONG_POLL,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:{websdkappid:il,v:ol,platform:al,sdkappid:e.loginInfo.SDKAppID,accounttype:"792",apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},requestData:{USP:1,startSeq:1,holdTime:90,key:void 0},keyMaps:{request:{USP:"USP"},response:{ToGroupId:"groupID"}}}}}(this.tim),this.config.cosUpload=function(e){var t={platform:al,websdkappid:il,v:ol,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return Date.now()}};return{create:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.FILE_UPLOAD,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{appVersion:"2.1",fromAccount:"",toAccount:"",sequence:0,time:function(){return Math.ceil(Date.now()/1e3)},random:function(){return Rs()},fileStrMd5:"",fileSize:"",serverVer:1,authKey:"",busiId:1,pkgFlag:1,sliceOffset:0,sliceSize:0,sliceData:"",contentType:"application/x-www-form-urlencoded"},keyMaps:{request:{},response:{}}},update:null,delete:null}}(this.tim),this.config.cosSig=function(e){var t={sdkappid:function(){return e.loginInfo.SDKAppID},identifier:function(){return e.loginInfo.identifier},userSig:function(){return e.context.userSig}};return{create:null,query:{serverName:cl.NAME.IM_COS_SIGN,cmd:cl.CMD.COS_SIGN,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:t,requestData:{cmd:"open_im_cos_svc",subCmd:"get_cos_token",duration:300,version:1},keyMaps:{request:{userSig:"usersig",subCmd:"sub_cmd",cmd:"cmd",duration:"duration",version:"version"},response:{expired_time:"expiredTime",bucket_name:"bucketName",session_token:"sessionToken",tmp_secret_id:"secretId",tmp_secret_key:"secretKey"}}},update:null,delete:null}}(this.tim),this.config.bigDataHallwayAuthKey=function(e){return{create:null,query:{serverName:cl.NAME.OPEN_IM,cmd:cl.CMD.BIG_DATA_HALLWAY_AUTH_KEY,channel:cl.CHANNEL.XHR,protocol:ul,method:"POST",queryString:{websdkappid:il,v:ol,platform:al,sdkappid:e.loginInfo.SDKAppID,accounttype:"792",apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},requestData:{}}}}(this.tim),this.config.ssoEventStat=function(e){var t=null;return null!==e.context&&(t={sdkappid:e.context.SDKAppID,reqtime:Math.ceil(+new Date/1e3)}),{create:{serverName:cl.NAME.IM_OPEN_STAT,cmd:cl.CMD.TIM_WEB_REPORT,channel:cl.CHANNEL.AUTO,protocol:ul,queryString:t,requestData:{table:"",report:[]},keyMaps:{request:{table:"table",report:"report",SDKAppID:"sdkappid",version:"version",tinyID:"tinyid",userID:"userid",platform:"platform",method:"method",time:"time",start:"start",end:"end",cost:"cost",status:"status",codeint:"code",message:"message",pointer:"pointer",text:"text",msgType:"msgtype",networkType:"networktype",startts:"startts",endts:"endts",timespan:"timespan"}}},query:{},update:{},delete:{}}}(this.tim),this.config.ssoSumStat=function(e){var t=null;return null!==e.context&&(t={sdkappid:e.context.SDKAppID,reqtime:Math.ceil(+new Date/1e3)}),{create:{serverName:cl.NAME.IM_OPEN_STAT,cmd:cl.CMD.TIM_WEB_REPORT,channel:cl.CHANNEL.AUTO,protocol:ul,queryString:t,requestData:{table:"",report:[]},keyMaps:{request:{table:"table",report:"report",SDKAppID:"sdkappid",version:"version",tinyID:"tinyid",userID:"userid",item:"item",lpID:"lpid",platform:"platform",networkType:"networktype",total:"total",successRate:"successrate",avg:"avg",timespan:"timespan",time:"time"}}},query:{},update:{},delete:{}}}(this.tim)}},{key:"_initRequestData",value:function(e,t){if(void 0===e)return gl(t.requestData,this._getRequestMap(t),this.tim);var n=t.requestData,r=Object.create(null);for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){if(r[o]="function"==typeof n[o]?n[o]():n[o],void 0===e[o])continue;r[o]=e[o]}return gl(r,this._getRequestMap(t),this.tim)}},{key:"_getRequestMap",value:function(e){if(e.keyMaps&&e.keyMaps.request&&Object.keys(e.keyMaps.request).length>0)return e.keyMaps.request}},{key:"_initEncoder",value:function(e){switch(e.protocol){case ul:return function(e){if("string"===an(e))try{return JSON.parse(e)}catch(pm){return e}return e};case sl:return function(e){return e};default:return function(e){return ms.warn("PackageConfig._initEncoder(), unknow response type, data: ",JSON.stringify(e)),e}}}},{key:"_initDecoder",value:function(e){switch(e.protocol){case ul:return function(e){if("string"===an(e))try{return JSON.parse(e)}catch(pm){return e}return e};case sl:return function(e){return e};default:return function(e){return ms.warn("PackageConfig._initDecoder(), unknow response type, data: ",e),e}}}}]),e}(),Rd={C2CMessageArray:1,groupMessageArray:1,groupTips:1,C2CNotifyMessageArray:1,profileModify:1,friendListMod:1},Gd=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e)))._initialization(),n}return hn(t,wl),cn(t,[{key:"_initialization",value:function(){this._syncOffset="",this._syncNoticeList=[],this._syncEventArray=[],this._syncMessagesIsRunning=0,this._syncMessagesFinished=0,this._isLongPoll=0,this._longPollID=0,this._noticeSequence=0,this._initializeListener(),this._runLoop=null,this._initShuntChannels()}},{key:"_initShuntChannels",value:function(){this._shuntChannels=Object.create(null),this._shuntChannels.C2CMessageArray=this._C2CMessageArrayChannel.bind(this),this._shuntChannels.groupMessageArray=this._groupMessageArrayChannel.bind(this),this._shuntChannels.groupTips=this._groupTipsChannel.bind(this),this._shuntChannels.C2CNotifyMessageArray=this._C2CNotifyMessageArrayChannel.bind(this),this._shuntChannels.profileModify=this._profileModifyChannel.bind(this),this._shuntChannels.friendListMod=this._friendListModChannel.bind(this)}},{key:"_C2CMessageArrayChannel",value:function(e,t,n){this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_NEW_C2C_NOTICE,{data:t,type:n})}},{key:"_groupMessageArrayChannel",value:function(e,t,n){this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_NEW_GROUP_MESSAGES,{data:t})}},{key:"_groupTipsChannel",value:function(e,t,n){switch(e){case 4:this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_NEW_GROUP_TIPS,{data:t});break;case 5:this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_NEW_GROUP_NOTICE,{data:{groupSystemNotices:t,type:n}});break;default:ms.warn("未知的群事件类型 Event:".concat(e))}}},{key:"_C2CNotifyMessageArrayChannel",value:function(e,t,n){this._isKickedoutNotice(t)?this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_MUTIPLE_DEVICE_KICKED_OUT):this._isSysCmdMsgNotify(t)&&this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_RECEIVE_SYSTEM_ORDERS)}},{key:"_profileModifyChannel",value:function(e,t,n){this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_PROFILE_MODIFIED,{data:t})}},{key:"_friendListModChannel",value:function(e,t,n){this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_NEW_FRIEND_MESSAGES,{data:t})}},{key:"_dispatchNotice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"poll";if(As(e))for(var n=this.tim.innerEmitter,r=null,o=null,i="",a="",s="",u=0,c=0,l=e.length;c<l;c++)u=(r=e[c]).event,i=Object.keys(r).find((function(e){return void 0!==Rd[e]})),Ts(this._shuntChannels[i])?(o=r[i],this._updatenoticeSequence(o),this._shuntChannels[i](u,o,t)):(this._updatenoticeSequence(),a="".concat(el.NOTICE_RUNLOOP_UNEXPECTED_CONDITION),s="".concat(tl.NOTICE_RUNLOOP_UNEXPECTED_CONDITION,": ").concat(u,", ").concat(i),n.emit(pl.ERROR_DETECTED,new rl({code:a,message:s,data:{payloadName:i,event:u}})),a="",s="")}},{key:"getLongPollID",value:function(){return this._longPollID}},{key:"_IAmReady",value:function(){this.triggerReady()}},{key:"reset",value:function(){this._noticeSequence=0,this._resetSync(),this.closeNoticeChannel()}},{key:"_resetSync",value:function(){this._syncOffset="",this._syncNoticeList=[],this._syncEventArray=[],this._syncMessagesIsRunning=0,this._syncMessagesFinished=0}},{key:"_setNoticeSeqInRequestData",value:function(e){e.Cookie.NoticeSeq=this._noticeSequence,this.tim.sumStatController.addTotalCount(Ql.LONG_POLLING)}},{key:"_updatenoticeSequence",value:function(e){if(e){var t=e[e.length-1].noticeSequence;!t||"number"!=typeof t||t<this._noticeSequence?this._noticeSequence++:this._noticeSequence=t}else this._noticeSequence++}},{key:"_initializeListener",value:function(){var e=this.tim.innerEmitter;e.on(pl.NOTICE_LONGPOLL_RESTART,this.restartNoticeChannel,this),e.on(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._startSyncMessages,this),e.on(pl.SYNC_MESSAGE_C2C_FINISHED,this.openNoticeChannel,this),e.on(pl.SIGN_LOGOUT_SUCCESS,this.closeNoticeChannel,this),e.on(pl.NOTICE_LONGPOLL_SOON_RECONNECT,this._onChannelReconnect,this),e.on(pl.NOTICE_LONGPOLL_DISCONNECT,this._onChannelDisconnected,this)}},{key:"openNoticeChannel",value:function(){ms.log("NotificationController.openNoticeChannel"),this._getLongPollID()}},{key:"closeNoticeChannel",value:function(){ms.log("NotificationController.closeNoticeChannel()"),(this._runLoop instanceof dh||this._runLoop instanceof mh)&&(this._runLoop.abort(),this._runLoop.stop()),this._longPollID=0,this._isLongPoll=0,this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_STOPPED),this.tim.outerEmitter.emit(Wt.NOTICE_LONGPOLL_STOPPED)}},{key:"restartNoticeChannel",value:function(){this.closeNoticeChannel(),this._syncMessagesFinished=0,this._startSyncMessages()}},{key:"_getLongPollID",value:function(){var e=this,t=this.tim,n=t.innerEmitter,r=t.connectionController;if(0===this._longPollID){var o=this.createPackage({name:"longPollID",action:"query"});r.request(o).then((function(t){t.data.errorCode===Il.REQUEST.SUCCESS?e._onGetLongPollIDSuccess({data:t.data.longPollingID}):e._onGetLongPollIDFail({data:t.data})})).catch((function(e){n.emit(pl.NOTICE_LONGPOLL_GETID_FAIL,e)}))}else this._onGetLongPollIDSuccess({data:this._longPollID})}},{key:"_onGetLongPollIDSuccess",value:function(e){this.tim.packageConfig.set({key:"long_poll_logout.query.requestData.longPollingID",value:e.data}),this.tim.packageConfig.set({key:"longPoll.query.requestData.cookie.longPollingID",value:e.data}),this._longPollID=e.data,this._startLongPoll(),this._IAmReady(),this.tim.sumStatController.recordLongPollingID(this._longPollID)}},{key:"_onGetLongPollIDFail",value:function(e){ms.warn("Notification._onGetLongPollIDFail",e)}},{key:"_startLongPoll",value:function(){if(1!=this._isLongPoll){ms.log("NotificationController._startLongPoll...");var e=this.tim,t=e.connectionController,n=e.innerEmitter,r=this.createPackage({name:"longPoll",action:"query"});this._isLongPoll=1,n.emit(pl.NOTICE_LONGPOLL_START,{data:Date.now()}),this._runLoop=t.createRunLoop({pack:r,before:this._setNoticeSeqInRequestData.bind(this),success:this._onNoticeReceived.bind(this),fail:this._onNoticeFail.bind(this)}),this._runLoop.start()}else ms.log("NotificationController._startLongPoll is running...")}},{key:"_onChannelReconnect",value:function(e){this.closeNoticeChannel(),this.syncMessage()}},{key:"_onChannelDisconnected",value:function(){}},{key:"_onNoticeReceived",value:function(e){var t=this.tim,n=t.innerEmitter,r=t.statusController,o=e.data,i=!r.getChannelStatus();if(n.emit(pl.NOTICE_LONGPOLL_REQUEST_ARRIVED,{data:Date.now()}),o.errorCode!==Il.REQUEST.SUCCESS){var a=new $l;if(a.setMethod(ep.LONG_POLLING_ERROR).setStart(),a.setMessage(o.errorInfo).setCode(o.errorCode).setNetworkType(this.getNetworkType()).setEnd(),o.errorCode===el.LONG_POLL_KICK_OUT)return n.emit(pl.NOTICE_LONGPOLL_KICKED_OUT),ms.log("NotificationController._onNoticeReceived(), longPollingID was kicked"),void this.closeNoticeChannel();ms.log("NotificationController._onNoticeReceived(), error: ".concat(o.errorCode,", errorInfo: ").concat(o.errorInfo)),n.emit(pl.ERROR_DETECTED,{code:o.errorCode,message:o.errorInfo})}this.tim.sumStatController.addSuccessCount(Ql.LONG_POLLING),this.tim.sumStatController.addCost(Ql.LONG_POLLING,o.timecost),e.data.eventArray&&1!=i&&this._dispatchNotice(e.data.eventArray)}},{key:"_onNoticeFail",value:function(e){var t=new $l;t.setMethod(ep.LONG_POLLING_ERROR).setStart(),this.probeNetwork((function(n,r){t.setError(e.error,n,r).setEnd()})),this.tim.innerEmitter.emit(pl.ERROR_DETECTED,e.error),this.tim.innerEmitter.emit(pl.NOTICE_LONGPOLL_REQUEST_NOT_ARRIVED,{data:Date.now()})}},{key:"_isKickedoutNotice",value:function(e){return e[0].hasOwnProperty("kickoutMsgNotify")?1:0}},{key:"_isSysCmdMsgNotify",value:function(e){if(!e[0])return 0;var t=e[0];return Object.prototype.hasOwnProperty.call(t,"sysCmdMsgNotify")?1:0}},{key:"_startSyncMessages",value:function(e){1!=this._syncMessagesFinished&&this.syncMessage()}},{key:"syncMessage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.tim,o=r.connectionController,i=r.innerEmitter;this._syncMessagesIsRunning=1;var a=this.createPackage({name:"syncMessage",action:"query",param:{cookie:t,syncFlag:n}});o.request(a).then((function(t){var n=t.data;switch(Od(n.cookie,n.syncFlag)){case"00":case"01":i.emit(pl.ERROR_DETECTED,{code:el.NOTICE_RUNLOOP_OFFSET_LOST,message:tl.NOTICE_RUNLOOP_OFFSET_LOST});break;case"10":case"11":n.eventArray&&e._dispatchNotice(n.eventArray,"sync"),e._syncNoticeList=e._syncNoticeList.concat(n.messageList),i.emit(pl.SYNC_MESSAGE_C2C_PROCESSING,{data:n.messageList,C2CRemainingUnreadList:n.C2CRemainingUnreadList}),e._syncOffset=n.cookie,e.syncMessage(n.cookie,n.syncFlag);break;case"12":n.eventArray&&e._dispatchNotice(n.eventArray,"sync"),e._syncNoticeList=e._syncNoticeList.concat(n.messageList),i.emit(pl.SYNC_MESSAGE_C2C_FINISHED,{data:n.messageList,C2CRemainingUnreadList:n.C2CRemainingUnreadList}),e._syncOffset=n.cookie,e._syncNoticeList=[],e._syncMessagesIsRunning=0,e._syncMessagesFinished=1}})).catch((function(t){e._syncMessagesIsRunning=0,ms.error("NotificationController.syncMessage() failed, error:",JSON.stringify(t))}))}}]),t}(),jd=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e)))._initializeListener(),n}return hn(t,wl),cn(t,[{key:"_initializeMembers",value:function(e){this.expiredTimeLimit=300,this.appid=e.appid||"",this.bucketName=e.bucketName||"",this.expiredTimeOut=e.expiredTimeOut||this.expiredTimeLimit,this.region="ap-shanghai",this.cos=null,this.cosOptions={secretId:e.secretId,secretKey:e.secretKey,sessionToken:e.sessionToken,expiredTime:e.expiredTime},this._initUploaderMethod()}},{key:"_expiredTimer",value:function(){var e=this,t=setInterval((function(){Math.ceil(Date.now()/1e3)>=e.cosOptions.expiredTime-20&&(e._isReady=0,e._getAuthorizationKey(),clearInterval(t))}),1e4)}},{key:"_initializeListener",value:function(){this.tim.innerEmitter.on(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initialization,this)}},{key:"_initialization",value:function(){this._initCOSSDKPlugin(),this.COSSDK?(this._initializeMembers({}),this._getAuthorizationKey()):ms.warn("UploadController._initialization 没有检测到上传插件，将无法发送图片、音频、视频、文件等类型的消息。详细请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#registerPlugin")}},{key:"_getAuthorizationKey",value:function(){var e=this,t=Math.ceil(Date.now()/1e3),n=this.createPackage({name:"cosSig",action:"query",param:{duration:this.expiredTimeLimit}});this.tim.connectionController.request(n).then((function(n){var r=n.data.expiredTime-t;n.data.expiredTimeOut=r,ms.log("UploadController._getAuthorizationKey timeout=".concat(r,"s")),e._initializeMembers(n.data),e._expiredTimer(),e._initUploaderMethod()})).catch((function(e){ms.warn("UploadController._getAuthorizationKey. error:",e)}))}},{key:"_initCOSSDKPlugin",value:function(){var e=ja?"cos-wx-sdk":"cos-js-sdk";this.COSSDK=this.tim.getPlugin(e)}},{key:"_initUploaderMethod",value:function(){var e=this;this.appid&&(this.cos=ja?new this.COSSDK({ForcePathStyle:1,getAuthorization:this._getAuthorization.bind(this)}):new this.COSSDK({getAuthorization:this._getAuthorization.bind(this)}),this._cosUploadMethod=ja?function(t,n){e.cos.postObject(t,n)}:function(t,n){e.cos.uploadFiles(t,n)},this.triggerReady())}},{key:"_getAuthorization",value:function(e,t){t({TmpSecretId:this.cosOptions.secretId,TmpSecretKey:this.cosOptions.secretKey,XCosSecurityToken:this.cosOptions.sessionToken,ExpiredTime:this.cosOptions.expiredTime})}},{key:"uploadImage",value:function(e){if(!e.file)return Jl(new rl({code:el.MESSAGE_IMAGE_SELECT_FILE_FIRST,message:tl.MESSAGE_IMAGE_SELECT_FILE_FIRST}));var t=this._checkImageType(e.file);if(1!=t)return t;var n=this._checkImageMime(e.file);if(1!=n)return n;var r=this._checkImageSize(e.file);return 1!=r?r:this.upload(e)}},{key:"_checkImageType",value:function(e){var t="";return t=ja?e.url.slice(e.url.lastIndexOf(".")+1):e.files[0].name.slice(e.files[0].name.lastIndexOf(".")+1),bh.indexOf(t.toLowerCase())>=0?1:Jl(new rl({coe:el.MESSAGE_IMAGE_TYPES_LIMIT,message:tl.MESSAGE_IMAGE_TYPES_LIMIT}))}},{key:"_checkImageMime",value:function(e){return 1}},{key:"_checkImageSize",value:function(e){var t=0;return 0===(t=ja?e.size:e.files[0].size)?Jl(new rl({code:el.MESSAGE_FILE_IS_EMPTY,message:"".concat(tl.MESSAGE_FILE_IS_EMPTY)})):t<20971520?1:Jl(new rl({coe:el.MESSAGE_IMAGE_SIZE_LIMIT,message:"".concat(tl.MESSAGE_IMAGE_SIZE_LIMIT)}))}},{key:"uploadFile",value:function(e){var t=null;return e.file?e.file.files[0].size>20971520?(t=new rl({code:el.MESSAGE_FILE_SIZE_LIMIT,message:tl.MESSAGE_FILE_SIZE_LIMIT}),Jl(t)):0===e.file.files[0].size?(t=new rl({code:el.MESSAGE_FILE_IS_EMPTY,message:"".concat(tl.MESSAGE_FILE_IS_EMPTY)}),Jl(t)):this.upload(e):(t=new rl({code:el.MESSAGE_FILE_SELECT_FILE_FIRST,message:tl.MESSAGE_FILE_SELECT_FILE_FIRST}),Jl(t))}},{key:"uploadVideo",value:function(e){if(ja)return e.file.videoFile.size>20971520?Jl(new rl({code:el.MESSAGE_VIDEO_SIZE_LIMIT,message:"".concat(tl.MESSAGE_VIDEO_SIZE_LIMIT)})):0===e.file.videoFile.size?Jl(new rl({code:el.MESSAGE_FILE_IS_EMPTY,message:"".concat(tl.MESSAGE_FILE_IS_EMPTY)})):-1===Eh.indexOf(e.file.videoFile.type)?Jl(new rl({code:el.MESSAGE_VIDEO_TYPES_LIMIT,message:"".concat(tl.MESSAGE_VIDEO_TYPES_LIMIT)})):this.handleVideoUpload({file:e.file.videoFile})}},{key:"handleVideoUpload",value:function(e){var t=this;return new Promise((function(n,r){t.upload(e).then((function(e){n(e)})).catch((function(){t.upload(e).then((function(e){n(e)})).catch((function(){r(new rl({code:el.MESSAGE_VIDEO_UPLOAD_FAIL,message:tl.MESSAGE_VIDEO_UPLOAD_FAIL}))}))}))}))}},{key:"uploadAudio",value:function(e){return e.file?e.file.size>20971520?Jl(new rl({code:el.MESSAGE_AUDIO_SIZE_LIMIT,message:"".concat(tl.MESSAGE_AUDIO_SIZE_LIMIT)})):0===e.file.size?Jl(new rl({code:el.MESSAGE_FILE_IS_EMPTY,message:"".concat(tl.MESSAGE_FILE_IS_EMPTY)})):this.upload(e):Jl(new rl({code:el.MESSAGE_AUDIO_UPLOAD_FAIL,message:tl.MESSAGE_AUDIO_UPLOAD_FAIL}))}},{key:"upload",value:function(e){var t=this;if(!Ts(this._cosUploadMethod))return ms.warn("UploadController.upload 没有检测到上传插件，将无法发送图片、音频、视频、文件等类型的消息。详细请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#registerPlugin"),Jl(new rl({code:el.COS_UNDETECTED,message:tl.COS_UNDETECTED}));var n=new $l;n.setMethod(ep.UPLOAD).setStart(),ms.time(Ql.UPLOAD);var r=ja?e.file:e.file.files[0];return new Promise((function(o,i){var a=ja?t._createCosOptionsWXMiniApp(e):t._createCosOptionsWeb(e),s=t;t._cosUploadMethod(a,(function(e,a){var u=Object.create(null);if(a){if(t._isUploadError(a,e))return i(a.files[0].error),ms.warn("UploadController.upload failed, network error:".concat(a.files[0].error.error)),void n.setCode(el.MESSAGE_FILE_UPLOAD_FAIL).setMessage(tl.MESSAGE_FILE_UPLOAD_FAIL).setEnd();u.fileName=r.name,u.fileSize=r.size,u.fileType=r.type.slice(r.type.indexOf("/")+1).toLowerCase(),u.location=ja?a.Location:a.files[0].data.Location;var c=ms.timeEnd(Ql.UPLOAD),l=s._formatFileSize(r.size),p=s._formatSpeed(1e3*r.size/c),f="size=".concat(l,",time=").concat(c,"ms,speed=").concat(p);return ms.log("UploadController.upload success name=".concat(r.name,",").concat(f)),o(u),void n.setCode(0).setNetworkType(t.getNetworkType()).setText(f).setEnd()}n.setCode(el.MESSAGE_FILE_UPLOAD_FAIL).setMessage(tl.MESSAGE_FILE_UPLOAD_FAIL).setEnd(),ms.warn("UploadController.upload failed, error:".concat(e)),i(e)}))}))}},{key:"_isUploadError",value:function(e,t){return ja?t?1:0:null!==e.files[0].error?1:0}},{key:"_formatFileSize",value:function(e){return e<1024?e+"B":e<1048576?Math.floor(e/1024)+"KB":Math.floor(e/1048576)+"MB"}},{key:"_formatSpeed",value:function(e){return e<=1048576?(e/1024).toFixed(1)+"KB/s":(e/1048576).toFixed(1)+"MB/s"}},{key:"_createCosOptionsWeb",value:function(e){var t=this.tim.context.identifier;return{files:[{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"imfiles/".concat(t,"/").concat(e.to,"-").concat(Rs(9999999),"-").concat(e.file.files[0].name),Body:e.file.files[0]}],SliceSize:1048576,onProgress:function(t){if("function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(r){ms.warn("onProgress callback error:"),ms.error(r)}},onFileFinish:function(e,t,n){}}}},{key:"_createCosOptionsWXMiniApp",value:function(e){var t=this.tim.context.identifier,n=e.file.url;return{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"imfiles/".concat(t,"/").concat(e.to,"-").concat(e.file.name),FilePath:n,onProgress:function(t){if(ms.log(JSON.stringify(t)),"function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(n){ms.warn("onProgress callback error:"),ms.error(n)}}}}}]),t}(),Ud=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e))).FILETYPE={SOUND:2106,FILE:2107,VIDEO:2113},n._bdh_download_server="grouptalk.c2c.qq.com",n._BDHBizID=10001,n._authKey="",n._expireTime=0,n.tim.innerEmitter.on(pl.CONTEXT_A2KEY_AND_TINYID_UPDATED,n._getAuthKey,vn(n)),n}return hn(t,wl),cn(t,[{key:"_getAuthKey",value:function(){var e=this,t=this.createPackage({name:"bigDataHallwayAuthKey",action:"query"});this.tim.connectionController.request(t).then((function(t){t.data.authKey&&(e._authKey=t.data.authKey,e._expireTime=parseInt(t.data.expireTime))}))}},{key:"_isFromOlderVersion",value:function(e){return 2!==e.content.downloadFlag?1:0}},{key:"parseElements",value:function(e,t){if(!As(e)||!t)return[];for(var n=[],r=null,o=0;o<e.length;o++)r=e[o],this._needParse(r)?n.push(this._parseElement(r,t)):n.push(e[o]);return n}},{key:"_needParse",value:function(e){return!this._isFromOlderVersion(e)||e.type!==Jt.MSG_AUDIO&&e.type!==Jt.MSG_FILE&&e.type!==Jt.MSG_VIDEO?0:1}},{key:"_parseElement",value:function(e,t){switch(e.type){case Jt.MSG_AUDIO:return this._parseAudioElement(e,t);case Jt.MSG_FILE:return this._parseFileElement(e,t);case Jt.MSG_VIDEO:return this._parseVideoElement(e,t)}}},{key:"_parseAudioElement",value:function(e,t){return e.content.url=this._genAudioUrl(e.content.uuid,t),e}},{key:"_parseFileElement",value:function(e,t){return e.content.url=this._genFileUrl(e.content.uuid,t,e.content.fileName),e}},{key:"_parseVideoElement",value:function(e,t){return e.content.url=this._genVideoUrl(e.content.uuid,t),e}},{key:"_genAudioUrl",value:function(e,t){return""===this._authKey?(ms.warn("BigDataHallwayController._genAudioUrl no authKey!"),""):"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.SOUND,"&openid=").concat(t,"&ver=0")}},{key:"_genFileUrl",value:function(e,t,n){return""===this._authKey?(ms.warn("BigDataHallwayController._genFileUrl no authKey!"),""):(n||(n="".concat(Math.floor(1e5*Math.random()),"-").concat(Date.now())),"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.FILE,"&openid=").concat(t,"&ver=0&filename=").concat(encodeURIComponent(n)))}},{key:"_genVideoUrl",value:function(e,t){return""===this._authKey?(ms.warn("BigDataHallwayController._genVideoUrl no authKey!"),""):"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.VIDEO,"&openid=").concat(t,"&ver=0")}},{key:"reset",value:function(){this._authKey="",this.expireTime=0}}]),t}(),Fd={app_id:"",event_id:"",api_base:"https://pingtas.qq.com/pingd",prefix:"_mta_",version:"1.3.9",stat_share_app:0,stat_pull_down_fresh:0,stat_reach_bottom:0,stat_param:1};function qd(){try{var e="s"+Bd();return wx.setStorageSync(Fd.prefix+"ssid",e),e}catch(n){}}function Bd(e){for(var t=[0,1,2,3,4,5,6,7,8,9],n=10;1<n;n--){var r=Math.floor(10*Math.random()),o=t[r];t[r]=t[n-1],t[n-1]=o}for(n=r=0;5>n;n++)r=10*r+t[n];return(e||"")+(r+"")+ +new Date}function Zd(){try{var e=getCurrentPages(),t="/";return 0<e.length&&(t=e.pop().__route__),t}catch(r){console.log("get current page path error:"+r)}}function Vd(){var e,t={dm:"wechat.apps.xx",url:encodeURIComponent(Zd()+Yd(Kd.Data.pageQuery)),pvi:"",si:"",ty:0};return t.pvi=((e=function(){try{return wx.getStorageSync(Fd.prefix+"auid")}catch(t){}}())||(e=function(){try{var t=Bd();return wx.setStorageSync(Fd.prefix+"auid",t),t}catch(e){}}(),t.ty=1),e),t.si=function(){var e=function(){try{return wx.getStorageSync(Fd.prefix+"ssid")}catch(e){}}();return e||(e=qd()),e}(),t}function Hd(){var e=function(){var e=wx.getSystemInfoSync();return{adt:encodeURIComponent(e.model),scl:e.pixelRatio,scr:e.windowWidth+"x"+e.windowHeight,lg:e.language,fl:e.version,jv:encodeURIComponent(e.system),tz:encodeURIComponent(e.platform)}}();return function(e){wx.getNetworkType({success:function(t){e(t.networkType)}})}((function(e){try{wx.setStorageSync(Fd.prefix+"ntdata",e)}catch(n){}})),e.ct=wx.getStorageSync(Fd.prefix+"ntdata")||"4g",e}function zd(){var e,t=Kd.Data.userInfo,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e+"="+t[e]);return t=n.join(";"),{r2:Fd.app_id,r4:"wx",ext:"v="+Fd.version+(null!==t&&""!==t?";ui="+encodeURIComponent(t):"")}}function Yd(e){if(!Fd.stat_param||!e)return"";e=function(e){if(1>Fd.ignore_params.length)return e;var t,n={};for(t in e)0<=Fd.ignore_params.indexOf(t)||(n[t]=e[t]);return n}(e);var t,n=[];for(t in e)n.push(t+"="+e[t]);return 0<n.length?"?"+n.join("&"):""}var Kd={App:{init:function(e){"appID"in e&&(Fd.app_id=e.appID),"eventID"in e&&(Fd.event_id=e.eventID),"statShareApp"in e&&(Fd.stat_share_app=e.statShareApp),"statPullDownFresh"in e&&(Fd.stat_pull_down_fresh=e.statPullDownFresh),"statReachBottom"in e&&(Fd.stat_reach_bottom=e.statReachBottom),"ignoreParams"in e&&(Fd.ignore_params=e.ignoreParams),"statParam"in e&&(Fd.stat_param=e.statParam),qd();try{"lauchOpts"in e&&(Kd.Data.lanchInfo=e.lauchOpts,Kd.Data.lanchInfo.landing=1)}catch(n){}"autoReport"in e&&e.autoReport&&function(){var e=Page;Page=function(t){var n=t.onLoad;t.onLoad=function(e){n&&n.call(this,e),Kd.Data.lastPageQuery=Kd.Data.pageQuery,Kd.Data.pageQuery=e,Kd.Data.lastPageUrl=Kd.Data.pageUrl,Kd.Data.pageUrl=Zd(),Kd.Data.show=0,Kd.Page.init()},e(t)}}()}},Page:{init:function(){var e,t=getCurrentPages()[getCurrentPages().length-1];t.onShow&&(e=t.onShow,t.onShow=function(){if(1==Kd.Data.show){var t=Kd.Data.lastPageQuery;Kd.Data.lastPageQuery=Kd.Data.pageQuery,Kd.Data.pageQuery=t,Kd.Data.lastPageUrl=Kd.Data.pageUrl,Kd.Data.pageUrl=Zd()}Kd.Data.show=1,Kd.Page.stat(),e.apply(this,arguments)}),Fd.stat_pull_down_fresh&&t.onPullDownRefresh&&function(){var e=t.onPullDownRefresh;t.onPullDownRefresh=function(){Kd.Event.stat(Fd.prefix+"pulldownfresh",{url:t.__route__}),e.apply(this,arguments)}}(),Fd.stat_reach_bottom&&t.onReachBottom&&function(){var e=t.onReachBottom;t.onReachBottom=function(){Kd.Event.stat(Fd.prefix+"reachbottom",{url:t.__route__}),e.apply(this,arguments)}}(),Fd.stat_share_app&&t.onShareAppMessage&&function(){var e=t.onShareAppMessage;t.onShareAppMessage=function(){return Kd.Event.stat(Fd.prefix+"shareapp",{url:t.__route__}),e.apply(this,arguments)}}()},multiStat:function(e,t){if(1==t)Kd.Page.stat(e);else{var n=getCurrentPages()[getCurrentPages().length-1];n.onShow&&function(){var t=n.onShow;n.onShow=function(){Kd.Page.stat(e),t.call(this,arguments)}}()}},stat:function(e){if(""!=Fd.app_id){var t=[],n=zd();if(e&&(n.r2=e),e=[Vd(),n,Hd()],Kd.Data.lanchInfo){e.push({ht:Kd.Data.lanchInfo.scene}),Kd.Data.pageQuery&&Kd.Data.pageQuery._mta_ref_id&&e.push({rarg:Kd.Data.pageQuery._mta_ref_id});try{1==Kd.Data.lanchInfo.landing&&(n.ext+=";lp=1",Kd.Data.lanchInfo.landing=0)}catch(a){}}e.push({rdm:"/",rurl:0>=Kd.Data.lastPageUrl.length?Kd.Data.pageUrl+Yd(Kd.Data.lastPageQuery):encodeURIComponent(Kd.Data.lastPageUrl+Yd(Kd.Data.lastPageQuery))}),e.push({rand:+new Date}),n=0;for(var r=e.length;n<r;n++)for(var o in e[n])e[n].hasOwnProperty(o)&&t.push(o+"="+(void 0===e[n][o]?"":e[n][o]));wx.request({url:Fd.api_base+"?"+t.join("&").toLowerCase()})}}},Event:{stat:function(e,t){if(""!=Fd.event_id){var n=[],r=Vd(),o=zd();r.dm="wxapps.click",r.url=e,o.r2=Fd.event_id;var i,a=void 0===t?{}:t,s=[];for(i in a)a.hasOwnProperty(i)&&s.push(encodeURIComponent(i)+"="+encodeURIComponent(a[i]));for(a=s.join(";"),o.r5=a,a=0,o=(r=[r,o,Hd(),{rand:+new Date}]).length;a<o;a++)for(var u in r[a])r[a].hasOwnProperty(u)&&n.push(u+"="+(void 0===r[a][u]?"":r[a][u]));wx.request({url:Fd.api_base+"?"+n.join("&").toLowerCase()})}}},Data:{userInfo:null,lanchInfo:null,pageQuery:null,lastPageQuery:null,pageUrl:"",lastPageUrl:"",show:0}},Xd=Kd,Wd=function(){function e(){sn(this,e),this.cache=[],this.MtaWX=null,this._init()}return cn(e,[{key:"report",value:function(e,t){var n=this;try{Ga?window.MtaH5?(window.MtaH5.clickStat(e,t),this.cache.forEach((function(e){var t=e.name,r=e.param;window.MtaH5.clickStat(t,r),n.cache.shift()}))):this.cache.push({name:e,param:t}):ja&&(this.MtaWX?(this.MtaWX.Event.stat(e,t),this.cache.forEach((function(e){var t=e.name,r=e.param;n.MtaWX.stat(t,r),n.cache.shift()}))):this.cache.push({name:e,param:t}))}catch(pm){}}},{key:"stat",value:function(){try{Ga&&window.MtaH5?window.MtaH5.pgv():ja&&this.MtaWX&&this.MtaWX.Page.stat()}catch(pm){}}},{key:"_init",value:function(){try{if(Ga){window._mtac={autoReport:0};var e=document.createElement("script"),t=qs();e.src="".concat(t,"//pingjs.qq.com/h5/stats.js?v2.0.4"),e.setAttribute("name","MTAH5"),e.setAttribute("sid","500690998"),e.setAttribute("cid","500691017");var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}else ja&&(this.MtaWX=Xd,this.MtaWX.App.init({appID:"500690995",eventID:"500691014",autoReport:0,statParam:1}))}catch(pm){}}}]),e}(),Jd=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e))).tim=e,n.MTA=new Wd,n._initListener(),n}return hn(t,wl),cn(t,[{key:"_initListener",value:function(){var e=this;this.tim.innerEmitter.on(pl.SDK_READY,(function(){e.MTA.report("sdkappid",{value:e.tim.context.SDKAppID}),e.MTA.report("version",{value:lm.VERSION}),e.MTA.stat()}))}}]),t}(),Qd=function(){function e(t){sn(this,e),this._table="timwebii",this._report=[]}return cn(e,[{key:"pushIn",value:function(e){ms.debug("SSOLogBody.pushIn",this._report.length,e),this._report.push(e)}},{key:"backfill",value:function(e){var t;As(e)&&0!==e.length&&(ms.debug("SSOLogBody.backfill",this._report.length,e.length),(t=this._report).unshift.apply(t,En(e)))}},{key:"getLogsNumInMemory",value:function(){return this._report.length}},{key:"isEmpty",value:function(){return 0===this._report.length}},{key:"_reset",value:function(){this._report.length=0,this._report=[]}},{key:"getTable",value:function(){return this._table}},{key:"getLogsInMemory",value:function(){var e=this._report.slice();return this._reset(),e}}]),e}(),$d=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e))).TAG="im-ssolog-event",n._reportBody=new Qd,n._version=Xt,n.MIN_THRESHOLD=20,n.MAX_THRESHOLD=100,n.WAITING_TIME=6e4,n.INTERVAL=2e4,n._timerID=0,n._resetLastReportTime(),n._startReportTimer(),n._retryCount=0,n.MAX_RETRY_COUNT=3,n.tim.innerEmitter.on(pl.SIGN_LOGIN_SUCCESS,n._onLoginSuccess,vn(n)),n}return hn(t,wl),cn(t,[{key:"reportAtOnce",value:function(){ms.debug("EventStatController.reportAtOnce"),this._report()}},{key:"_onLoginSuccess",value:function(){var e=this,t=this.tim.storage,n=t.getItem(this.TAG,0);Ks(n)||(ms.log("EventStatController._onLoginSuccess get ssolog in storage, nums="+n.length),n.forEach((function(t){e._reportBody.pushIn(t)})),t.removeItem(this.TAG,0))}},{key:"pushIn",value:function(e){e instanceof $l&&(e.setCommonInfo(this.tim.context.SDKAppID,this._version,this.tim.context.tinyID,this.tim.loginInfo.identifier,this.getPlatform()),this._reportBody.pushIn(e),this._reportBody.getLogsNumInMemory()>=this.MIN_THRESHOLD&&this._report())}},{key:"_resetLastReportTime",value:function(){this._lastReportTime=Date.now()}},{key:"_startReportTimer",value:function(){var e=this;this._timerID=setInterval((function(){Date.now()<e._lastReportTime+e.WAITING_TIME||e._reportBody.isEmpty()||e._report()}),this.INTERVAL)}},{key:"_stopReportTimer",value:function(){this._timerID>0&&(clearInterval(this._timerID),this._timerID=0)}},{key:"_report",value:function(){var e=this;if(!this._reportBody.isEmpty()){var t=this._reportBody.getLogsInMemory(),n=this.createPackage({name:"ssoEventStat",action:"create",param:{table:this._reportBody.getTable(),report:t}});this.tim.connectionController.request(n).then((function(){e._resetLastReportTime(),e._retryCount>0&&(ms.debug("EventStatController.report retry success"),e._retryCount=0)})).catch((function(n){if(ms.warn("EventStatController.report, online:".concat(e.getNetworkType()," error:"),n),e._reportBody.backfill(t),e._reportBody.getLogsNumInMemory()>e.MAX_THRESHOLD||e._retryCount===e.MAX_RETRY_COUNT||0===e._timerID)return e._retryCount=0,void e._flushAtOnce();e._retryCount+=1}))}}},{key:"_flushAtOnce",value:function(){var e=this.tim.storage,t=e.getItem(this.TAG,0),n=this._reportBody.getLogsInMemory();if(Ks(t))ms.log("EventStatController._flushAtOnce nums="+n.length),e.setItem(this.TAG,n,1,0);else{var r=n.concat(t);r.length>this.MAX_THRESHOLD&&(r=r.slice(0,this.MAX_THRESHOLD)),ms.log("EventStatController._flushAtOnce nums="+r.length),e.setItem(this.TAG,r,1,0)}}},{key:"reset",value:function(){ms.log("EventStatController.reset"),this._stopReportTimer(),this._report()}}]),t}(),em="none",tm="online",nm=function(){function e(){sn(this,e),this._networkType="",this.maxWaitTime=3e3}return cn(e,[{key:"start",value:function(){var e=this;ja?(wx.getNetworkType({success:function(t){e._networkType=t.networkType,t.networkType===em?ms.warn("NetMonitor no network, please check!"):ms.info("NetMonitor networkType:".concat(t.networkType))}}),wx.onNetworkStatusChange(this._onWxNetworkStatusChange.bind(this))):this._networkType=tm}},{key:"_onWxNetworkStatusChange",value:function(e){this._networkType=e.networkType,e.isConnected?ms.info("NetMonitor networkType:".concat(e.networkType)):ms.warn("NetMonitor no network, please check!")}},{key:"probe",value:function(){var e=this;return new Promise((function(t,n){if(ja)wx.getNetworkType({success:function(n){e._networkType=n.networkType,n.networkType===em?(ms.warn("NetMonitor no network, please check!"),t(0,n.networkType)):(ms.info("NetMonitor networkType:".concat(n.networkType)),t(1,n.networkType))}});else{var r=new XMLHttpRequest,o=setTimeout((function(){ms.warn("NetMonitor fetch timeout. Probably no network, please check!"),r.abort(),e._networkType=em,t(0,em)}),e.maxWaitTime);r.onreadystatechange=function(){4===r.readyState&&(clearTimeout(o),200===r.status||304===r.status?(this._networkType=tm,t(1,tm)):(ms.warn("NetMonitor fetch status:".concat(r.status,". Probably no network, please check!")),this._networkType=em,t(0,em)))},r.open("GET","".concat(qs(),"//webim-1252463788.file.myqcloud.com/assets/test/speed.xml?random=").concat(Math.random())),r.send()}}))}},{key:"getNetworkType",value:function(){return this._networkType}},{key:"reset",value:function(){this._networkType=""}}]),e}(),rm=function(){function e(t){var n=this;sn(this,e),As(t)?(this._map=new Map,t.forEach((function(e){n._map.set(e,[])}))):ms.warn("AverageCalculator.constructor need keys")}return cn(e,[{key:"push",value:function(e,t){return!Is(e)&&this._map.has(e)&&_s(t)?(this._map.get(e).push(t),1):0}},{key:"getSize",value:function(e){return Is(e)||!this._map.has(e)?-1:this._map.get(e).length}},{key:"getAvg",value:function(e){if(Is(e)||!this._map.has(e))return-1;var t=this._map.get(e),n=t.length;if(0===n)return 0;var r=0;return t.forEach((function(e){r+=e})),t.length=0,this._map.set(e,[]),parseInt(r/n)}},{key:"getMax",value:function(e){return Is(e)||!this._map.has(e)?-1:Math.max.apply(null,this._map.get(e))}},{key:"getMin",value:function(e){return Is(e)||!this._map.has(e)?-1:Math.min.apply(null,this._map.get(e))}},{key:"reset",value:function(){this._map.forEach((function(e){e.length=0}))}}]),e}(),om=function(){function e(t){var n=this;sn(this,e),As(t)?(this._map=new Map,t.forEach((function(e){n._map.set(e,{totalCount:0,successCount:0})}))):ms.warn("SuccessRateCalculator.constructor need keys")}return cn(e,[{key:"addTotalCount",value:function(e){return Is(e)||!this._map.has(e)?0:(this._map.get(e).totalCount+=1,1)}},{key:"addSuccessCount",value:function(e){return Is(e)||!this._map.has(e)?0:(this._map.get(e).successCount+=1,1)}},{key:"getSuccessRate",value:function(e){if(Is(e)||!this._map.has(e))return-1;var t=this._map.get(e);if(0===t.totalCount)return 1;var n=parseFloat((t.successCount/t.totalCount).toFixed(2));return t.totalCount=t.successCount=0,n}},{key:"getTotalCount",value:function(e){return Is(e)||!this._map.has(e)?-1:this._map.get(e).totalCount}},{key:"reset",value:function(){this._map.forEach((function(e){e.totalCount=0,e.successCount=0}))}}]),e}(),im=function(e){function t(e){var n;return sn(this,t),(n=_n(this,dn(t).call(this,e))).TABLE="timwebsum",n.TAG="im-ssolog-sumstat",n._items=[Ql.LONG_POLLING,Ql.LONG_POLLING_AV,Ql.SEND_MESSAGE],n._thresholdMap=new Map,n._thresholdMap.set(Ql.LONG_POLLING,100),n._thresholdMap.set(Ql.LONG_POLLING_AV,150),n._thresholdMap.set(Ql.SEND_MESSAGE,15),n._lpID="",n._platform=n.getPlatform(),n._lastReportTime=0,n._statInfoArr=[],n._retryCount=0,n._avgCalc=new rm(n._items),n._successRateCalc=new om(n._items),n.tim.innerEmitter.on(pl.SIGN_LOGIN_SUCCESS,n._onLoginSuccess,vn(n)),n}return hn(t,wl),cn(t,[{key:"_onLoginSuccess",value:function(){var e=this,t=this.tim.storage,n=t.getItem(this.TAG,0);Ks(n)||(ms.log("SumStatController._onLoginSuccess get sumstatlog in storage, nums="+n.length),n.forEach((function(t){e._statInfoArr.pushIn(t)})),t.removeItem(this.TAG,0))}},{key:"recordLongPollingID",value:function(e){this._lpID=e}},{key:"addTotalCount",value:function(e){this._successRateCalc.addTotalCount(e)?1===this._successRateCalc.getTotalCount(e)&&(this._lastReportTime=Date.now()):ms.warn("SumStatController.addTotalCount invalid key:",e)}},{key:"addSuccessCount",value:function(e){this._successRateCalc.addSuccessCount(e)||ms.warn("SumStatController.addSuccessCount invalid key:",e)}},{key:"addCost",value:function(e,t){this._avgCalc.push(e,t)?(ms.debug("SumStatController.addCost",e,t,this._avgCalc.getSize(e)),this._avgCalc.getSize(e)>=this._thresholdMap.get(e)&&this._report(e)):ms.warn("SumStatController.addCost invalid key or cost:",e,t)}},{key:"_getItemNum",value:function(e){switch(e){case Ql.LONG_POLLING:return 1;case Ql.LONG_POLLING_AV:return 2;case Ql.SEND_MESSAGE:return 3;default:return 100}}},{key:"_getStatInfo",value:function(e){var t=null;return this._avgCalc.getSize(e)>0&&(t={SDKAppID:"".concat(this.tim.context.SDKAppID),version:"".concat(Xt),tinyID:this.tim.context.tinyID,userID:this.tim.loginInfo.identifier,item:this._getItemNum(e),lpID:e===Ql.LONG_POLLING?this._lpID:"",platform:this._platform,networkType:this.getNetworkType(),total:this._successRateCalc.getTotalCount(e),successRate:this._successRateCalc.getSuccessRate(e),avg:this._avgCalc.getAvg(e),timespan:Date.now()-this._lastReportTime,time:Ps()}),t}},{key:"_report",value:function(e){var t=this,n=[],r=null;Is(e)?this._items.forEach((function(e){null!==(r=t._getStatInfo(e))&&n.push(r)})):null!==(r=this._getStatInfo(e))&&n.push(r),ms.debug("SumStatController._report",n),this._statInfoArr.length>0&&(n=n.concat(this.statInfoArr),this._statInfoArr=[]),this._doReport(n)}},{key:"_doReport",value:function(e){var t=this;if(Ks(e))ms.warn("SumStatController._doReport statInfoArr is empty, do nothing");else{var n=this.createPackage({name:"ssoSumStat",action:"create",param:{table:this.TABLE,report:e}});this.tim.connectionController.request(n).then((function(){t._lastReportTime=Date.now(),t._retryCount>0&&(ms.debug("SumStatController._doReport retry success"),t._retryCount=0)})).catch((function(n){ms.warn("SumStatController._doReport, online:".concat(t.getNetworkType()," error:"),n,e),t._retryCount<=1?setTimeout((function(){ms.info("SumStatController._doReport retry",e),t._retryCount+=1,t._doReport(e)}),5e3):(t._retryCount=0,t._statInfoArr=t._statInfoArr.concat(e),t._flusgAtOnce())}))}}},{key:"_flushAtOnce",value:function(){var e=this.tim.storage,t=e.getItem(this.TAG,0),n=this._statInfoArr;if(Ks(t))ms.log("SumStatController._flushAtOnce nums="+n.length),e.setItem(this.TAG,n,1,0);else{var r=n.concat(t);r.length>10&&(r=r.slice(0,10)),ms.log("SumStatController._flushAtOnce nums="+r.length),e.setItem(this.TAG,r,1,0)}this._statInfoArr=[]}},{key:"reset",value:function(){ms.info("SumStatController.reset"),this._report(),this._avgCalc.reset(),this._successRateCalc.reset()}}]),t}(),am=function(){function e(t){sn(this,e);var n=new $l;n.setMethod(ep.SDK_CONSTRUCT).setStart(),Sl.mixin(this),this._initOptions(t),this._initMemberVariables(),this._initControllers(),this._initListener(),$l.bindController(this.eventStatController),n.setCode(0).setText("mp=".concat(ja,"-ua=").concat(Ua)).setEnd(),ms.info("SDK inWxMiniApp:".concat(ja,", SDKAppID:").concat(t.SDKAppID,", UserAgent:").concat(Ua))}return cn(e,[{key:"login",value:function(e){return ms.time(Ql.SDK_READY),this._ssoLog=new $l,this._ssoLog.setMethod(ep.SDK_READY).setStart(),this.netMonitor.start(),this.loginInfo.identifier=e.identifier||e.userID,this.loginInfo.userSig=e.userSig,this.signController.login(this.loginInfo)}},{key:"logout",value:function(){var e=this.signController.logout();return this.resetSDK(),e}},{key:"on",value:function(e,t,n){ms.debug("on","eventName:".concat(e)),this.outerEmitter.on(e,zs(t,n),n)}},{key:"once",value:function(e,t,n){ms.debug("once","eventName:".concat(e)),this.outerEmitter.once(e,t,n||this)}},{key:"off",value:function(e,t,n,r){ms.debug("off","eventName:".concat(e)),this.outerEmitter.off(e,t,n,r)}},{key:"registerPlugin",value:function(e){var t=this;this.plugins||(this.plugins={}),Object.keys(e).forEach((function(n){t.plugins[n]=e[n]}))}},{key:"getPlugin",value:function(e){return this.plugins[e]||void 0}},{key:"setLogLevel",value:function(e){e<=0&&console.log([""," ________  ______  __       __  __       __  ________  _______","|        \\|      \\|  \\     /  \\|  \\  _  |  \\|        \\|       \\"," \\$$$$$$$$ \\$$$$$$| $$\\   /  $$| $$ / \\ | $$| $$$$$$$$| $$$$$$$\\","   | $$     | $$  | $$$\\ /  $$$| $$/  $\\| $$| $$__    | $$__/ $$","   | $$     | $$  | $$$$\\  $$$$| $$  $$$\\ $$| $$  \\   | $$    $$","   | $$     | $$  | $$\\$$ $$ $$| $$ $$\\$$\\$$| $$$$$   | $$$$$$$\\","   | $$    _| $$_ | $$ \\$$$| $$| $$$$  \\$$$$| $$_____ | $$__/ $$","   | $$   |   $$ \\| $$  \\$ | $$| $$$    \\$$$| $$     \\| $$    $$","    \\$$    \\$$$$$$ \\$$      \\$$ \\$$      \\$$ \\$$$$$$$$ \\$$$$$$$","","参考以下文档，会更快解决问题哦！(#^.^#)\n","SDK 更新日志: https://cloud.tencent.com/document/product/269/38492\n","SDK 接口文档: https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html\n","常见问题: https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/tutorial-01-faq.html\n","反馈问题？戳我提 issue: https://github.com/tencentyun/TIMSDK/issues\n","如果您需要在生产环境关闭上面的日志，请 tim.setLogLevel(1)\n"].join("\n")),ms.setLevel(e)}},{key:"downloadLog",value:function(){var e=document.createElement("a"),t=new Date,n=new Blob(this.getLog());e.download="TIM-"+t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+"-"+this.loginInfo.SDKAppID+"-"+this.context.identifier+".txt",e.href=URL.createObjectURL(n),e.click(),URL.revokeObjectURL(n)}},{key:"destroy",value:function(){this.logout(),this.outerEmitter.emit(Wt.SDK_DESTROY,{SDKAppID:this.loginInfo.SDKAppID})}},{key:"createTextMessage",value:function(e){return this.messageController.createTextMessage(e)}},{key:"createImageMessage",value:function(e){return this.messageController.createImageMessage(e)}},{key:"createAudioMessage",value:function(e){return this.messageController.createAudioMessage(e)}},{key:"createVideoMessage",value:function(e){return this.messageController.createVideoMessage(e)}},{key:"createCustomMessage",value:function(e){return this.messageController.createCustomMessage(e)}},{key:"createFaceMessage",value:function(e){return this.messageController.createFaceMessage(e)}},{key:"createFileMessage",value:function(e){return this.messageController.createFileMessage(e)}},{key:"sendMessage",value:function(e){return e instanceof $h?this.messageController.sendMessageInstance(e):Jl(new rl({code:el.MESSAGE_SEND_NEED_MESSAGE_INSTANCE,message:tl.MESSAGE_SEND_NEED_MESSAGE_INSTANCE}))}},{key:"resendMessage",value:function(e){return this.messageController.resendMessage(e)}},{key:"getMessageList",value:function(e){return this.messageController.getMessageList(e)}},{key:"setMessageRead",value:function(e){return this.messageController.setMessageRead(e)}},{key:"getConversationList",value:function(){return this.conversationController.getConversationList()}},{key:"getConversationProfile",value:function(e){return this.conversationController.getConversationProfile(e)}},{key:"deleteConversation",value:function(e){return this.conversationController.deleteConversation(e)}},{key:"getMyProfile",value:function(){return this.userController.getMyProfile()}},{key:"getUserProfile",value:function(e){return this.userController.getUserProfile(e)}},{key:"updateMyProfile",value:function(e){return this.userController.updateMyProfile(e)}},{key:"getFriendList",value:function(){return this.userController.getFriendList()}},{key:"deleteFriend",value:function(e){return this.userController.deleteFriend(e)}},{key:"getBlacklist",value:function(){return this.userController.getBlacklist()}},{key:"addToBlacklist",value:function(e){return this.userController.addBlacklist(e)}},{key:"removeFromBlacklist",value:function(e){return this.userController.deleteBlacklist(e)}},{key:"getGroupList",value:function(e){return this.groupController.getGroupList(e)}},{key:"getGroupProfile",value:function(e){return this.groupController.getGroupProfile(e)}},{key:"createGroup",value:function(e){return this.groupController.createGroup(e)}},{key:"dismissGroup",value:function(e){return this.groupController.dismissGroup(e)}},{key:"updateGroupProfile",value:function(e){return this.groupController.updateGroupProfile(e)}},{key:"joinGroup",value:function(e){return this.groupController.joinGroup(e)}},{key:"quitGroup",value:function(e){return this.groupController.quitGroup(e)}},{key:"searchGroupByID",value:function(e){return this.groupController.searchGroupByID(e)}},{key:"changeGroupOwner",value:function(e){return this.groupController.changeGroupOwner(e)}},{key:"handleGroupApplication",value:function(e){return this.groupController.handleGroupApplication(e)}},{key:"setMessageRemindType",value:function(e){return this.groupController.setMessageRemindType(e)}},{key:"getGroupMemberList",value:function(e){return this.groupController.getGroupMemberList(e)}},{key:"getGroupMemberProfile",value:function(e){return this.groupController.getGroupMemberProfile(e)}},{key:"addGroupMember",value:function(e){return this.groupController.addGroupMember(e)}},{key:"deleteGroupMember",value:function(e){return this.groupController.deleteGroupMember(e)}},{key:"setGroupMemberMuteTime",value:function(e){return this.groupController.setGroupMemberMuteTime(e)}},{key:"setGroupMemberRole",value:function(e){return this.groupController.setGroupMemberRole(e)}},{key:"setGroupMemberNameCard",value:function(e){return this.groupController.setGroupMemberNameCard(e)}},{key:"setGroupMemberCustomField",value:function(e){return this.groupController.setGroupMemberCustomField(e)}},{key:"_initOptions",value:function(e){this.plugins={},this.loginInfo={SDKAppID:e.SDKAppID||null,accountType:Rs(),identifier:null,userSig:null},this.options={runLoopNetType:e.runLoopNetType||Fl,enablePointer:e.enablePointer||0}}},{key:"_initMemberVariables",value:function(){this.context=null,this.innerEmitter=new Ld,this.outerEmitter=new Ld,Xl(this.outerEmitter),this.packageConfig=new kd(this),this.storage=new xd(this),this.netMonitor=new nm,this.outerEmitter._emit=this.outerEmitter.emit,this.outerEmitter.emit=function(e,t){var n=arguments[0],r=[n,{name:arguments[0],data:arguments[1]}];ms.debug("emit ".concat(n),r[1]),this.outerEmitter._emit.apply(this.outerEmitter,r)}.bind(this)}},{key:"_initControllers",value:function(){this.exceptionController=new _h(this),this.connectionController=new gh(this),this.contextController=new Cl(this),this.signController=new tp(this),this.messageController=new bd(this),this.conversationController=new id(this),this.userController=new Dh(this),this.groupController=new Td(this),this.notificationController=new Gd(this),this.bigDataHallwayController=new Ud(this),this.statusController=new Dd(this),this.uploadController=new jd(this),this.eventStatController=new $d(this),this.sumStatController=new im(this),this.mtaReportController=new Jd(this),this._initReadyListener()}},{key:"_initListener",value:function(){var e=this;if(this.innerEmitter.on(pl.NOTICE_LONGPOLL_LONG_RECONNECT,this._onNoticeChannelReconnectedAfterLongTime,this),ja&&"function"==typeof wx.onAppShow&&"function"==typeof wx.onAppHide){var t=null;wx.onAppHide((function(){(t=new $l).setMethod(ep.MP_HIDE_TO_SHOW).setStart()})),wx.onAppShow((function(){null!==t&&t.setCode(0).setNetworkType(e.netMonitor.getNetworkType()).setEnd()}))}}},{key:"_initReadyListener",value:function(){for(var e=this,t=this.readyList,n=0,r=t.length;n<r;n++)this[t[n]].ready((function(){return e._readyHandle()}))}},{key:"_onNoticeChannelReconnectedAfterLongTime",value:function(e){ms.log("reconnect after long time...",e),this.notificationController.closeNoticeChannel(),this.resetSDK(),this.login(this.loginInfo)}},{key:"resetSDK",value:function(){var e=this;this.initList.forEach((function(t){e[t].reset&&e[t].reset()})),this.netMonitor.reset(),this.storage.reset(),this.resetReady(),this._initReadyListener(),this.outerEmitter.emit(Wt.SDK_NOT_READY)}},{key:"_readyHandle",value:function(){for(var e=this.readyList,t=1,n=0,r=e.length;n<r;n++)if(!this[e[n]].isReady()){t=0;break}if(t){var o=ms.timeEnd(Ql.SDK_READY);ms.warn("SDK is ready. cost=".concat(o,"ms")),this.triggerReady(),this.innerEmitter.emit(pl.SDK_READY),this.outerEmitter.emit(Wt.SDK_READY),this._ssoLog.setCode(0).setNetworkType(this.netMonitor.getNetworkType()).setText(o).setEnd()}}}]),e}();am.prototype.readyList=["conversationController"],am.prototype.initList=["exceptionController","connectionController","signController","contextController","messageController","conversationController","userController","groupController","notificationController","eventStatController","sumStatController"];var sm={login:"login",on:"on",off:"off",ready:"ready",setLogLevel:"setLogLevel",joinGroup:"joinGroup",quitGroup:"quitGroup",registerPlugin:"registerPlugin"};function um(e,t,n){if(e||void 0!==sm[t])return 1;n.innerEmitter.emit(pl.ERROR_DETECTED,new rl({code:el.SDK_IS_NOT_READY,message:"".concat(tl.SDK_IS_NOT_READY," ").concat(t)}))}var cm={},lm={create:function(e){if(e.SDKAppID&&cm[e.SDKAppID])return cm[e.SDKAppID];ms.log("TIM.create");var t=new am(e);t.on(Wt.SDK_DESTROY,(function(e){cm[e.data.SDKAppID]=null,delete cm[e.data.SDKAppID]}));var n=function(e){var t=Object.create(null);return Object.keys(Qs).forEach((function(n){if(e[n]){var r=Qs[n],o=new Sn;t[r]=function(){var t=Array.from(arguments);return o.use((function(t,r){if(um(e.isReady(),n,e))return r()})).use((function(e,t){if(1==Xs(e,Js[n],r))return t()})).use((function(t,r){return e[n].apply(e,t)})),o.run(t)}}})),t}(t);return cm[e.SDKAppID]=n,ms.log("TIM.create ok"),n}};return lm.TYPES=Jt,lm.EVENT=Wt,lm.VERSION=Xt,ms.log("TIM.VERSION: ".concat(lm.VERSION)),lm}))}).call(this,n("c8ba"))},e3eb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAABYlBMVEX///+ampqdnZ2Xl5eWlpabm5uZmZlHcEyXl5ebm5uZmZmXl5eXl5eWlpaXl5eVlZWYmJiXl5eXl5eYmJiqqqqYmJiWlpaZmZmZmZmAgICZmZmZmZmbm5uZmZmAgICZmZmYmJiXl5eSkpKXl5eZmZmZmZmZmZmZmZmZmZmZmZmZmZkAAACZmZmXl5ebm5uWlpaZmZmZmZmZmZmYmJiZmZmampqZmZmZmZmZmZmZmZmhoaGYmJiZmZmXl5eZmZmkpKSXl5eWlpa/v7+ZmZmbm5ufn5+bm5uqqqqampqZmZmYmJiZmZmampqZmZmZmZmcnJyampqampqampqfn5+Xl5eZmZmZmZmampqZmZmbm5uXl5eZmZmZmZmYmJienp6ZmZmampqXl5eZmZmZmZmXl5eYmJicnJyZmZmYmJiZmZmYmJiampqampqZmZmZmZmZmZmampqbm5uqqqqXl5eZmZmYmJgATI55AAAAc3RSTlMDJhry8Tj7AOcpBaTYVdwML31R/gaK6u/QAkEeHPwEjmisDvHOKN6E+vLpAYDqRf0PUDzi2knoIwr5Gz7Iol8OpicEo14YSglq1KHw4Pj1LIh0/hBb2PYrnUAb/q1SFTc6+5biFjk+fyWepL8162nt5SEDhhFJLQAAAitJREFUSMe91mdz2kAQBmAXYI0AUwwoOME2dgK499jpvffee+/lXv3/7B3y5JSM0EqZyfvlZhg9I+2exN7AQMJQgvwzcwq5/LDqk+F8ruD8ySqjSpDRSoA1amNKlLFaw2I1/qVeLhX71VMslRf5stpvVuF7taYjG5Ed0fer7DCH62rNi9Qy1+f4rMBPKLtXaqmuVMFnOaXKMpWmslI5n+WVKgkVlZTK+4x3uShUVOR99xn3R6r8i2XMUjGYraLZtYWzejl/0VZh7MYuk89EHVw+R3RyHZ6lwtgkTMaJqnewQHQ6qMLY00FOVzN6MnudspcQUH1rO4Dxn67r3nXdJuBddc+I2QSQyTDCo8xNDEWy15OcpmHceWAmTfsF7I3fEma8X8Am0ZyAreL7FGeI2RV4QHtjoylgU/hk1glYiWbv8NGs98Cdvw28396WPORLfNjHec7dSKV3A3tI1JLHvcd6wd340n4FrLfbktru7+XMQql4tZkvhVlqrVqtbgE/eKmKXq7siKd3mdOrLZBQxrvs4etcRke/YTorkUx/yx42v9m14VYU02qmi2db+gN6ALzV62Ajghl1CnhIcWrTdXld4ALFYb26gMMn4jDzz7a6dujgzjUrnc6xSBb4PwzLX0ykLNYbHTJljQ4zqGTKHlR6LAqVPRZ5CC8K1bQ1hB1zlJGo+ZY18ukoq+Ulwb1a9gGD6LjsOFMPHmeocSTR4SnhUS3xwfB/nV4T5RcygHZwXa+sLAAAAABJRU5ErkJggg=="},e7b3:function(e,t,n){e.exports=n.p+"img/recordPause.02f1f3f2.png"},ee49:function(e,t,n){},f438:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAMAAAC4uKf/AAADAFBMVEVHcEz/cY7/a4j/a4j/gID/aor/aYP/a4j/a4j/mZn/aoj/aoj/bYn/a4j/a4f/aYf/a4n/a4j/aon/a4n/a4b/a4n/a4j/a4j/qqr/cI7/aoX/W1v+bIj+bIj/Zmb/a4j/bIj/Var/bIn/a4j/bIj/a4j/a4j/a4j/a4n/bYb/a4j/a4j/a4j/aIT/boj/a4j/a4j/bYn/a4n/bIn/a4n/aID/a4j/bIn/a4j/aof/bIj/a4j/a4j/a4j/aoj/a4f/bYn/a4j/aYj/g6r/a4j/a4j/a4j/bIf/bIj/aoj/aof/bIj/bIn/Zpn8bIf4dZH/jqn/bIj2cIz/UZD3dI/8haD+iaX/mcz/bIv/bIP2bYj2cIz2b4v3b4r3co37g5/5c474dpL2b4r5fJf8hqL/fJv/bYn2cIv3cYz2cIv2bIb2bYn2co32bon1aYX/gJn2cIz2bor/jan5d5T4dpL7c5D5eZX7gp38hJ/2a4f1a4b1bIf2bYn/i6j/jar3b4v3eJT9i6f+iqf8hqH6e5f/eJf8fJb9jKn8hqL/jan6fJf9h6P7e5b6gp//jKn1bIn2bon7gp72bon2bIj1cIr0bYjzgJf2bojzaon7gp7/apX6e5f+i6b1bIX/d4j7gZz7hJ/1bIb2bIb2b4r9gZv2cIv1cIv3cIz4e5f1bIf3cIz2co32b4v8g57yaYP5epb8gp7/gJf6fZr2a4f8hJ/7gp33dI/7gJz4e5b5d5P5dZH3d5L6fZn5fpr6gJz4dJD5gJv7fpr+iaX5eJX5fZj6fJf4eJT4d5L5epb5fJj6fZj3dZD/aon/a4j1bon1bYj1b4r9i6f2cYz2co38haH8h6P4dZD8iKT9jKj2c479iqb7g5/7hKD0bIf4eZT8hqL4eJP3dpH3dI/8iaX6gJz2cIv7gZ31bIf5fJj3d5L5fZn5e5f0a4b3dpL4eJT3c476f5v6fpr1cIv7gp72cIz3dZD7hJ/5epX9jKn7hqL4d5P2co74d5L9iaX9iqf1bog8APRHAAAA13RSTlMACe6wAhgK/IUF/sc27+ARy+GLmCZK9WsDEAcDEy0F+ocDNHJa0Pu9txW69I8bHvinOPxQtRZpTvdxR57zsuvEJ99LDMH+s1O2eDX5hgUc+6dcHAH6+sMFISHn+vrz+vor+ogywwtbdEHMqjd4jCUP4v6RiI8f9fr8+OT99hHptuqZ9frwGCJ8p+N9+kGDpzSkts54u48WpymuDJPDgg/68O3G/Gnv72SVgL2m/PAn9rIWNcWg2env6a+uhfiwmnUutsd/+87M8Vqrjbps/////////////V7PwWMAAAbGSURBVGjevZp3XBNJFMeHBQkmEBJIgjTpRUApIr13BPWU0wPLWc529l4/et6pZzm93nvvvffe7x5BwNOAIEUEFRuCesqV2U1QAmFmkyz7/gh8PjObb2Z25s3vvXkI8Tc7VX6ha4Eik9FIJBomU1HgWpivskPCm726OEcDJkyTU6y2F5I0xC0sAX9vrjLPxS3Lv9TdxtPTxr3UP8vNJU+ZixsSwtyGCEPyCAyRAEhkDmpnU83OagcZ2x4S6GE1aoQDAxAcOtGL1MlrYmgwAOMwwirUyIhwgKAAHnM0JCAIIDxipMWoMa6RILV15Nvd0VYKka5jLELZxTEgifI25xHvKAkwcRZshrEKgFiVuU+pYgEU/mY+NNwlBpSjLZmQ0UqIcRluzhOjZODja+FWnefrA7JR/PvHMyCPtnwNR8uBiefb2UEKts7W7BhnW5A68OrplwxFidb6gsQiSPajd7NJhZQk651cUgqk2tA6uadDmiMSwBzTIN2dMq50kGcI48Az5JBOHJtfKsjHC3UwjZdDKum9JUNaBhLMMtIgmbDmIcURCWiOKTDgDoiXFiUhQS2pSDrA7h7FQCIS2BKBMem5hsvAVnihZAsyU17ZBeTOwsOc5eBi4vyK8YlGg2DRPjFj+53LCvBFg2K+oOh7dseB0n5wYPZKiOujbRignMvDdu3Zusqi3zMaGGMV5AqxFNYNlw8fPnC7RWOLBVcjfRgpUfFgHbhjmCUwlSSyt56MgCg+rBrLYCgKInpp7HCpNx9WjWXTiLyl4SN6OWBbMkuPap4yz2I/cs0hezBAcvbD7mZZ/9bUfL/lJmxD9Wae+wemJ8YJhCAK6zDLaj506NDBg0ePVlcfOXKxdsNbH727fx/fMCkIAg3/hUAAod+uy9y4/mluvs6qrb1w4cLx48eOffL1LbxgARBiiHYkwaSYaA/3voxYF2tZFGadO3/+3Hff8oldgyV6xp8QSuq3lZtCA+vvnnFxqHMYdvLkj7/zmMxQcOP+hsF8UrdV3EJkUb3mkB2XgdXW1vbTnVTYRAjjHGWChBjDznsSzyG3Nu7avn375Mkzsa1f/8xxPavtZNupU6c+pb45L0kC61jVICP3y55imMLdvf2H3Zb3X/zqSzwuzLp0aQeVJgM1/iwGWgyQPYVjHa3e3ddbee3dwbHq67fRZtIBivFnDoek0AxLY3+/pvd+41hnGn4eR/4ONeTg6dDk0qVH9lzMqj5y8dmS/m17OdaV7tUUMZKrsUMqUPLYJ9lzWVbtTFM//9czZxpOdJ+ePYv8FUpQoXzIQ7xomFX7mMm2HxqunDjd2Pg5+RvyIB8VmpJapmgfbqi972GTTSWfdWNW11/koblAIRYEbnyVy/KBWnb+0tjV2NW0hvi4GxYHBZBlvYL6orGrq0n3MTGwzYICpAB/62E7JzQ16Zp0i0l9/EGBMqFMAHH4R5Pu7NWqJaQuZZCJnMBdANg3Op2uquoNYrQOTkgDNgLA9umuVlVV3koM10GDJOApAGwty2pZQeriCRKBYE9jVmfnSzSYMNO4vLKys6XjZdo0MoIskLWYVVGxgrxAGLz0SwWALWzBrAriAinFS1+QTY2WYFZ5+b20TS2Iu0Kv43GVaxfQ3BV/R0ywSW/icZVr76E5Yr5HDNGWYpZWO9WOdsTwPDzJA5tRXv6ftm4p9fDkJwuIZncbO67WzW9TZQEvwUO2ORyrbhFd8PCRcmR7ZSXLat24jC7leIhU8hzOWanVauta21/jI1Kp8pu8Nrj3hVkfePKR37TAghh2zZmhf1/tm8bzCixoIRNrQ41sHGuPT1q44MEXyrlx1bU/N4tfyIS3NjEYRDZPrOME9oluLA5ZFXUWK4DKypYO1h+yw2pt30S9+eoJBilhLnqVE/MNrOjFqCYdpwBaOjsqOLfBjut5asb8WphLCeBL3qmvx6jrrCp2XB0dFT1TuPEp+g3WtQCekpooWYfH1Y9Vwbl5zNq8aJlZqQlK0mVNgz5w6GHh18WdXv/h9zX1oUfNTLpQ0kkeq7fNxjbhRmw3Y5s2bdr06dNnTL3/kQcW+/HbIr3SSdREmbVmlCijpgCtNKMUID25aZX1SW7S07bWWJ+0LY+EtOXWLyEtaqpd3EsEUa9HxL34EfdKS9TLukG5hvSRxg+sgMS7YBX36ljcS3FRr/vFLWQQt0QDoXEiFp8gUctqkLgFQ9aVQtmbWQolbpEXsqp8bawFIaWIhXlI1JJDTk+KV0zJKXN9meh8EcpEubhCvAJY/RwZlfaW6Ut7ywajtNewVdW+IhUt92wGQzm2E1uO7WRBOfb/ZUOGOOY6mAUAAAAASUVORK5CYII="},fa5d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAASCAMAAABLoI/KAAAAolBMVEVHcEz1bon/i6f0aIP/AP/5ZoD/gID9jqv/jqn9i6f3bIf/Zpn3c475eJX8haP5e5f6fZn6gJr/Var8iKT3co35eJP8hKD6gZ38h6P2co37haH5fpr9iaX9jKj1b4r1cIv1bYj0aoX6gJv6g577g5/3d5P5fJf7hqL3dZD4epX5e5f3dI/5fJj3dJD4eZX6gZz4eZT3dpL3d5L5fpn7gp76gJwVLFeXAAAAGHRSTlMAz1GzASgCjI7+QgXgo1bc8vYD3WBVptl/T92mAAAAVklEQVQI1xXM1wJCAABA0UtGioiUmZmR2fD/v4aX83gASQWOMYhaxNnxPC51EHAviz+Pacm5huEPq6/emO04Y7y+H9xm6LB134db8gRFSLfllG1w2JFXGy8F/tM2anEAAAAASUVORK5CYII="},fb68:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAsVBMVEX///+ZmZmampqZmZmZmZmZmZmVlZVHcEyZmZmZmZmampqAgICZmZmZmZmampqZmZmqqqqZmZmfn5+ZmZmampqZmZmXl5eZmZmdnZ2ZmZmZmZmZmZmZmZmZmZmAgICZmZmenp6ZmZmZmZmZmZmZmZmbm5uampqkpKSYmJiZmZmampqZmZmYmJiZmZmXl5eZmZmZmZmZmZmbm5uampqZmZmZmZmbm5uZmZmZmZmampqZmZmbJuKvAAAAOnRSTlMD/JOyhUEMAPL4KwaP1MdsBnYQz3m8G4cN8/XtZPkCgBW7Rv3kHP4OkAVyoPYKO9LxrWEm2sYuVfrqKX5R6wAAAV9JREFUSMftltdywyAQRW1ZBfXimurETu+97P9/WFaSoyBYGImnOJP7oJGAM4sW9sJgYCjPQNuFBVHMgBKLo0CFhdYQ1BpaIYmFU9BrGlKYhT0jxyV/w3VG2GsRWIAznGgSMMF5BjIWYSxt4jBeJGMxgKPFHIBYxjDzrhZzcR1kDH+5/rL9n+T5NjesGUFirQVnnTHDaEr9Juw/k1uFdS0cewdYkmZ9y7Re1vGspylgtIrLeltQkeOOSA0MLwdIJHutu26v1fZalOkRzbzqeb7XmXk5Sjw6ytf3B+3R0cKaRb28OAO4edIvvYSdvuLz5c3rh60+8fF47vXE1gAfV5vP+e68KwZwcqfavypsD1uOj6htv3GLyigkbP/AXx6S1cI4W5Iwb7FQFJk2miAMUcit/OYilQDkciu3lWmlOKtciNcqHFrZmL5tfJepSjOSa0xBHS9NhBsVb0F/9z5ppC9y6rTWUsk9pwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-88821aae.36794c33.js.map